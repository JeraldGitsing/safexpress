"use strict";(self.webpackChunkstartng=self.webpackChunkstartng||[]).push([[783],{8783:(I,g,i)=>{i.r(g),i.d(g,{DashboardModule:()=>S,routes:()=>f});var p=i(6814),y=i(2787),u=i(6223),x=i(3362),h=i(5979),b=i(1636),D=i(8823),o=i(5861),e=i(9212),Z=i(2425),m=i(9862),T=i(3519),l=i.n(T);let _=(()=>{class n{constructor(t){this.http=t}getItemImg(t){return this.http.get(localStorage.getItem("Server2")+"/getdata?sku="+t)}QuerySender(t){let a="";return a=t,this.http.get(localStorage.getItem("Server")+"/SQLCommandQuery?dbName=GTI_WMS_DB"+a)}modDataOnly(t){return this.http.get(localStorage.getItem("Server")+"/DataInQuery?dbName=GTI_WMS_DB"+t)}getDataMethod(t){return this.http.get(localStorage.getItem("Server")+"/GetDataQuery?dbName=GTI_WMS_DB"+t)}addUploadItem(t){return this.http.get(localStorage.getItem("Server")+"/DataInQuery?dbName=GTI_WMS_DB"+t)}UpdateSeries(){return this.http.get(localStorage.getItem("Server")+"/DataInQuery?dbName=GTI_WMS_DB&querytag=UpdateSeriesNum&value1=5&value2=&value3=&value4=&value5=&value6=&value7=&value8=&value9=&value10=&value11=&value12=&value13=&value14=&value15=")}AlertOne(t,a,r){l().fire({icon:t,title:a,text:r,allowOutsideClick:!1})}busyLoading(){return new Promise(function(){var t=(0,o.Z)(function*(a,r){yield l().fire({title:"Please wait",html:"loading..",timerProgressBar:!0,allowOutsideClick:!1,didOpen:()=>{l().showLoading(),a()}})});return function(a,r){return t.apply(this,arguments)}}())}AlertTwo(t,a,r){l().fire({position:"center",icon:t,title:a,text:r,allowOutsideClick:!0,showConfirmButton:!1,timer:2500})}closeBusyLoading(){l().close()}onNumberSeries(t,a){var r=a-t.toString().length+1;return Array(+(r>0&&r)).join("0")+t}postNotif(t){const a=new m.WM({"Content-Type":"application/json",Authorization:"key=AAAAm0YiZRk:APA91bFtU8tOggsDau6OHY1fae27UNwjLF7aqB359mnmLrnJ9DgSYloIooTZXhk5FBtWortfZk32szH8NGM9mDEsJQiX5j30t4BDzxOA--b4AqZCy-4RBeiWkuEfqYXjODFT778pd_z_"});return this.http.post("https://fcm.googleapis.com/fcm/send",t,{headers:a})}static#e=this.\u0275fac=function(a){return new(a||n)(e.LFG(m.eN))};static#t=this.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var C=i(1088),k=i(3578);const F=["ParamForms"];function M(n,v){if(1&n){const t=e.EpF();e.TgZ(0,"div",3),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.onBack())}),e.TgZ(1,"div",4)(2,"div",5),e._UZ(3,"i"),e.qZA(),e.TgZ(4,"div",6)(5,"p",7),e._uU(6),e.qZA(),e.TgZ(7,"h2",8),e._uU(8),e.qZA()()(),e.TgZ(9,"div",9),e._UZ(10,"i"),e.TgZ(11,"span"),e._uU(12),e.qZA()()()}if(2&n){const t=v.$implicit;e.xp6(2),e.Q6J("ngClass",t.color),e.xp6(1),e.Tol(t.icon),e.xp6(3),e.Oqu(t.title),e.xp6(2),e.Oqu(t.value),e.xp6(2),e.Tol(t.footerIcon),e.xp6(2),e.Oqu(t.footerText)}}function w(n,v){if(1&n){const t=e.EpF();e.TgZ(0,"div",10)(1,"h5",11),e._uU(2,"Select Date"),e.qZA(),e.TgZ(3,"div",12)(4,"div",13)(5,"a",14),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.modalRef.close())}),e._UZ(6,"i",15),e.qZA()()()(),e.TgZ(7,"div",16)(8,"div",17)(9,"div",18)(10,"div",19)(11,"div",20)(12,"div",17)(13,"div",21)(14,"div",22)(15,"input",23,24),e.NdJ("ngModelChange",function(r){e.CHM(t);const s=e.oxw();return e.KtG(s.parameters.dateCreateFrom=r)}),e.qZA(),e.TgZ(17,"div",25),e.NdJ("click",function(){e.CHM(t);const r=e.MAs(16);return e.KtG(r.toggle())}),e.TgZ(18,"span",26),e._UZ(19,"i",27),e.qZA()()()()(),e.TgZ(20,"div",17)(21,"div",21)(22,"div",22)(23,"input",23,28),e.NdJ("ngModelChange",function(r){e.CHM(t);const s=e.oxw();return e.KtG(s.parameters.dateCreateTo=r)}),e.qZA(),e.TgZ(25,"div",25),e.NdJ("click",function(){e.CHM(t);const r=e.MAs(24);return e.KtG(r.toggle())}),e.TgZ(26,"span",26),e._UZ(27,"i",27),e.qZA()()()()()(),e.TgZ(28,"div",29)(29,"button",30),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.onExecute())}),e._uU(30,"Execute \xa0"),e._UZ(31,"i",31),e.qZA()()()()()()}if(2&n){const t=e.oxw();e.xp6(15),e.Q6J("ngModel",t.parameters.dateCreateFrom),e.xp6(8),e.Q6J("ngModel",t.parameters.dateCreateTo)}}let P=(()=>{class n{constructor(t,a,r,s,d){this.toastrService=a,this.apiservice=r,this.breakpointObserver=s,this.modalService=d,this.modelPopup={year:(new Date).getFullYear(),month:(new Date).getMonth()+1,day:(new Date).getDate()},this.parameters={dateCreateFrom:this.modelPopup,dateCreateTo:this.modelPopup},this.cards=[{title:"For Picking",value:0,icon:"fa fa-drivers-license-o",color:"orange",footerIcon:"fa fa-exclamation-triangle",footerText:""},{title:"Picked",value:"0",icon:"fa fa-shopping-basket",color:"red",footerIcon:"fa fa-share-square-o",footerText:"Waiting to process"},{title:"For Processing",value:"0",icon:"fa fa-gears",color:"green",footerIcon:"fa fa-cubes",footerText:"Last 24 hours"},{title:"Processed",value:"0",icon:"fa fa-desktop",color:"blue",footerIcon:"fa fa-refresh",footerText:"Just updated"}],t.backdrop="static",t.keyboard=!1,this.selectedDate=this.formatDate(new Date(this.parameters.dateCreateFrom.year+"/"+this.parameters.dateCreateFrom.month+"/"+this.parameters.dateCreateFrom.day)),this.selectedDateTo=this.formatDate(new Date(this.parameters.dateCreateTo.year+"/"+this.parameters.dateCreateTo.month+"/"+this.parameters.dateCreateTo.day))}ngOnInit(){this.onLoadData()}openModal(){this.modalRef=this.modalService.open(this.ParamForms,{container:".app"})}closeModal(){this.modalRef.close()}onBack(){var t=this;this.apiservice.busyLoading().then((0,o.Z)(function*(){return yield t.openModal()})).then((0,o.Z)(function*(){return yield t.apiservice.closeBusyLoading()})).catch(a=>console.log("rejected!"))}onExecute(){var t=this;this.selectedDate=this.formatDate(new Date(this.parameters.dateCreateFrom.year+"/"+this.parameters.dateCreateFrom.month+"/"+this.parameters.dateCreateFrom.day)),this.selectedDateTo=this.formatDate(new Date(this.parameters.dateCreateTo.year+"/"+this.parameters.dateCreateTo.month+"/"+this.parameters.dateCreateTo.day)),this.apiservice.busyLoading().then((0,o.Z)(function*(){return yield t.getForPicking()})).then((0,o.Z)(function*(){return yield t.getPicked()})).then((0,o.Z)(function*(){return yield t.getProcessing()})).then((0,o.Z)(function*(){return yield t.getProcessed()})).then((0,o.Z)(function*(){return yield t.closeModal()})).then((0,o.Z)(function*(){return yield t.apiservice.closeBusyLoading()})).catch(a=>this.apiservice.AlertOne("error","Fetching Data","Error while loading the data!"))}formatDate(t){return`${t.getFullYear()}${this.padZero(t.getMonth()+1)}${this.padZero(t.getDate())}`}padZero(t){return t<10?`0${t}`:`${t}`}onLoadData(){var t=this;this.apiservice.busyLoading().then((0,o.Z)(function*(){return yield t.getForPicking()})).then((0,o.Z)(function*(){return yield t.getPicked()})).then((0,o.Z)(function*(){return yield t.getProcessing()})).then((0,o.Z)(function*(){return yield t.getProcessed()})).then((0,o.Z)(function*(){return yield t.apiservice.closeBusyLoading()})).catch(a=>this.apiservice.AlertOne("error","Fetching Data","Error while loading the data!"))}getForPicking(){var t=this;return(0,o.Z)(function*(){return new Promise(function(){var a=(0,o.Z)(function*(r,s){yield t.apiservice.getDataMethod("&querytag=onGetCountForPicking&value1="+t.selectedDate+"&value2="+t.selectedDateTo+"&value3=&value4=").subscribe(function(){var d=(0,o.Z)(function*(c){t.cards[0].value=c[0].totalRequest,t.cards[0].footerText="Total Quantity: "+c[0].totalQuantity,r()});return function(c){return d.apply(this,arguments)}}())});return function(r,s){return a.apply(this,arguments)}}())})()}getPicked(){var t=this;return(0,o.Z)(function*(){return new Promise(function(){var a=(0,o.Z)(function*(r,s){yield t.apiservice.getDataMethod("&querytag=onGetCountForPicked&value1="+t.selectedDate+"&value2="+t.selectedDateTo+"&value3=&value4=").subscribe(function(){var d=(0,o.Z)(function*(c){t.cards[1].value=c[0].totalRequest,t.cards[1].footerText="Total Quantity: "+c[0].totalQuantity,r()});return function(c){return d.apply(this,arguments)}}())});return function(r,s){return a.apply(this,arguments)}}())})()}getProcessing(){var t=this;return(0,o.Z)(function*(){return new Promise(function(){var a=(0,o.Z)(function*(r,s){yield t.apiservice.getDataMethod("&querytag=onGetCountProcessing&value1="+t.selectedDate+"&value2="+t.selectedDateTo+"&value3=&value4=").subscribe(function(){var d=(0,o.Z)(function*(c){t.cards[2].value=c[0].totalRequest,t.cards[2].footerText="Total Quantity: "+c[0].totalQuantity,r()});return function(c){return d.apply(this,arguments)}}())});return function(r,s){return a.apply(this,arguments)}}())})()}getProcessed(){var t=this;return(0,o.Z)(function*(){return new Promise(function(){var a=(0,o.Z)(function*(r,s){yield t.apiservice.getDataMethod("&querytag=onGetCountProcessed&value1="+t.selectedDate+"&value2="+t.selectedDateTo+"&value3=&value4=").subscribe(function(){var d=(0,o.Z)(function*(c){t.cards[3].value=c[0].totalRequest,t.cards[3].footerText="Total Quantity: "+c[0].totalQuantity,r()});return function(c){return d.apply(this,arguments)}}())});return function(r,s){return a.apply(this,arguments)}}())})()}static#e=this.\u0275fac=function(a){return new(a||n)(e.Y36(h.NM),e.Y36(Z._W),e.Y36(_),e.Y36(C.Yg),e.Y36(h.FF))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-dashboard"]],viewQuery:function(a,r){if(1&a&&e.Gf(F,5),2&a){let s;e.iGM(s=e.CRH())&&(r.ParamForms=s.first)}},decls:4,vars:1,consts:[[1,"dashboard"],["class","card",3,"click",4,"ngFor","ngForOf"],["ParamForms",""],[1,"card",3,"click"],[1,"card-body"],[1,"icon-box",3,"ngClass"],[1,"content"],[1,"title"],[1,"value"],[1,"card-footer"],[1,"modal-header-own"],["id","modal-basic-title",1,"modal-title","mb-2",2,"color","black","margin-top","18px","margin-left","16px"],[1,"card-header","transparent","border-0","text-muted"],[1,"widget-controls"],["data-widgster","close",1,"transition",3,"click"],[1,"fa","fa-times"],[1,"modal-body"],[1,"col-sm-12"],["widget","",1,"card","border-0","box-shadow"],[1,"card-body","widget-body"],[1,"row"],[1,"form-group"],[1,"input-group"],["placeholder","yyyy-mm-dd","name","dp","ngbDatepicker","",1,"form-control",3,"ngModel","ngModelChange"],["p1","ngbDatepicker"],[1,"input-group-append",3,"click"],[1,"input-group-text"],[1,"fa","fa-calendar"],["p2","ngbDatepicker"],[1,"row","pull-right","mr-2"],[1,"btn","btn-success",3,"click"],[1,"fa","fa-refresh"]],template:function(a,r){1&a&&(e.TgZ(0,"div",0),e.YNc(1,M,13,8,"div",1),e.qZA(),e.YNc(2,w,32,2,"ng-template",null,2,e.W1O)),2&a&&(e.xp6(1),e.Q6J("ngForOf",r.cards))},dependencies:[p.mk,p.sg,h.J4,u.Fj,u.JJ,u.On,k.W],styles:[".dashboard{display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:1.5rem;padding:1.5rem}.dashboard .card{background:#fff;border-radius:8px;box-shadow:0 2px 6px #00000014;display:flex;flex-direction:column;justify-content:space-between;padding:0;overflow:hidden}.dashboard .card .card-body{display:flex;align-items:center;padding:1rem 1rem .5rem}.dashboard .card .card-body .icon-box{width:55px;height:55px;border-radius:6px;display:flex;align-items:center;justify-content:center;font-size:22px;color:#fff;flex-shrink:0}.dashboard .card .card-body .content{margin-left:1rem}.dashboard .card .card-body .content .title{font-size:13px;font-weight:500;color:#555;margin:0}.dashboard .card .card-body .content .value{font-size:22px;font-weight:700;margin:2px 0 0}.dashboard .card .card-footer{border-top:1px solid #eee;font-size:12px;color:#999;display:flex;align-items:center;padding:.5rem 1rem}.dashboard .card .card-footer i{margin-right:6px;font-size:12px}.dashboard .orange{background-color:#f39c12}.dashboard .red{background-color:#e74c3c}.dashboard .green{background-color:#27ae60}.dashboard .blue{background-color:#3498db}\n"],encapsulation:2})}return n})();var A=i(3154);const f=[{path:"",component:P,pathMatch:"full"}];let S=(()=>{class n{static#e=this.\u0275fac=function(a){return new(a||n)};static#t=this.\u0275mod=e.oAB({type:n});static#a=this.\u0275inj=e.cJS({imports:[p.ez,h.IJ,y.Bz.forChild(f),u.u5,x.kb,A.Hv,b.a4,D.o]})}return n})()}}]);