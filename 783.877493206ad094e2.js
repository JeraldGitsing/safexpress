"use strict";(self.webpackChunkstartng=self.webpackChunkstartng||[]).push([[783],{8783:(W,f,s)=>{s.r(f),s.d(f,{DashboardModule:()=>w,routes:()=>_});var p=s(6814),b=s(2787),v=s(6223),y=s(3362),h=s(5979),Z=s(25),C=s(8823),n=s(5861),e=s(9212),A=s(2425),T=s(9862),D=s(3519),g=s.n(D);let F=(()=>{class o{constructor(t){this.http=t}getItemImg(t){return this.http.get(localStorage.getItem("Server2")+"/getdata?sku="+t)}QuerySender(t){let r="";return r=t,this.http.get(localStorage.getItem("Server")+"/SQLCommandQuery?dbName=GTI_WMS_DB"+r)}modDataOnly(t){return this.http.get(localStorage.getItem("Server")+"/DataInQuery?dbName=GTI_WMS_DB"+t)}getDataMethod(t){return this.http.get(localStorage.getItem("Server")+"/GetDataQuery?dbName=GTI_WMS_DB"+t)}addUploadItem(t){return this.http.get(localStorage.getItem("Server")+"/DataInQuery?dbName=GTI_WMS_DB"+t)}UpdateSeries(){return this.http.get(localStorage.getItem("Server")+"/DataInQuery?dbName=GTI_WMS_DB&querytag=UpdateSeriesNum&value1=5&value2=&value3=&value4=&value5=&value6=&value7=&value8=&value9=&value10=&value11=&value12=&value13=&value14=&value15=")}AlertOne(t,r,a){g().fire({icon:t,title:r,text:a,allowOutsideClick:!1})}busyLoading(){return new Promise(function(){var t=(0,n.Z)(function*(r,a){yield g().fire({title:"Please wait",html:"loading..",timerProgressBar:!0,allowOutsideClick:!1,didOpen:()=>{g().showLoading(),r()}})});return function(r,a){return t.apply(this,arguments)}}())}AlertTwo(t,r,a){g().fire({position:"center",icon:t,title:r,text:a,allowOutsideClick:!0,showConfirmButton:!1,timer:2500})}closeBusyLoading(){g().close()}onNumberSeries(t,r){var a=r-t.toString().length+1;return Array(+(a>0&&a)).join("0")+t}postNotif(t){const r=new T.WM({"Content-Type":"application/json",Authorization:"key=AAAAm0YiZRk:APA91bFtU8tOggsDau6OHY1fae27UNwjLF7aqB359mnmLrnJ9DgSYloIooTZXhk5FBtWortfZk32szH8NGM9mDEsJQiX5j30t4BDzxOA--b4AqZCy-4RBeiWkuEfqYXjODFT778pd_z_"});return this.http.post("https://fcm.googleapis.com/fcm/send",t,{headers:r})}static#e=this.\u0275fac=function(r){return new(r||o)(e.LFG(T.eN))};static#t=this.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();var S=s(1088),P=s(3578);const x=["ParamForms"];function U(o,m){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h5",11),e._uU(3,"Top 3 athlete of the day"),e.qZA()()())}function M(o,m){if(1&o&&(e.TgZ(0,"div",12)(1,"div",13)(2,"div",14)(3,"div",15)(4,"div",16)(5,"div",17)(6,"h5",18),e._uU(7),e.qZA()(),e.TgZ(8,"div",19)(9,"div",20)(10,"div",21),e._UZ(11,"img",22),e.qZA(),e.TgZ(12,"div",23)(13,"div",1),e._UZ(14,"div",24)(15,"div",25)(16,"div",26),e.TgZ(17,"div",24),e._uU(18,"ID Number"),e.qZA(),e.TgZ(19,"div",25),e._uU(20,":"),e.qZA(),e.TgZ(21,"div",26),e._uU(22),e.qZA(),e.TgZ(23,"div",24),e._uU(24,"Quantity"),e.qZA(),e.TgZ(25,"div",25),e._uU(26,":"),e.qZA(),e.TgZ(27,"div",26),e._uU(28),e.qZA(),e.TgZ(29,"div",24),e._uU(30,"Sales Amount"),e.qZA(),e.TgZ(31,"div",25),e._uU(32,":"),e.qZA(),e.TgZ(33,"div",26),e._uU(34),e.qZA(),e.TgZ(35,"div",24),e._uU(36,"AUPT"),e.qZA(),e.TgZ(37,"div",25),e._uU(38,":"),e.qZA(),e.TgZ(39,"div",26),e._uU(40),e.qZA(),e.TgZ(41,"div",24),e._uU(42,"ADPT"),e.qZA(),e.TgZ(43,"div",25),e._uU(44,":"),e.qZA(),e.TgZ(45,"div",26),e._uU(46),e.qZA()()()()()()()()()()),2&o){const t=m.$implicit;e.xp6(7),e.hij(" ",t.Name," "),e.xp6(4),e.Q6J("src",t.imgUrl,e.LSH),e.xp6(11),e.Oqu(t.SalesPerson),e.xp6(6),e.Oqu(t.Quantity),e.xp6(6),e.Oqu(t.NetSales),e.xp6(6),e.Oqu(t.AUPT),e.xp6(6),e.Oqu(t.ADPT)}}function B(o,m){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h5",11),e._uU(3,"Top picker of the day"),e.qZA()()())}function q(o,m){if(1&o&&(e.TgZ(0,"div",12)(1,"div",13)(2,"div",14)(3,"div",15)(4,"div",16)(5,"div",17)(6,"h5",18),e._uU(7),e.qZA()(),e.TgZ(8,"div",19)(9,"div",20)(10,"div",21),e._UZ(11,"img",22),e.qZA(),e.TgZ(12,"div",23)(13,"div",1),e._UZ(14,"div",24)(15,"div",25)(16,"div",26),e.TgZ(17,"div",24),e._uU(18,"ID Number"),e.qZA(),e.TgZ(19,"div",25),e._uU(20,":"),e.qZA(),e.TgZ(21,"div",26),e._uU(22),e.qZA(),e.TgZ(23,"div",24),e._uU(24,"Picked"),e.qZA(),e.TgZ(25,"div",25),e._uU(26,":"),e.qZA(),e.TgZ(27,"div",26),e._uU(28),e.qZA()()()()()()()()()()),2&o){const t=m.$implicit;e.xp6(7),e.hij(" ",t.UserFullName," "),e.xp6(4),e.Q6J("src",t.imgUrl,e.LSH),e.xp6(11),e.Oqu(t.UserName),e.xp6(6),e.Oqu(t.PickCount)}}function I(o,m){if(1&o){const t=e.EpF();e.TgZ(0,"div",27)(1,"h5",28),e._uU(2,"Select Date"),e.qZA(),e.TgZ(3,"div",0)(4,"div",29)(5,"a",30),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.modalRef.close())}),e._UZ(6,"i",31),e.qZA()()()(),e.TgZ(7,"div",32)(8,"div",33)(9,"div",34)(10,"div",35)(11,"div",1)(12,"div",33)(13,"div",36)(14,"div",37)(15,"input",38,39),e.NdJ("ngModelChange",function(a){e.CHM(t);const i=e.oxw();return e.KtG(i.parameters.dateCreateFrom=a)}),e.qZA(),e.TgZ(17,"div",40),e.NdJ("click",function(){e.CHM(t);const a=e.MAs(16);return e.KtG(a.toggle())}),e.TgZ(18,"span",41),e._UZ(19,"i",42),e.qZA()()()()(),e.TgZ(20,"div",33)(21,"div",36)(22,"div",37)(23,"input",38,43),e.NdJ("ngModelChange",function(a){e.CHM(t);const i=e.oxw();return e.KtG(i.parameters.dateCreateTo=a)}),e.qZA(),e.TgZ(25,"div",40),e.NdJ("click",function(){e.CHM(t);const a=e.MAs(24);return e.KtG(a.toggle())}),e.TgZ(26,"span",41),e._UZ(27,"i",42),e.qZA()()()()()(),e.TgZ(28,"div",44)(29,"button",45),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.onExecute())}),e._uU(30,"Execute \xa0"),e._UZ(31,"i",46),e.qZA()()()()()()}if(2&o){const t=e.oxw();e.xp6(15),e.Q6J("ngModel",t.parameters.dateCreateFrom),e.xp6(8),e.Q6J("ngModel",t.parameters.dateCreateTo)}}let G=(()=>{class o{constructor(t,r,a,i,u){this.toastrService=r,this.apiservice=a,this.breakpointObserver=i,this.modalService=u,this.modelPopup={year:(new Date).getFullYear(),month:(new Date).getMonth()+1,day:(new Date).getDate()},this.TopAthlete=[],this.TopPicker=[],this.salesAmount=0,this.parameters={dateCreateFrom:this.modelPopup,dateCreateTo:this.modelPopup},this.salesBgColor={domain:["#378D3B"]},this.QuantityBgColor={domain:["rgb(133,153,168)"]},this.InvoiceCountBgColor={domain:["rgb(65,142,200)"]},this.BMSaleBgColor={domain:["rgb(47, 62, 158)"]},this.o2oSaleBgColor={domain:["rgb(27,60,85)"]},this.GrossSalesBgColor={domain:["rgb(0, 150, 166)"]},this.COGSBgColor={domain:["rgb(244, 123, 0)"]},this.GMBgColor={domain:["rgb(96, 96, 96)"]},this.UAPTBgColor={domain:["rgb(210, 46, 46)"]},this.ADPTBgColor={domain:["rgb(26,130,105)"]},this.InvColor={domain:["rgb(198,161,19)"]},t.backdrop="static",t.keyboard=!1,this.selectedDate=this.formatDate(new Date(this.parameters.dateCreateFrom.year+"/"+this.parameters.dateCreateFrom.month+"/"+this.parameters.dateCreateFrom.day)),this.selectedDateTo=this.formatDate(new Date(this.parameters.dateCreateTo.year+"/"+this.parameters.dateCreateTo.month+"/"+this.parameters.dateCreateTo.day))}ngOnInit(){this.onLoadData()}openModal(){this.modalRef=this.modalService.open(this.ParamForms,{container:".app"})}closeModal(){this.modalRef.close()}onBack(){var t=this;this.apiservice.busyLoading().then((0,n.Z)(function*(){return yield t.openModal()})).then((0,n.Z)(function*(){return yield t.apiservice.closeBusyLoading()})).catch(r=>console.log("rejected!"))}onExecute(){var t=this;this.selectedDate=this.formatDate(new Date(this.parameters.dateCreateFrom.year+"/"+this.parameters.dateCreateFrom.month+"/"+this.parameters.dateCreateFrom.day)),this.selectedDateTo=this.formatDate(new Date(this.parameters.dateCreateTo.year+"/"+this.parameters.dateCreateTo.month+"/"+this.parameters.dateCreateTo.day)),this.apiservice.busyLoading().then((0,n.Z)(function*(){return yield t.onGetKPI()})).then((0,n.Z)(function*(){return yield t.getTopAth(t.selectedDate,t.selectedDateTo)})).then((0,n.Z)(function*(){return yield t.getPickerrange(t.selectedDate,t.selectedDateTo)})).then((0,n.Z)(function*(){return yield t.closeModal()})).then((0,n.Z)(function*(){return yield t.apiservice.closeBusyLoading()})).catch(r=>this.apiservice.AlertOne("error","Fetching Data","Error while loading the data!"))}getTopAthrange(t,r){var a=this;return(0,n.Z)(function*(){return new Promise(function(){var i=(0,n.Z)(function*(u,l){yield a.apiservice.getDataMethod("&querytag=getRequestorQuotaTopRange&value1="+t+"&value2="+r+"&value3=&value4=").subscribe(function(){var c=(0,n.Z)(function*(d){a.TopAthlete=d,u()});return function(d){return c.apply(this,arguments)}}())});return function(u,l){return i.apply(this,arguments)}}())})()}getPickerrange(t,r){var a=this;return(0,n.Z)(function*(){return new Promise(function(){var i=(0,n.Z)(function*(u,l){yield a.apiservice.getDataMethod("&querytag=getPickersQuotaTopRange&value1="+t+"&value2="+r+"&value3=&value4=").subscribe(function(){var c=(0,n.Z)(function*(d){a.TopPicker=d,u()});return function(d){return c.apply(this,arguments)}}())});return function(u,l){return i.apply(this,arguments)}}())})()}infoLabelFormat(t){return t.label}infoValueFormat(t){switch(t.data.extra?t.data.extra.format:""){case"currency":return"${Math.round(c.value).toLocaleString()}";case"percent":return`${Math.round(100*t.value)}%`;default:return t.value.toLocaleString()}}onSelect(t){console.log(t)}formatDate(t){return`${t.getFullYear()}${this.padZero(t.getMonth()+1)}${this.padZero(t.getDate())}`}padZero(t){return t<10?`0${t}`:`${t}`}onLoadData(){var t=this;this.apiservice.busyLoading().then((0,n.Z)(function*(){return yield t.onGetKPI()})).then((0,n.Z)(function*(){return yield t.getTopAth(t.selectedDate,t.selectedDateTo)})).then((0,n.Z)(function*(){return yield t.getPicker()})).then((0,n.Z)(function*(){return yield t.apiservice.closeBusyLoading()})).catch(r=>this.apiservice.AlertOne("error","Fetching Data","Error while loading the data!"))}onGetKPI(){var t=this;return(0,n.Z)(function*(){return new Promise(function(){var r=(0,n.Z)(function*(a,i){yield t.apiservice.getDataMethod("&querytag=VewKPI&value1="+localStorage.getItem("whseNo")+"&value2="+t.selectedDate+"&value3="+t.selectedDateTo+"&value4=").subscribe(function(){var u=(0,n.Z)(function*(l){console.log(l.length),0!==l.length&&(t.NetSale=[{name:"Net Sales",value:l[0].NetSales}],t.Quantity=[{name:"Quantity Sold",value:l[0].Quantity}],t.InvoiceCount=[{name:"Invoice Count",value:l[0].InvoiceCount}],t.BMSale=[{name:"B&M Sales",value:l[0].BMSales}],t.o2oSale=[{name:"O2O Sales",value:l[0].o2oSale}],t.GrossSales=[{name:"Gross Sales",value:l[0].GrossSales}],t.COGS=[{name:"COGS",value:l[0].COGS}],t.GM=[{name:"GM",value:l[0].GM}],t.AUPT=[{name:"AUPT",value:l[0].AUPT}],t.ADPTSales=[{name:"ADPT",value:l[0].ADPT}],t.Inventory=[{name:"Inventory as of today",value:l[0].Inventory}]),a()});return function(l){return u.apply(this,arguments)}}())});return function(a,i){return r.apply(this,arguments)}}())})()}getTopAth(t,r){var a=this;return(0,n.Z)(function*(){return new Promise(function(){var i=(0,n.Z)(function*(u,l){yield a.apiservice.getDataMethod("&querytag=ViewPerAthlete&value1="+localStorage.getItem("whseNo")+"&value2="+t+"&value3="+r+"&value4=").subscribe(function(){var c=(0,n.Z)(function*(d){console.log(d),a.TopAthlete=d,u()});return function(d){return c.apply(this,arguments)}}())});return function(u,l){return i.apply(this,arguments)}}())})()}getPicker(){var t=this;return(0,n.Z)(function*(){return new Promise(function(){var r=(0,n.Z)(function*(a,i){yield t.apiservice.getDataMethod("&querytag=getPickersQuotaTop&value1=&value2=&value3=&value4=").subscribe(function(){var u=(0,n.Z)(function*(l){t.TopPicker=l,a()});return function(l){return u.apply(this,arguments)}}())});return function(a,i){return r.apply(this,arguments)}}())})()}static#e=this.\u0275fac=function(r){return new(r||o)(e.Y36(h.NM),e.Y36(A._W),e.Y36(F),e.Y36(S.Yg),e.Y36(h.FF))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-dashboard"]],viewQuery:function(r,a){if(1&r&&e.Gf(x,5),2&r){let i;e.iGM(i=e.CRH())&&(a.ParamForms=i.first)}},decls:48,vars:70,consts:[[1,"card-header","transparent","border-0","text-muted"],[1,"row"],[1,"mb-0",3,"click"],[1,"col-sm-10"],[1,"col-xl-2","col-lg-4","col-md-4","col-sm-6","pl-2","pr-2","mb-1"],[1,"w-100","h-100p"],[3,"scheme","textColor","innerPadding","results","valueFormatting","labelFormatting","select"],[3,"scheme","textColor","innerPadding","results","valueFormatting","labelFormatting"],["class","card-header transparent border-0 text-muted",4,"ngIf"],["class","col-xl-4 col-lg-6 mb-4",4,"ngFor","ngForOf"],["ParamForms",""],[1,"mb-1"],[1,"col-xl-4","col-lg-6","mb-4"],[1,"flip"],[1,"content"],[1,"front"],[1,"card","border-0","box-shadow","rounded-0"],[1,"card-header","border-0","rounded-0","text-muted"],[1,"mb-0"],[1,"card-body","pt-3"],[1,"media"],[1,"d-flex","flex-column","justify-content-center"],["width","70",1,"rounded",3,"src"],[1,"media-body","ml-3"],[1,"col-4","text-gray","text-left","pr-0","text-truncate"],[1,"col-2","text-gray","text-left","pr-0","text-truncate"],[1,"col-6","pl-2","text-left","text-truncate"],[1,"modal-header-own"],["id","modal-basic-title",1,"modal-title","mb-2",2,"color","black","margin-top","18px","margin-left","16px"],[1,"widget-controls"],["data-widgster","close",1,"transition",3,"click"],[1,"fa","fa-times"],[1,"modal-body"],[1,"col-sm-12"],["widget","",1,"card","border-0","box-shadow"],[1,"card-body","widget-body"],[1,"form-group"],[1,"input-group"],["placeholder","yyyy-mm-dd","name","dp","ngbDatepicker","",1,"form-control",3,"ngModel","ngModelChange"],["p1","ngbDatepicker"],[1,"input-group-append",3,"click"],[1,"input-group-text"],[1,"fa","fa-calendar"],["p2","ngbDatepicker"],[1,"row","pull-right","mr-2"],[1,"btn","btn-success",3,"click"],[1,"fa","fa-refresh"]],template:function(r,a){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h5",2),e.NdJ("click",function(){return a.onBack()}),e._uU(3,"Dashboard"),e.qZA(),e._UZ(4,"div",3),e.qZA()(),e.TgZ(5,"div",1)(6,"div",4)(7,"div",5)(8,"ngx-charts-number-card",6),e.NdJ("select",function(){return a.onBack()}),e.qZA()()(),e.TgZ(9,"div",4)(10,"div",5),e._UZ(11,"ngx-charts-number-card",7),e.qZA()(),e.TgZ(12,"div",4)(13,"div",5),e._UZ(14,"ngx-charts-number-card",7),e.qZA()(),e.TgZ(15,"div",4)(16,"div",5),e._UZ(17,"ngx-charts-number-card",7),e.qZA()(),e.TgZ(18,"div",4)(19,"div",5),e._UZ(20,"ngx-charts-number-card",7),e.qZA()(),e.TgZ(21,"div",4)(22,"div",5),e._UZ(23,"ngx-charts-number-card",7),e.qZA()()(),e.TgZ(24,"div",1)(25,"div",4)(26,"div",5)(27,"ngx-charts-number-card",6),e.NdJ("select",function(){return a.onBack()}),e.qZA()()(),e.TgZ(28,"div",4)(29,"div",5),e._UZ(30,"ngx-charts-number-card",7),e.qZA()(),e.TgZ(31,"div",4)(32,"div",5),e._UZ(33,"ngx-charts-number-card",7),e.qZA()(),e.TgZ(34,"div",4)(35,"div",5),e._UZ(36,"ngx-charts-number-card",7),e.qZA()(),e.TgZ(37,"div",4)(38,"div",5),e._UZ(39,"ngx-charts-number-card",7),e.qZA()()(),e.YNc(40,U,4,0,"div",8),e.TgZ(41,"div",1),e.YNc(42,M,47,7,"div",9),e.qZA(),e.YNc(43,B,4,0,"div",8),e.TgZ(44,"div",1),e.YNc(45,q,29,4,"div",9),e.qZA(),e.YNc(46,I,32,2,"ng-template",null,10,e.W1O)),2&r&&(e.xp6(8),e.Q6J("scheme",a.salesBgColor)("textColor","#fff")("innerPadding",0)("results",a.NetSale)("valueFormatting",a.infoValueFormat)("labelFormatting",a.infoLabelFormat),e.xp6(3),e.Q6J("scheme",a.QuantityBgColor)("textColor","#fff")("innerPadding",0)("results",a.Quantity)("valueFormatting",a.infoValueFormat)("labelFormatting",a.infoLabelFormat),e.xp6(3),e.Q6J("scheme",a.InvoiceCountBgColor)("textColor","#fff")("innerPadding",0)("results",a.InvoiceCount)("valueFormatting",a.infoValueFormat)("labelFormatting",a.infoLabelFormat),e.xp6(3),e.Q6J("scheme",a.BMSaleBgColor)("textColor","#fff")("innerPadding",0)("results",a.BMSale)("valueFormatting",a.infoValueFormat)("labelFormatting",a.infoLabelFormat),e.xp6(3),e.Q6J("scheme",a.o2oSaleBgColor)("textColor","#fff")("innerPadding",0)("results",a.o2oSale)("valueFormatting",a.infoValueFormat)("labelFormatting",a.infoLabelFormat),e.xp6(3),e.Q6J("scheme",a.InvColor)("textColor","#fff")("innerPadding",0)("results",a.Inventory)("valueFormatting",a.infoValueFormat)("labelFormatting",a.infoLabelFormat),e.xp6(4),e.Q6J("scheme",a.GrossSalesBgColor)("textColor","#fff")("innerPadding",0)("results",a.GrossSales)("valueFormatting",a.infoValueFormat)("labelFormatting",a.infoLabelFormat),e.xp6(3),e.Q6J("scheme",a.COGSBgColor)("textColor","#fff")("innerPadding",0)("results",a.COGS)("valueFormatting",a.infoValueFormat)("labelFormatting",a.infoLabelFormat),e.xp6(3),e.Q6J("scheme",a.GMBgColor)("textColor","#fff")("innerPadding",0)("results",a.GM)("valueFormatting",a.infoValueFormat)("labelFormatting",a.infoLabelFormat),e.xp6(3),e.Q6J("scheme",a.UAPTBgColor)("textColor","#fff")("innerPadding",0)("results",a.AUPT)("valueFormatting",a.infoValueFormat)("labelFormatting",a.infoLabelFormat),e.xp6(3),e.Q6J("scheme",a.ADPTBgColor)("textColor","#fff")("innerPadding",0)("results",a.ADPTSales)("valueFormatting",a.infoValueFormat)("labelFormatting",a.infoLabelFormat),e.xp6(1),e.Q6J("ngIf",0!==a.TopAthlete.length),e.xp6(2),e.Q6J("ngForOf",a.TopAthlete),e.xp6(1),e.Q6J("ngIf",0!==a.TopPicker.length),e.xp6(2),e.Q6J("ngForOf",a.TopPicker))},dependencies:[p.sg,p.O5,h.J4,v.Fj,v.JJ,v.On,Z.vg,P.W],encapsulation:2})}return o})();var Q=s(3154);const _=[{path:"",component:G,pathMatch:"full"}];let w=(()=>{class o{static#e=this.\u0275fac=function(r){return new(r||o)};static#t=this.\u0275mod=e.oAB({type:o});static#a=this.\u0275inj=e.cJS({imports:[p.ez,h.IJ,b.Bz.forChild(_),v.u5,y.kb,Q.Hv,Z.a4,C.o]})}return o})()}}]);