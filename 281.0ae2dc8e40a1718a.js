"use strict";(self.webpackChunkstartng=self.webpackChunkstartng||[]).push([[281],{9281:(kn,A,h)=>{h.r(A),h.d(A,{InboundModule:()=>Nn,routes:()=>R});var _=h(6814),F=h(2787),G=h(8101),b=h(9862),p=h(6223),P=h(5979),J=h(3154),x=h(6472),c=h(5861),t=h(9212),N=h(1486),v=h(1088),K=h(3519),d=h.n(K),Z=h(8547),O=h(2425);let j=(()=>{class r{constructor(e){this.http=e}onFileSelected(e){this.selectedFile=e.target.files[0]}uploadFile(){const e=new FormData;e.append("file",this.selectedFile),this.http.post(localStorage.getItem("Server")+"/upload",e).subscribe(n=>{this.busyLoading(),console.log("File uploaded successfully",n)},n=>{console.error("Error uploading file",n)})}getHeader(e){return this.http.get(localStorage.getItem("Server")+"/GetDataQuery?dbName=GTI_WMS_DB"+e)}getDetails(e){return this.http.get(localStorage.getItem("Server")+"/GetDataQuery?dbName=GTI_WMS_DB"+e)}getBinType(e){return this.http.get(localStorage.getItem("Server")+"/GetDataQuery?dbName=GTI_WMS_DB"+e)}getBins(e){return this.http.get(localStorage.getItem("Server")+"/GetDataQuery?dbName=GTI_WMS_DB"+e)}getWHList(e){return this.http.get(localStorage.getItem("Server")+"/GetDataQuery?dbName=GTI_WMS_DB"+e)}UpdateSeries(){return this.http.get(localStorage.getItem("Server")+"/DataInQuery?dbName=GTI_WMS_DB&querytag=UpdateSeriesNum&value1=64&value2=&value3=&value4=&value5=&value6=&value7=&value8=&value9=&value10=&value11=&value12=&value13=&value14=&value15=")}addInventory(e){return this.http.get(localStorage.getItem("Server")+"/DataInQuery?dbName=GTI_WMS_DB"+e)}modDataOnly(e){return this.http.get(localStorage.getItem("Server")+"/DataInQuery?dbName=GTI_WMS_DB"+e)}getDataMethod(e){return this.http.get(localStorage.getItem("Server")+"/GetDataQuery?dbName=GTI_WMS_DB"+e)}AlertOne(e,n,o){d().fire({icon:e,title:n,text:o,allowOutsideClick:!1})}busyLoading(){return new Promise((e,n)=>{d().fire({title:"Please wait",html:"loading..",timerProgressBar:!0,allowOutsideClick:!1,didOpen:()=>{d().showLoading(),e()}})})}AlertTwo(e,n,o){d().fire({position:"center",icon:e,title:n,text:o,allowOutsideClick:!0,showConfirmButton:!1,timer:2500})}closeBusyLoading(){d().close()}onNumberSeries(e,n){var o=n-e.toString().length+1;return Array(+(o>0&&o)).join("0")+e}postDataGTI(e,n){const o=new b.WM({"Content-Type":"application/json"});return this.http.post(localStorage.getItem("Server")+"/"+n,e,{headers:o})}static#t=this.\u0275fac=function(n){return new(n||r)(t.LFG(b.eN))};static#e=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var Y=h(2692);function W(r,u){1&r&&(t.TgZ(0,"div",21)(1,"span",22),t._UZ(2,"i",23),t.qZA()())}function z(r,u){if(1&r){const e=t.EpF();t.TgZ(0,"input",24),t.NdJ("ngModelChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.searchText=o)}),t.qZA()}if(2&r){const e=t.oxw();t.Q6J("ngModel",e.searchText)}}function V(r,u){if(1&r){const e=t.EpF();t.TgZ(0,"button",25),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onLoadData())}),t._UZ(1,"i",26),t.qZA()}}function X(r,u){1&r&&(t.TgZ(0,"div",21)(1,"span",22),t._UZ(2,"i",27),t.qZA()())}function tt(r,u){if(1&r){const e=t.EpF();t.TgZ(0,"input",28),t.NdJ("keyup.enter",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onpressentersku())})("ngModelChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.ScanBarcode=o)}),t.qZA()}if(2&r){const e=t.oxw();t.Q6J("ngModel",e.ScanBarcode)}}function et(r,u){if(1&r){const e=t.EpF();t.TgZ(0,"Button",29),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onBacktoHeaderL())}),t._UZ(1,"i",30),t._uU(2,"\xa0\xa0Back"),t.qZA()}}function nt(r,u){if(1&r){const e=t.EpF();t.TgZ(0,"Button",31),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(),i=t.MAs(23);return t.KtG(o.openModal(i))}),t._UZ(1,"i",32),t._uU(2,"\xa0\xa0Putaway"),t.qZA()}}function ot(r,u){if(1&r){const e=t.EpF();t.TgZ(0,"Button",33),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(),i=t.MAs(21);return t.KtG(o.UploadModal(i))}),t._UZ(1,"i",34),t._uU(2,"\xa0\xa0Upload"),t.qZA()}}function it(r,u){if(1&r){const e=t.EpF();t.TgZ(0,"tr"),t._UZ(1,"td",38),t.TgZ(2,"td",39),t._uU(3),t.qZA(),t.TgZ(4,"td",39),t._uU(5),t.qZA(),t.TgZ(6,"td",39),t._uU(7),t.qZA(),t.TgZ(8,"td",39),t._uU(9),t.qZA(),t.TgZ(10,"td",39),t._uU(11),t.qZA(),t.TgZ(12,"td",40),t._uU(13),t.qZA(),t.TgZ(14,"td",39)(15,"span",41),t._uU(16),t.qZA()(),t.TgZ(17,"td",38)(18,"div",42)(19,"button",43),t.NdJ("click",function(){const i=t.CHM(e).$implicit,a=t.oxw(2);return t.KtG(a.onreceiveL(i))}),t._UZ(20,"i"),t._uU(21,"\xa0\xa0Open"),t.qZA()()()()}if(2&r){const e=u.$implicit;t.xp6(3),t.Oqu(e.CreatedDate),t.xp6(2),t.Oqu(e.Warehouse),t.xp6(2),t.Oqu(e.RefNumber),t.xp6(2),t.Oqu(e.TotalQty),t.xp6(2),t.Oqu(e.PutawayQty),t.xp6(2),t.Oqu(e.Remaining),t.xp6(3),t.Oqu(e.UserName),t.xp6(4),t.Tol(e.IconClass)}}const U=r=>({itemsPerPage:50,currentPage:r});function rt(r,u){if(1&r&&(t.TgZ(0,"div",14)(1,"div",15)(2,"div",35)(3,"table",36)(4,"thead")(5,"tr"),t._UZ(6,"th"),t.TgZ(7,"th"),t._uU(8,"Date Created"),t.qZA(),t.TgZ(9,"th"),t._uU(10,"Warehouse"),t.qZA(),t.TgZ(11,"th"),t._uU(12,"Ref Number"),t.qZA(),t.TgZ(13,"th"),t._uU(14,"Required Quantity"),t.qZA(),t.TgZ(15,"th"),t._uU(16,"Putaway Quantity"),t.qZA(),t.TgZ(17,"th"),t._uU(18,"Remaining Quantity"),t.qZA(),t._UZ(19,"th")(20,"th"),t.qZA()(),t.TgZ(21,"tbody"),t.YNc(22,it,22,9,"tr",37),t.ALo(23,"paginate"),t.ALo(24,"PutawayPipe"),t.qZA()()()()()),2&r){const e=t.oxw();t.xp6(22),t.Q6J("ngForOf",t.xi3(23,1,t.xi3(24,4,e.POheaders,e.searchText),t.VKq(7,U,e.p)))}}function at(r,u){if(1&r){const e=t.EpF();t.TgZ(0,"button",49),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit,i=t.oxw(2);return t.KtG(i.editQtyFunc(o))}),t._UZ(1,"i",50),t.qZA()}}function ct(r,u){if(1&r&&(t.TgZ(0,"tr"),t._UZ(1,"td",38),t.TgZ(2,"td",39),t._uU(3),t.qZA(),t.TgZ(4,"td",39),t._uU(5),t.qZA(),t.TgZ(6,"td",39),t._uU(7),t.qZA(),t.TgZ(8,"td",39),t._uU(9),t.qZA(),t.TgZ(10,"td",39),t._uU(11),t.qZA(),t.TgZ(12,"td",39),t._uU(13),t.qZA(),t.TgZ(14,"td",38)(15,"div",42),t.YNc(16,at,2,0,"button",48),t.qZA()()()),2&r){const e=u.$implicit;t.xp6(3),t.Oqu(e.ItemNumber),t.xp6(2),t.Oqu(e.ItemName),t.xp6(2),t.Oqu(e.UPC),t.xp6(2),t.Oqu(e.OpenQty),t.xp6(2),t.Oqu(e.ScannedQty),t.xp6(2),t.Oqu(e.PutawayQty),t.xp6(3),t.Q6J("ngIf",0!=e.ScannedQty)}}function st(r,u){if(1&r&&(t.TgZ(0,"div",14)(1,"div",44)(2,"div",45)(3,"div",46),t._uU(4),t.qZA(),t._UZ(5,"div",47),t.qZA()(),t.TgZ(6,"div",15)(7,"div",35)(8,"table",36)(9,"thead")(10,"tr"),t._UZ(11,"th"),t.TgZ(12,"th"),t._uU(13,"Item Number"),t.qZA(),t.TgZ(14,"th"),t._uU(15,"Item Description"),t.qZA(),t.TgZ(16,"th"),t._uU(17,"UPC"),t.qZA(),t.TgZ(18,"th"),t._uU(19,"Required Quantity"),t.qZA(),t.TgZ(20,"th"),t._uU(21,"Scanned Quantity"),t.qZA(),t.TgZ(22,"th"),t._uU(23,"Putaway Quantity"),t.qZA(),t._UZ(24,"th"),t.qZA()(),t.TgZ(25,"tbody"),t.YNc(26,ct,17,7,"tr",37),t.ALo(27,"paginate"),t.qZA()()()()()),2&r){const e=t.oxw();t.xp6(4),t.AsE("Total Quantity: ",e.totalScaned,"/",e.openQtydis,""),t.xp6(22),t.Q6J("ngForOf",t.xi3(27,3,e.PODetails,t.VKq(6,U,e.p)))}}function lt(r,u){if(1&r){const e=t.EpF();t.TgZ(0,"div",54)(1,"div",55)(2,"div",56)(3,"div",57)(4,"div",58)(5,"div",59)(6,"h6",60),t._UZ(7,"i",61),t._uU(8),t.qZA(),t._UZ(9,"div",62),t.qZA(),t.TgZ(10,"div",63)(11,"div",64),t._UZ(12,"div",65),t.TgZ(13,"div",66)(14,"div",67),t.NdJ("click",function(){const i=t.CHM(e).$implicit,a=t.oxw(2);return t.KtG(a.onreceiveG(i))}),t.TgZ(15,"div",68),t._uU(16,"Date Created"),t.qZA(),t.TgZ(17,"div",69),t._uU(18,":"),t.qZA(),t.TgZ(19,"div",70),t._uU(20),t.qZA(),t.TgZ(21,"div",68),t._uU(22,"Ref Number"),t.qZA(),t.TgZ(23,"div",69),t._uU(24,":"),t.qZA(),t.TgZ(25,"div",70),t._uU(26),t.qZA(),t.TgZ(27,"div",68),t._uU(28,"Required Qty"),t.qZA(),t.TgZ(29,"div",69),t._uU(30,":"),t.qZA(),t.TgZ(31,"div",70),t._uU(32),t.qZA(),t.TgZ(33,"div",68),t._uU(34,"Putaway Qty"),t.qZA(),t.TgZ(35,"div",69),t._uU(36,":"),t.qZA(),t.TgZ(37,"div",70),t._uU(38),t.qZA(),t.TgZ(39,"div",68),t._uU(40,"Remaining Qty"),t.qZA(),t.TgZ(41,"div",69),t._uU(42,":"),t.qZA(),t.TgZ(43,"div",70),t._uU(44),t.qZA()()()()()()()()()()}if(2&r){const e=u.$implicit;t.xp6(7),t.Q6J("ngbTooltip","deleted"),t.xp6(1),t.hij(" ",e.RefNumber," "),t.xp6(12),t.Oqu(e.CreatedDate),t.xp6(6),t.Oqu(e.RefNumber),t.xp6(6),t.Oqu(e.TotalQty),t.xp6(6),t.Oqu(e.PutawayQty),t.xp6(6),t.Oqu(e.Remaining)}}const ut=r=>({itemsPerPage:6,currentPage:r});function dt(r,u){if(1&r&&(t.TgZ(0,"div",51)(1,"div",52)(2,"div",14),t.YNc(3,lt,45,7,"div",53),t.ALo(4,"paginate"),t.ALo(5,"PutawayPipe"),t.qZA()()()),2&r){const e=t.oxw();t.xp6(3),t.Q6J("ngForOf",t.xi3(4,1,t.xi3(5,4,e.POheaders,e.searchText),t.VKq(7,ut,e.p)))}}function gt(r,u){if(1&r){const e=t.EpF();t.TgZ(0,"button",77),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2),i=t.MAs(23);return t.KtG(o.openModalM(i))}),t._UZ(1,"i",78),t._uU(2,"\xa0\xa0Transfer"),t.qZA()}}function _t(r,u){if(1&r&&(t.TgZ(0,"span",41),t._uU(1),t.qZA()),2&r){const e=t.oxw(2);t.xp6(1),t.Oqu(e.totalScaned)}}function pt(r,u){if(1&r&&(t.TgZ(0,"span",79),t._uU(1),t.qZA()),2&r){const e=t.oxw(2);t.xp6(1),t.Oqu(e.totalScaned)}}function mt(r,u){if(1&r&&(t.TgZ(0,"span",80),t._uU(1),t.qZA()),2&r){const e=t.oxw(2);t.xp6(1),t.Oqu(e.totalScaned)}}function ht(r,u){if(1&r){const e=t.EpF();t.TgZ(0,"button",49),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit,i=t.oxw(2);return t.KtG(i.editQtyFunc(o))}),t._UZ(1,"i",50),t.qZA()}}function ft(r,u){if(1&r&&(t.TgZ(0,"div",54)(1,"div",55)(2,"div",56)(3,"div",57)(4,"div",58)(5,"div",59)(6,"h6",60),t._uU(7),t.qZA()(),t.TgZ(8,"div",81)(9,"div",64)(10,"div",82)(11,"div",14),t._UZ(12,"div",83)(13,"div",83),t.TgZ(14,"div",84)(15,"h5",60),t._uU(16),t.qZA()(),t._UZ(17,"div",83)(18,"div",83),t.TgZ(19,"div",84),t._uU(20),t.qZA(),t.TgZ(21,"div",68),t._uU(22,"Request Qty"),t.qZA(),t.TgZ(23,"div",83),t._uU(24,":"),t.qZA(),t.TgZ(25,"div",70),t._uU(26),t.qZA(),t.TgZ(27,"div",68),t._uU(28,"Scanned Qty"),t.qZA(),t.TgZ(29,"div",83),t._uU(30,":"),t.qZA(),t.TgZ(31,"div",70),t._uU(32),t.qZA(),t.YNc(33,ht,2,0,"button",48),t.qZA()(),t._UZ(34,"div",65),t.qZA()()()()()()()),2&r){const e=u.$implicit;t.xp6(7),t.hij(" ",e.ItemName," "),t.xp6(9),t.Oqu(e.ItemNumber),t.xp6(4),t.Oqu(e.UPC),t.xp6(6),t.Oqu(e.OpenQty),t.xp6(6),t.Oqu(e.ScannedQty),t.xp6(1),t.Q6J("ngIf",0!=e.ScannedQty)}}const vt=r=>({itemsPerPage:100,currentPage:r});function Pt(r,u){if(1&r){const e=t.EpF();t.TgZ(0,"div",71)(1,"div",2)(2,"div",21)(3,"span",22),t._UZ(4,"i",27),t.qZA()(),t.TgZ(5,"input",72),t.NdJ("keyup.enter",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onpressentersku())})("ngModelChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.ScanBarcode=o)}),t.qZA(),t.YNc(6,gt,3,0,"button",73),t.qZA(),t.TgZ(7,"label"),t._uU(8,"Total Scanned:"),t.qZA(),t.YNc(9,_t,2,1,"span",74)(10,pt,2,1,"span",75)(11,mt,2,1,"span",76)(12,ft,35,6,"div",53),t.ALo(13,"paginate"),t.qZA()}if(2&r){const e=t.oxw();t.xp6(5),t.Q6J("ngModel",e.ScanBarcode),t.xp6(1),t.Q6J("ngIf",e.totalScaned>0),t.xp6(3),t.Q6J("ngIf",e.totalScaned>=0&&e.totalScaned<=20),t.xp6(1),t.Q6J("ngIf",e.totalScaned>=21&&e.totalScaned<=40),t.xp6(1),t.Q6J("ngIf",e.totalScaned>=41&&e.totalScaned<=1e3),t.xp6(1),t.Q6J("ngForOf",t.xi3(13,6,e.PODetails,t.VKq(9,vt,e.p)))}}function Ct(r,u){if(1&r){const e=t.EpF();t.TgZ(0,"i",101),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.removeFile())}),t.qZA()}}function xt(r,u){if(1&r){const e=t.EpF();t.TgZ(0,"div",85)(1,"div",86)(2,"div",87)(3,"h5",60),t._uU(4,"Upload Inbound"),t.qZA(),t.TgZ(5,"div",62)(6,"a",88),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModalupload())}),t._UZ(7,"i",89),t.qZA()()(),t._UZ(8,"div",90),t.TgZ(9,"div",90)(10,"div",91)(11,"input",92),t.NdJ("change",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.fileChange(o))}),t.qZA(),t._UZ(12,"input",93),t.YNc(13,Ct,1,0,"i",94),t.TgZ(14,"span",7)(15,"button",95),t._UZ(16,"i",96),t._uU(17,"\xa0\xa0Browse"),t.qZA()()()(),t.TgZ(18,"div",90)(19,"input",97),t.NdJ("ngModelChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.uploadRemarks=o)}),t.qZA()(),t._UZ(20,"div",90),t.qZA(),t.TgZ(21,"div",98)(22,"div",99)(23,"button",100),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.pressUpload())}),t._uU(24,"Upload"),t.qZA()()()()}if(2&r){const e=t.oxw();t.xp6(12),t.s9C("value",e.filename),t.xp6(1),t.Q6J("ngIf",e.filename),t.xp6(6),t.Q6J("ngModel",e.uploadRemarks)}}function bt(r,u){if(1&r){const e=t.EpF();t.TgZ(0,"div",102)(1,"h3",103),t._uU(2,"Scan Bin Location"),t.qZA()(),t.TgZ(3,"div",104)(4,"div",105)(5,"div",2)(6,"input",106),t.NdJ("ngModelChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.targetLocation=o)})("keyup.enter",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onpressenterbin())}),t.qZA(),t.TgZ(7,"div",7)(8,"span",107),t._UZ(9,"i",108),t.qZA()()(),t.TgZ(10,"div",109)(11,"button",110),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.Putaway())}),t._uU(12,"Putaway"),t.qZA(),t.TgZ(13,"button",111),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._uU(14,"Cancel"),t.qZA()()()()}if(2&r){const e=t.oxw();t.xp6(6),t.Q6J("ngModel",e.targetLocation)}}const yt=r=>({show:r});function Ot(r,u){if(1&r){const e=t.EpF();t.TgZ(0,"div",112)(1,"button",113),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onBacktoHeaderG())}),t._UZ(2,"i",114),t._uU(3,"\xa0\xa0\xa0Back"),t.qZA()()}if(2&r){const e=t.oxw();t.Q6J("ngClass",t.VKq(1,yt,e.showSetting))}}let Mt=(()=>{class r{handleKeyDown(e){console.log(e.key),"F12"!==e.key&&"Enter"!==e.key||0!=this.isPutawayLoc?setTimeout(function(){$("#myInput2").focus(),this.targetLocation=""},1e3):setTimeout(function(){$("#myInput").focus(),this.barcodeData=""},1e3)}trimIfTooLong(e){const n=e.toString();return n.length>12?n.slice(0,-1):n}onKeyUp(e){if("F12"===e.key)if(e.preventDefault(),this.ScanBarcode=this.trimIfTooLong(this.ScanBarcode),"DetailsGrid"==this.type&&0==this.isPutawayLoc&&""!==this.ScanBarcode)this.barcodeData=this.ScanBarcode,(n=this.PODetails.filter(o=>o.UPC===this.barcodeData)).length?n[0].OpenQty===n[0].ScannedQty?(this.toastrService.error("Putaway quantity exceeds open quantity"),this.ScanBarcode="",this.barcodeData="",setTimeout(function(){$("#myInput").focus(),this.ScanBarcode=""},1e3)):(this.toastrService.success(this.barcodeData),n[0].ScannedQty+=1,this.totalScaned=this.ScannedSum(),n[0].timestamper=parseInt((0,_.p6)(new Date,"HHmmss","en-US")),this.PODetails=this.PODetails.slice().sort((o,i)=>i.timestamper-o.timestamper),this.ScanBarcode="",this.barcodeData="",setTimeout(function(){$("#myInput").focus(),this.ScanBarcode=""},1e3)):(this.toastrService.warning(this.barcodeData+" not included in PO!"),this.ScanBarcode="",this.barcodeData="",setTimeout(function(){$("#myInput").focus(),this.ScanBarcode=""},1e3));else if("DetailsGrid"==this.type&&1==this.isPutawayLoc){var n;this.targetLocation=this.targetLocation,(n=this.PODetails.filter(i=>i.UPC===this.barcodeData)).length&&(n[0].OpenQty===n[0].ScannedQty?(this.toastrService.error("Putaway quantity exceeds open quantity"),setTimeout(function(){$("#myInput2").focus(),this.ScanBarcode=""},1e3),this.ScanBarcode="",this.barcodeData=""):(n[0].ScannedQty+=1,this.totalScaned=this.ScannedSum(),n[0].timestamper=parseInt((0,_.p6)(new Date,"HHmmss","en-US")),this.PODetails=this.PODetails.slice().sort((i,a)=>a.timestamper-i.timestamper),this.ScanBarcode="",this.barcodeData="",setTimeout(function(){$("#myInput2").focus(),this.ScanBarcode=""},1e3)))}}reloadPage(){}onpressentersku(){this.ScanBarcode=this.ScanBarcode.length>12?this.ScanBarcode.slice(0,12):this.ScanBarcode;var e=this.PODetails.filter(n=>n.UPC===this.ScanBarcode||n.ItemNumber===this.ScanBarcode);e.length?e[0].OpenQty===e[0].ScannedQty?this.apiservice.AlertTwo("error","ERROR","Putaway quantity exceeds open quantity!"):(e[0].ScannedQty+=1,this.totalScaned=this.ScannedSum(),e[0].timestamper=parseInt((0,_.p6)(new Date,"HHmmss","en-US")),this.PODetails=this.PODetails.slice().sort((n,o)=>o.timestamper-n.timestamper)):this.apiservice.AlertTwo("warning","Warning",this.ScanBarcode+" not included in PO retest!"),this.ScanBarcode=""}onpressenterbin(){var e=this.Bins.filter(n=>n.BinName===this.targetLocation);0!==e.length?"Inbound Staging"==e[0].BinType||"Outbound Staging"==e[0].BinType?(this.isReady=!1,this.toastrService.error("Scanned location is not a picking location!")):(this.isReady=!0,this.toastrService.success("Please proceed on putaway now!")):(this.isReady=!1,this.toastrService.error("Please scan/enter bin location!"),this.targetLocation="")}constructor(e,n,o,i,a,s,l){this.fb=e,this.notifService=o,this.toastrService=i,this.apiservice=a,this.breakpointObserver=s,this.http=l,this.isMobile=!1,this.type="headerlist",this.modalService=(0,t.f3M)(P.FF),this.rowData=[],this.uploadRemarks="",this.scannedData="",this.totalScaned=0,this.barcodeData="",this.liveScanning=!1,this.showSetting=!1,n.backdrop="static",n.keyboard=!1,this.detectDeviceType()}detectDeviceType(){this.breakpointObserver.observe([v.u3.Handset,v.u3.Tablet]).subscribe(e=>{this.isMobile=e.matches,this.type=this.isMobile?"headerGrid":"headerlist"})}onFileSelected(e){this.selectedFile=e.target.files[0]}uploadFile(){const e=new FormData;e.append("file",this.selectedFile),this.http.post(localStorage.getItem("Server")+"/upload?flname="+this.seriesNumber,e).subscribe(n=>{this.apiservice.busyLoading(),console.log("File uploaded successfully",n)},n=>{console.error("Error uploading file",n)})}onUpdateSeries(){var e=this;return new Promise(function(){var n=(0,c.Z)(function*(o,i){e.apiservice.UpdateSeries().subscribe(function(){var a=(0,c.Z)(function*(s){});return function(s){return a.apply(this,arguments)}}()),o()});return function(o,i){return n.apply(this,arguments)}}())}ngOnInit(){this.isPutawayLoc=!1,this.isReady=!1,this.liveScanning=!1,this.rowData=[],this.selectedWh="",this.seriesNumber="",this.uploadRemarks="",this.onLoadData()}onGetNotification(){this.notifService.listen("notif").subscribe(e=>{"Manual"===e.title&&!this.isMobile&&this.onLoadData2()})}onSendNotification(){var e=this;return new Promise(function(){var n=(0,c.Z)(function*(o,i){e.notifService.sendMessage({user:"",title:"Manual",message:""}),o()});return function(o,i){return n.apply(this,arguments)}}())}fileChange(e){var n=this;return(0,c.Z)(function*(){const o=e.target.files;if(o.length){if(n.filename=o[0].name,n.selectedFile=e.target.files[0],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"!==o[0].type)return n.toastrService.error("Invalid file format. Only excel file(.xlsx) are allowed!","Uploading Error"),void n.removeFile();const i=new FileReader;i.onload=a=>{const s=(0,N.ij)(a.target.result),l=s.SheetNames;if(l.length){let m=function(C,M){return C.every(S=>M.every(q=>S.hasOwnProperty(q)))};const g=N.P6.sheet_to_json(s.Sheets[l[0]]);if(0===g.length)return n.removeFile(),void n.toastrService.error("File is empty","Invalid content");if(!1===m(g,["ItemNumber","Quantity"]))return n.toastrService.error("Invalid column header on the file!","Invalid Header"),void n.removeFile();n.rowData=g}else n.removeFile(),n.toastrService.error("Error has been occured, please contact your admin.","File Upload")},i.readAsArrayBuffer(o[0])}})()}pressUpload(){var e=this;this.selectedWh=localStorage.getItem("whseNo"),0!==this.rowData.length?this.apiservice.busyLoading().then((0,c.Z)(function*(){return yield e.GetSeriesNumber()})).then((0,c.Z)(function*(){return yield e.InsertHeader()})).then((0,c.Z)(function*(){return yield e.uploadFile()})).then((0,c.Z)(function*(){return yield e.onUpdateSeries()})).then((0,c.Z)(function*(){return yield e.onLoadData()})).catch(n=>console.log("error","Inserting Data","Error while loading the data!")):this.toastrService.error("Please select file!","Upload File!")}InsertHeader(){var e=this;return new Promise(function(){var n=(0,c.Z)(function*(o,i){e.apiservice.modDataOnly("&querytag=InsertManualHead&value1="+e.seriesNumber+"&value2="+e.selectedWh+"&value3="+e.uploadRemarks+"&value4="+localStorage.getItem("User")+"&value5=&value6=&value7=&value8=&value9=&value10=&value11=&value12=&value13=&value14=&value15=").subscribe(function(){var a=(0,c.Z)(function*(s){o()});return function(s){return a.apply(this,arguments)}}())});return function(o,i){return n.apply(this,arguments)}}())}InsertDetails(){var e=this;return new Promise(function(){var n=(0,c.Z)(function*(o,i){for(let a=0;a<e.rowData.length;a++)e.apiservice.modDataOnly("&querytag=InsertManualLine&value1="+e.seriesNumber+"&value2="+e.rowData[a].ItemNumber+"&value3="+e.rowData[a].Quantity+"&value4=Open&value5="+localStorage.getItem("User")+"&value6=&value7=&value8=&value9=&value10=&value11=&value12=&value13=&value14=&value15=").subscribe(function(){var s=(0,c.Z)(function*(l){yield e.InsertTransaction(e.rowData[a].ItemNumber,e.rowData[a].Quantity,"",e.seriesNumber,"-","Upload Inbound","-"),o()});return function(l){return s.apply(this,arguments)}}());e.apiservice.UpdateSeries().subscribe(function(){var a=(0,c.Z)(function*(s){});return function(s){return a.apply(this,arguments)}}()),o(),e.modalRef.close(),e.apiservice.closeBusyLoading(),e.apiservice.AlertTwo("success","SUCCESS","Uploading successfuly done!")});return function(o,i){return n.apply(this,arguments)}}())}GetSeriesNumber(){var e=this;return new Promise(function(){var n=(0,c.Z)(function*(o,i){e.apiservice.getDataMethod("&querytag=getSeries&value1=64&value2=&value3=&value4=").subscribe(function(){var a=(0,c.Z)(function*(s){e.seriesNumber="INB"+e.apiservice.onNumberSeries(s[0].NumberUsed+=1,9),e.SubjectRef=e.seriesNumber,o()});return function(s){return a.apply(this,arguments)}}())});return function(o,i){return n.apply(this,arguments)}}())}closeModalupload(){this.modalRef.close()}UploadModal(e){this.modalRef=this.modalService.open(e,{ariaLabelledBy:"modal-basic-title"})}removeFile(){this.filename="",this.rowData=[]}onLoadData(){var e=this;this.apiservice.busyLoading().then((0,c.Z)(function*(){return yield e.getBin()})).then((0,c.Z)(function*(){return yield e.loadOrderHeader()})).then((0,c.Z)(function*(){return yield e.apiservice.closeBusyLoading()})).catch(n=>console.log("error","Fetching Data","Error while loading the data!"))}onLoadData2(){var e=this;this.apiservice.busyLoading().then((0,c.Z)(function*(){return yield e.loadOrderHeader()})).then((0,c.Z)(function*(){return yield e.apiservice.closeBusyLoading()})).catch(n=>console.log("error","Fetching Data","Error while loading the data!"))}loadOrderHeader(){var e=this;return(0,c.Z)(function*(){return new Promise(function(){var n=(0,c.Z)(function*(o,i){yield e.apiservice.getHeader("&querytag=Manualpload&value1=&value2=&value3=&value4=").subscribe(function(){var a=(0,c.Z)(function*(s){e.POheaders=s,o()});return function(s){return a.apply(this,arguments)}}())});return function(o,i){return n.apply(this,arguments)}}())})()}getWarehouses(){var e=this;return(0,c.Z)(function*(){return new Promise(function(){var n=(0,c.Z)(function*(o,i){yield e.apiservice.getWHList("&querytag=GetWarehouse&value1="+localStorage.getItem("whseNo")+"&value2=&value3=&value4=").subscribe(function(){var a=(0,c.Z)(function*(s){e.warehouses=s,o()});return function(s){return a.apply(this,arguments)}}())});return function(o,i){return n.apply(this,arguments)}}())})()}toggle(e){var n=this;return new Promise(function(){var o=(0,c.Z)(function*(i,a){n.type=e,i()});return function(i,a){return o.apply(this,arguments)}}())}onreceiveL(e){var n=this;this.targetLocation="",this.openQtydis=e.Remaining,this.apiservice.busyLoading().then((0,c.Z)(function*(){return yield n.toggle("Detailslist")})).then((0,c.Z)(function*(){return yield n.onGetDetails(e.RefNumber)})).catch(o=>console.log("rejected!"))}getSelection(e){var n=this;return new Promise(function(){var o=(0,c.Z)(function*(i,a){n.apiservice.getDataMethod("&querytag=getSelectionExist&value1="+e.RefNumber+"&value2=&value3=&value4=").subscribe(s=>{0!==s.length?n.apiservice.modDataOnly("&querytag=UpdateSelection&value1="+e.RefNumber+"&value2="+localStorage.getItem("User")+"&value3=&value4=&value5=&value6=&value7=&value8=&value9=&value10=&value11=&value12=&value13&value14&value15").subscribe(l=>{}):n.apiservice.modDataOnly("&querytag=InsertSelection&value1="+e.RefNumber+"&value2="+localStorage.getItem("User")+"&value3=&value4=&value5=&value6=&value7=&value8=&value9=&value10=&value11=&value12=&value13&value14&value15").subscribe(l=>{}),i()})});return function(i,a){return o.apply(this,arguments)}}())}onreceiveG(e){var n=this;this.targetLocation="",this.openQtydis=e.Remaining,this.SelectedInb=e.RefNumber,this.apiservice.busyLoading().then((0,c.Z)(function*(){return yield n.toggle("DetailsGrid")})).then((0,c.Z)(function*(){return yield n.onGetDetails(e.RefNumber)})).catch(o=>console.log("rejected!"))}onBacktoHeaderL(){var e=this;this.apiservice.busyLoading().then((0,c.Z)(function*(){return yield e.toggle("headerlist")})).then((0,c.Z)(function*(){return yield e.apiservice.closeBusyLoading()})).catch(n=>console.log("rejected!"))}onBacktoHeaderG(){this.toggle("headerGrid")}openModal(e){0!==this.PODetails.filter(o=>0!==o.ScannedQty).length?(this.scannedLoc="",this.isPutawayLoc=!0,this.modalRef=this.modalService.open(e,{container:".app"})):this.apiservice.AlertTwo("warning","WARNING","No Scanned item found,Please scan item first!")}closeModal(){this.isPutawayLoc=!1,this.isReady=!1,this.modalRef.close()}editQtyFunc(e){var o,n=this;this.editableQty=e.ScannedQty,this.editableRow=this.PODetails.indexOf(e),d().fire({title:"UPDATE QUANTITY",input:"number",inputValue:this.editableQty,focusConfirm:!1,showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Update",showLoaderOnConfirm:!0,allowOutsideClick:!1,preConfirm:(o=(0,c.Z)(function*(i){""==i||parseInt(i)<=0?d().showValidationMessage("Please enter valid quantity!"):i!=n.editableQty?parseInt(i)>parseInt(e.OpenQty)&&d().showValidationMessage("Putaway quantity exceeds open quantity!"):d().showValidationMessage("Please change the quantity!")}),function(a){return o.apply(this,arguments)})}).then(o=>{o.isConfirmed&&(this.PODetails[parseInt(this.editableRow)].ScannedQty=parseInt(o.value),this.totalScaned=this.ScannedSum())})}onGetDetails(e){var n=this;return(0,c.Z)(function*(){return new Promise(function(){var o=(0,c.Z)(function*(i,a){yield n.apiservice.getDetails("&querytag=ManualDetails&value1="+e+"&value2=&value3=&value4=").subscribe(function(){var s=(0,c.Z)(function*(l){n.PODetails=l,n.apiservice.closeBusyLoading(),n.totalScaned=n.ScannedSum(),n.SubjectRef=e,i()});return function(l){return s.apply(this,arguments)}}()),setTimeout(function(){$("#myInput").focus(),this.barcodeData=""},500)});return function(i,a){return o.apply(this,arguments)}}())})()}onLoadPODetails(e){var n=this;console.log(e),this.apiservice.busyLoading().then((0,c.Z)(function*(){return yield n.onGetDetails(e)})).then((0,c.Z)(function*(){return yield n.apiservice.closeBusyLoading()})).catch(o=>this.apiservice.AlertOne("error","Fetching Data","Error while loading the data!"))}getBin(){var e=this;return(0,c.Z)(function*(){return new Promise(function(){var n=(0,c.Z)(function*(o,i){yield e.apiservice.getBins("&querytag=getAllBin&value1=&value2=&value3=&value4=").subscribe(function(){var a=(0,c.Z)(function*(s){e.Bins=s,e.modalRef&&e.modalRef.close(),o()});return function(s){return a.apply(this,arguments)}}())});return function(o,i){return n.apply(this,arguments)}}())})()}Putaway(){var e=this,n=this.Bins.filter(o=>o.BinName===this.targetLocation);this.isReady=0!==n.length,!0===this.isReady&&""!==this.targetLocation?this.apiservice.busyLoading().then((0,c.Z)(function*(){return yield e.modalRef.close()})).then((0,c.Z)(function*(){return yield e.insertInventory()})).then((0,c.Z)(function*(){return e.apiservice.closeBusyLoading()})).then((0,c.Z)(function*(){return yield e.SuccessAlert("success","SUCCESS","Putaway successfuly done!")})).catch(o=>console.log("error","Inserting Data","Error while loading the data!")):(this.toastrService.error("Please scan/enter bin location!"),setTimeout(function(){$("#myInput2").focus(),this.targetLocation=""},500))}formatDatePost(){const e=new Date,n=e.getDate().toString().padStart(2,"0"),o=(e.getMonth()+1).toString().padStart(2,"0"),i=e.getFullYear().toString(),a=e.getHours().toString().padStart(2,"0"),s=e.getMinutes().toString().padStart(2,"0"),l=e.getSeconds().toString().padStart(2,"0");return`${o}${n}${i.slice(-2)}${a}${s}${l}`}insertInventory(){var e=this;return new Promise(function(){var n=(0,c.Z)(function*(o,i){e.isPutawayLoc=!1;var a=e.PODetails.filter(s=>0!==s.ScannedQty);e.apiservice.postDataGTI(a,"ManualReceiving?transno="+e.formatDatePost()+"&BinLoc="+e.targetLocation+"&createdby="+localStorage.getItem("User")).subscribe(s=>{console.log(s)}),o()});return function(o,i){return n.apply(this,arguments)}}())}InsertTransaction(e,n,o,i,a,s,l){var g=this;return new Promise(function(){var m=(0,c.Z)(function*(f,y){g.apiservice.modDataOnly("&querytag=InsertTransaction&value1="+g.seriesNumber+"&value2="+s+"&value3="+e+"&value4="+n+"&value5="+o+"&value6="+i+"&value7="+a+"&value8="+l+"&value9="+localStorage.getItem("User")+"&value10=&value11=&value12=&value13=&value14=&value15=").subscribe(C=>{f()})});return function(f,y){return m.apply(this,arguments)}}())}SuccessAlert(e,n,o){var a,i=this;d().fire({position:"center",icon:"success",title:"Manual Receiving",text:"Putaway Successfully!",allowOutsideClick:!1,showConfirmButton:!0,confirmButtonText:"OK",willClose:(a=(0,c.Z)(function*(){i.isMobile?yield i.loadOrderHeader().then((0,c.Z)(function*(){return yield i.onBacktoHeaderG()})).catch(s=>console.log("error","refreshing","Error while loading the data!")):yield i.loadOrderHeader().then((0,c.Z)(function*(){return yield i.onBacktoHeaderL()})).catch(s=>console.log("error","refreshing","Error while loading the data!"))}),function(){return a.apply(this,arguments)})})}checkExistInventory(e,n){var o=this;return new Promise(function(){var i=(0,c.Z)(function*(a,s){yield o.apiservice.getWHList("&querytag=InventoryItem&value1="+o.targetLocation+"&value2="+e+"&value3=&value4=").subscribe(function(){var l=(0,c.Z)(function*(g){0===g.length?yield o.AddLineInventory(e,n):yield o.UpdateLineInventory(e,n)});return function(g){return l.apply(this,arguments)}}())});return function(a,s){return i.apply(this,arguments)}}())}UpdateLineInventory(e,n){var o=this;return new Promise(function(){var i=(0,c.Z)(function*(a,s){o.apiservice.addInventory("&querytag=UpdateInventory&value1="+n+"&value2="+o.targetLocation+"&value3="+e+"&value4=&value5=&value6=&value7=&value8&value9=&value10=&value11=&value12=&value13=&value14=&value15=").subscribe(l=>{a()})});return function(a,s){return i.apply(this,arguments)}}())}AddLineInventory(e,n){var o=this;return new Promise(function(){var i=(0,c.Z)(function*(a,s){o.apiservice.addInventory("&querytag=InsertInventory&value1="+o.targetLocation+"&value2="+e+"&value3="+n+"&value4=0&value5=&value6&value7=&value8=&value9=&value10=&value11=&value12=&value13=&value14=&value15=").subscribe(l=>{a()})});return function(a,s){return i.apply(this,arguments)}}())}openModalM(e){0!==this.PODetails.filter(o=>0!==o.ScannedQty).length?(setTimeout(function(){$("#myInput2").focus(),this.barcodeData=""},500),this.targetLocation="",this.isPutawayLoc=!0,this.modalRef=this.modalService.open(e,{container:".app"})):(this.isPutawayLoc=!1,this.apiservice.AlertTwo("warning","WARNING","No Scanned item found,Please scan item first!"))}OpenSum(){return this.PODetails.reduce((e,n)=>e+n.OpenQty,0)}ScannedSum(){return this.PODetails.reduce((e,n)=>e+n.ScannedQty,0)}static#t=this.\u0275fac=function(n){return new(n||r)(t.Y36(p.QS),t.Y36(P.NM),t.Y36(Z.j),t.Y36(O._W),t.Y36(j),t.Y36(v.Yg),t.Y36(b.eN))};static#e=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-manual-receiving"]],hostBindings:function(n,o){1&n&&t.NdJ("keydown",function(a){return o.handleKeyDown(a)},!1,t.Jf7)("keyup",function(a){return o.onKeyUp(a)},!1,t.Jf7)},decls:25,vars:15,consts:[[1,"row","mb-1"],[1,"col"],[1,"input-group","mb-3","box-shadow"],["class","input-group-prepend",4,"ngIf"],["type","text","placeholder","Search Purchase Order...","class","form-control border-0",3,"ngModel","ngModelChange",4,"ngIf"],["class","input-group-text border-top-0 border-right-0 border-bottom-0 mr-1 btn-grey",3,"click",4,"ngIf"],["placeholder","Scan item barcode here","class","form-control border-0",3,"ngModel","keyup.enter","ngModelChange",4,"ngIf"],[1,"input-group-append"],["class","input-group-text border-top-0 border-right-0 btn-danger mr-1 border-bottom-0",3,"click",4,"ngIf"],["class","input-group-text border-top-0 border-right-0 border-bottom-0 btn-success",3,"click",4,"ngIf"],["class","input-group-text border-top-0 border-right-0 btn-success border-bottom-0",3,"click",4,"ngIf"],["class","row",4,"ngIf"],["class","col-lg-3 col-md-5",4,"ngIf"],["class","col-lg-3 mt-0 col-md-5",4,"ngIf"],[1,"row"],[1,"col-12"],[1,"bg-white","text-center"],[3,"autoHide","maxSize","pageChange"],["Upload",""],["PutawayStocks",""],["class","settings2",3,"ngClass",4,"ngIf"],[1,"input-group-prepend"],[1,"input-group-text","border-top-0","border-left-0","border-bottom-0"],[1,"fa","fa-search"],["type","text","placeholder","Search Purchase Order...",1,"form-control","border-0",3,"ngModel","ngModelChange"],[1,"input-group-text","border-top-0","border-right-0","border-bottom-0","mr-1","btn-grey",3,"click"],[1,"fa","fa-refresh"],[1,"fa","fa-qrcode"],["placeholder","Scan item barcode here",1,"form-control","border-0",3,"ngModel","keyup.enter","ngModelChange"],[1,"input-group-text","border-top-0","border-right-0","btn-danger","mr-1","border-bottom-0",3,"click"],[1,"fa","fa-mail-reply"],[1,"input-group-text","border-top-0","border-right-0","border-bottom-0","btn-success",3,"click"],[1,"fa","fa-shopping-cart"],[1,"input-group-text","border-top-0","border-right-0","btn-success","border-bottom-0",3,"click"],[1,"fa","fa-upload"],[1,"table-responsive","bg-white","box-shadow"],[1,"table","table-hover"],[4,"ngFor","ngForOf"],[1,"align-middle"],[1,"align-middle","text-truncate"],[1,"align-left","text-truncate"],[1,"badge","badge-warning","mr-1"],["role","group",1,"btn-group"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"card","border-0","box-shadow","ml-2","mb-4"],[1,"d-flex","justify-content-between","mb-4"],[1,"p-6","ml-2","mt-2",2,"font-weight","bold"],[1,"p-6","mr-4",2,"font-weight","bold"],["type","submit","class","btn btn-warning btn-sm",3,"click",4,"ngIf"],["type","submit",1,"btn","btn-warning","btn-sm",3,"click"],[1,"fa","fa-edit"],[1,"col-lg-3","col-md-5"],[1,"card","border-0","box-shadow","mb-4"],["class","col-xl-4 col-lg-6 mb-4",4,"ngFor","ngForOf"],[1,"col-xl-4","col-lg-6","mb-4"],[1,"flip"],[1,"content"],[1,"front"],[1,"card","border-0","box-shadow","rounded-0"],[1,"card-header","border-0","rounded-0","text-muted"],[1,"mb-0"],["placement","bottom",1,"fa","fa-circle","text-success",3,"ngbTooltip"],[1,"widget-controls"],[1,"card-body","pt-3"],[1,"media"],[1,"d-flex","flex-column","justify-content-center"],[1,"media-body","ml-4","mb-2","mt-0"],[1,"row",3,"click"],[1,"col-4","text-gray","text-left","pr-0","text-truncate"],[1,"col-2","text-gray","text-left","pr-0","text-truncate"],[1,"col-6","pl-2","text-left","text-truncate"],[1,"col-lg-3","mt-0","col-md-5"],["id","myInput","placeholder","Enter barcode here...",1,"form-control","border-0",3,"ngModel","keyup.enter","ngModelChange"],["class","input-group-text border-top-0 border-right-0 border-bottom-0 mr-1 btn-success",3,"click",4,"ngIf"],["class","badge badge-warning mr-1",4,"ngIf"],["class","badge badge-info mr-1",4,"ngIf"],["class","badge badge-primary mr-1",4,"ngIf"],[1,"input-group-text","border-top-0","border-right-0","border-bottom-0","mr-1","btn-success",3,"click"],[1,"fa","fa-shopping-basket"],[1,"badge","badge-info","mr-1"],[1,"badge","badge-primary","mr-1"],[1,"card-body"],[1,"media-body","ml-4"],[1,"col-0","text-gray","text-left","pr-0","text-truncate"],[1,"col-10","pl-2","text-left","text-truncate"],[1,"col-lg-12","mb-2"],["widget","",1,"card","border-0","box-shadow"],[1,"card-header","transparent","border-0","text-muted"],["data-widgster","close",1,"transition",3,"click"],[1,"fa","fa-times"],[1,"form-group"],[1,"input-group","file-upload"],["type","file",1,"file-upload-btn",3,"change"],["type","text","placeholder","Choose a file...",1,"form-control",3,"value"],["class","fa fa-times delete-file",3,"click",4,"ngIf"],["type","button",1,"btn","btn-info"],[1,"fa","fa-folder-open"],["type","text","placeholder","Remarks",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-sm-12"],[1,"custom-control","custom-checkbox","col-sm-12","mb-2","ml-4"],["type","submit",1,"btn","btn-success","pull-right",3,"click"],[1,"fa","fa-times","delete-file",3,"click"],[1,"modal-header-own"],["id","modal-basic-title",1,"modal-title",2,"color","black","margin-top","18px","margin-left","16px"],[1,"modal-body"],[1,"container","mb-3","mt-3"],["type","text","id","myInput2","placeholder","Scan bin barcode here...",1,"form-control","border-0",3,"ngModel","ngModelChange","keyup.enter"],[1,"input-group-text","border-top-0","border-right-0","border-bottom-0"],[1,"fa","fa-reorder"],[1,"button-container"],["type","button",1,"btn","btn-success","mr-1",3,"click"],["type","button",1,"btn","btn-danger","mr-1",3,"click"],[1,"settings2",3,"ngClass"],[1,"btn","btn-danger","btn-rounded",3,"click"],[1,"fa","fa-mail-reply-all"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t.YNc(3,W,3,0,"div",3)(4,z,1,1,"input",4)(5,V,2,0,"button",5)(6,X,3,0,"div",3)(7,tt,1,1,"input",6),t.TgZ(8,"div",7),t.YNc(9,et,3,0,"Button",8)(10,nt,3,0,"Button",9)(11,ot,3,0,"Button",10),t.qZA()()()(),t.YNc(12,rt,25,9,"div",11)(13,st,28,8,"div",11)(14,dt,6,9,"div",12)(15,Pt,14,11,"div",13),t.TgZ(16,"div",14)(17,"div",15)(18,"div",16)(19,"pagination-controls",17),t.NdJ("pageChange",function(a){return o.p=a}),t.qZA()()()(),t.YNc(20,xt,25,3,"ng-template",null,18,t.W1O)(22,bt,15,1,"ng-template",null,19,t.W1O)(24,Ot,4,3,"div",20)),2&n&&(t.xp6(3),t.Q6J("ngIf","headerGrid"==o.type||"headerlist"==o.type),t.xp6(1),t.Q6J("ngIf","headerGrid"==o.type||"headerlist"==o.type),t.xp6(1),t.Q6J("ngIf","headerGrid"==o.type||"headerlist"==o.type),t.xp6(1),t.Q6J("ngIf","Detailslist"==o.type),t.xp6(1),t.Q6J("ngIf","Detailslist"==o.type),t.xp6(2),t.Q6J("ngIf","Detailslist"==o.type),t.xp6(1),t.Q6J("ngIf","Detailslist"==o.type),t.xp6(1),t.Q6J("ngIf","headerlist"==o.type),t.xp6(1),t.Q6J("ngIf","headerlist"==o.type&&!o.isMobile),t.xp6(1),t.Q6J("ngIf","Detailslist"==o.type&&!o.isMobile),t.xp6(1),t.Q6J("ngIf","headerGrid"==o.type&&o.isMobile),t.xp6(1),t.Q6J("ngIf","DetailsGrid"==o.type&&o.isMobile),t.xp6(4),t.Q6J("autoHide",!0)("maxSize",3),t.xp6(5),t.Q6J("ngIf","DetailsGrid"==o.type||"DetailsGridView"==o.type||"RequestGrid"==o.type))},dependencies:[_.mk,_.sg,_.O5,p.Fj,p.JJ,p.On,P._L,x.LS,Y.B,x._s],styles:[".flip[_ngcontent-%COMP%]{width:100%;height:180px;position:relative;-o-perspective:800px;perspective:800px}.flip[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;transition:transform .6s;transform-style:preserve-3d}.flip[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   div.front[_ngcontent-%COMP%], .flip[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   div.back[_ngcontent-%COMP%]{height:100%;width:100%;position:absolute;z-index:0;backface-visibility:hidden}.flip[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   div.front[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%], .flip[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   div.back[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{height:180px}.flip[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   div.back[_ngcontent-%COMP%]{z-index:1;transform:rotateY(180deg)}.flip[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   div.back[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]{width:100%}.flip[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   div.back[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{width:100%;margin-top:-1px}.flip[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   div.back[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#666}.flip[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   div.back[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .fa-check[_ngcontent-%COMP%]{color:#378d3b}.flip[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   div.back[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .fa-times[_ngcontent-%COMP%]{color:#d22e2e}.flip[_ngcontent-%COMP%]   .content.flipped[_ngcontent-%COMP%]{transform:rotateY(180deg)}.z-index-1[_ngcontent-%COMP%]{z-index:1}.file-upload[_ngcontent-%COMP%]   .file-upload-btn[_ngcontent-%COMP%]{position:absolute;width:100%;height:35px;z-index:9;opacity:0}.file-upload[_ngcontent-%COMP%]   .delete-file[_ngcontent-%COMP%]{position:absolute;right:50px;top:8px;font-size:16px;opacity:.8;cursor:pointer;z-index:99;visibility:hidden}.file-upload[_ngcontent-%COMP%]:hover   .delete-file[_ngcontent-%COMP%]{visibility:visible}.text-muted[_ngcontent-%COMP%]{color:#000!important}.border-0[_ngcontent-%COMP%]{border:0!important}.card-header[_ngcontent-%COMP%]{padding:.75rem .25rem;margin-bottom:0;background-color:#00000008;border-bottom:1px solid rgba(0,0,0,.125)}.card-footer[_ngcontent-%COMP%]{padding:.1rem 0rem;background-color:#fff;border-top:0px #fff}.col-xl[_ngcontent-%COMP%], .col-xl-auto[_ngcontent-%COMP%], .col-xl-12[_ngcontent-%COMP%], .col-xl-11[_ngcontent-%COMP%], .col-xl-10[_ngcontent-%COMP%], .col-xl-9[_ngcontent-%COMP%], .col-xl-8[_ngcontent-%COMP%], .col-xl-7[_ngcontent-%COMP%], .col-xl-6[_ngcontent-%COMP%], .col-xl-5[_ngcontent-%COMP%], .col-xl-4[_ngcontent-%COMP%], .col-xl-3[_ngcontent-%COMP%], .col-xl-2[_ngcontent-%COMP%], .col-xl-1[_ngcontent-%COMP%], .col-lg[_ngcontent-%COMP%], .col-lg-auto[_ngcontent-%COMP%], .col-lg-12[_ngcontent-%COMP%], .col-lg-11[_ngcontent-%COMP%], .col-lg-10[_ngcontent-%COMP%], .col-lg-9[_ngcontent-%COMP%], .col-lg-8[_ngcontent-%COMP%], .col-lg-7[_ngcontent-%COMP%], .col-lg-6[_ngcontent-%COMP%], .col-lg-5[_ngcontent-%COMP%], .col-lg-4[_ngcontent-%COMP%], .col-lg-3[_ngcontent-%COMP%], .col-lg-2[_ngcontent-%COMP%], .col-lg-1[_ngcontent-%COMP%], .col-md[_ngcontent-%COMP%], .col-md-auto[_ngcontent-%COMP%], .col-md-12[_ngcontent-%COMP%], .col-md-11[_ngcontent-%COMP%], .col-md-10[_ngcontent-%COMP%], .col-md-9[_ngcontent-%COMP%], .col-md-8[_ngcontent-%COMP%], .col-md-7[_ngcontent-%COMP%], .col-md-6[_ngcontent-%COMP%], .col-md-5[_ngcontent-%COMP%], .col-md-4[_ngcontent-%COMP%], .col-md-3[_ngcontent-%COMP%], .col-md-2[_ngcontent-%COMP%], .col-md-1[_ngcontent-%COMP%], .col-sm[_ngcontent-%COMP%], .col-sm-auto[_ngcontent-%COMP%], .col-sm-12[_ngcontent-%COMP%], .col-sm-11[_ngcontent-%COMP%], .col-sm-10[_ngcontent-%COMP%], .col-sm-9[_ngcontent-%COMP%], .col-sm-8[_ngcontent-%COMP%], .col-sm-7[_ngcontent-%COMP%], .col-sm-6[_ngcontent-%COMP%], .col-sm-5[_ngcontent-%COMP%], .col-sm-4[_ngcontent-%COMP%], .col-sm-3[_ngcontent-%COMP%], .col-sm-2[_ngcontent-%COMP%], .col-sm-1[_ngcontent-%COMP%], .col[_ngcontent-%COMP%], .col-auto[_ngcontent-%COMP%], .col-12[_ngcontent-%COMP%], .col-11[_ngcontent-%COMP%], .col-10[_ngcontent-%COMP%], .col-9[_ngcontent-%COMP%], .col-8[_ngcontent-%COMP%], .col-7[_ngcontent-%COMP%], .col-6[_ngcontent-%COMP%], .col-5[_ngcontent-%COMP%], .col-4[_ngcontent-%COMP%], .col-3[_ngcontent-%COMP%], .col-2[_ngcontent-%COMP%], .col-1[_ngcontent-%COMP%]{position:relative;width:100%;padding-right:9px;padding-left:8px}.mb-4[_ngcontent-%COMP%], .my-4[_ngcontent-%COMP%]{margin-bottom:.2rem!important}.settings2[_ngcontent-%COMP%]{position:fixed;top:80px;right:-300px;z-index:1018;width:340px;transition:all .2s}.settings2.show[_ngcontent-%COMP%]{right:-1px}.settings2[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{position:absolute;left:-310px;padding:7px 12px 7px 10px;z-index:99;color:#efe5e5;bottom:-37rem!important;cursor:pointer}.settings2[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:focus{box-shadow:none}.settings4[_ngcontent-%COMP%]{position:fixed;top:80px;right:-275px;z-index:1018;width:340px;transition:all .2s}.settings4.show[_ngcontent-%COMP%]{right:-1px}.settings4[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{position:absolute;left:-196px;padding:7px 12px 7px 10px;z-index:99;color:#efe5e5;bottom:-37rem!important;cursor:pointer}.settings4[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:focus{box-shadow:none}"]})}return r})();var Zt=h(6370);const Tt=["PutawayStocks"];function St(r,u){if(1&r){const e=t.EpF();t.TgZ(0,"span",18),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2),i=t.MAs(6);return t.KtG(o.onTransfer(i))}),t._UZ(1,"i",19),t._uU(2,"\xa0\xa0Transfer"),t.qZA()}}function wt(r,u){if(1&r){const e=t.EpF();t.TgZ(0,"div",10)(1,"div",11)(2,"div",12)(3,"span",13),t._UZ(4,"i",14),t.qZA(),t.TgZ(5,"input",15),t.NdJ("ngModelChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.ScanBarcode=o)}),t.qZA(),t.TgZ(6,"div",16),t.YNc(7,St,3,0,"span",17),t.qZA()()()()}if(2&r){const e=t.oxw();t.xp6(5),t.Q6J("ngModel",e.ScanBarcode),t.xp6(2),t.Q6J("ngIf",0!==e.InventoryTransfer.length)}}function It(r,u){if(1&r){const e=t.EpF();t.TgZ(0,"button",33),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit,i=t.oxw(2);return t.KtG(i.editQtyFunc(o))}),t._UZ(1,"i",34),t.qZA()}}function Dt(r,u){if(1&r){const e=t.EpF();t.TgZ(0,"tr"),t._UZ(1,"td",27),t.TgZ(2,"td",27)(3,"img",28),t.NdJ("error",function(){const i=t.CHM(e).$implicit,a=t.oxw(2);return t.KtG(a.onImgError(i))}),t.qZA()(),t.TgZ(4,"td",29),t._uU(5),t.qZA(),t.TgZ(6,"td",29),t._uU(7),t.qZA(),t.TgZ(8,"td",29),t._uU(9),t.qZA(),t.TgZ(10,"td",29),t._uU(11),t.qZA(),t.TgZ(12,"td",29),t._uU(13),t.qZA(),t.TgZ(14,"td",29),t._uU(15),t.qZA(),t.TgZ(16,"td",29),t._UZ(17,"div",30),t.TgZ(18,"div",31),t.YNc(19,It,2,0,"button",32),t.qZA()()()}if(2&r){const e=u.$implicit,n=t.oxw(2);t.xp6(3),t.Q6J("src",e.ItemImage,t.LSH),t.xp6(2),t.Oqu(e.BinLoc),t.xp6(2),t.Oqu(e.ItemNumber),t.xp6(2),t.Oqu(e.ItemName),t.xp6(2),t.Oqu(e.UPC),t.xp6(2),t.Oqu(e.InvQty),t.xp6(2),t.Oqu(e.ScannedQty),t.xp6(4),t.Q6J("ngIf",0!=e.ScannedQty&&""==n.SubjectRef)}}const qt=r=>({itemsPerPage:10,currentPage:r});function At(r,u){if(1&r&&(t.TgZ(0,"div",6)(1,"div",20)(2,"div",21)(3,"div",22),t._uU(4),t.qZA(),t._UZ(5,"div",23),t.qZA()(),t.TgZ(6,"div",7)(7,"div",24)(8,"table",25)(9,"thead")(10,"tr"),t._UZ(11,"th")(12,"th"),t.TgZ(13,"th"),t._uU(14,"Location"),t.qZA(),t.TgZ(15,"th"),t._uU(16,"Item Number"),t.qZA(),t.TgZ(17,"th"),t._uU(18,"Item Description"),t.qZA(),t.TgZ(19,"th"),t._uU(20,"UPC"),t.qZA(),t.TgZ(21,"th"),t._uU(22,"Quantity"),t.qZA(),t.TgZ(23,"th"),t._uU(24,"Scanned"),t.qZA(),t._UZ(25,"th"),t.qZA()(),t.TgZ(26,"tbody"),t.YNc(27,Dt,20,8,"tr",26),t.ALo(28,"paginate"),t.qZA()()()()()),2&r){const e=t.oxw();t.xp6(4),t.hij("Total Quantity: ",e.totalScaned,""),t.xp6(23),t.Q6J("ngForOf",t.xi3(28,2,e.InventoryTransfer,t.VKq(5,qt,e.p)))}}function Nt(r,u){if(1&r&&(t.TgZ(0,"span",47),t._uU(1),t.qZA()),2&r){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(e.conres)}}function Ut(r,u){if(1&r&&(t.TgZ(0,"span",58),t._uU(1),t.qZA()),2&r){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(e.conres)}}function Bt(r,u){if(1&r){const e=t.EpF();t.TgZ(0,"div",39)(1,"div",40)(2,"div",41)(3,"div",42)(4,"div",43)(5,"div",44)(6,"h6",45),t._uU(7),t.qZA(),t.TgZ(8,"div",46)(9,"span",47),t._uU(10),t.qZA(),t._uU(11," - "),t.YNc(12,Nt,2,1,"span",48)(13,Ut,2,1,"span",49),t.qZA()(),t.TgZ(14,"div",50)(15,"div",51)(16,"div",52)(17,"div",6),t._UZ(18,"div",53)(19,"div",53),t.TgZ(20,"div",54)(21,"h5",45),t._uU(22),t.qZA()(),t._UZ(23,"div",53)(24,"div",53),t.TgZ(25,"div",54),t._uU(26),t.qZA(),t.TgZ(27,"div",55),t._uU(28,"Quantity"),t.qZA(),t.TgZ(29,"div",53),t._uU(30,":"),t.qZA(),t.TgZ(31,"div",56),t._uU(32),t.qZA(),t.TgZ(33,"div",55),t._uU(34,"Scanned"),t.qZA(),t.TgZ(35,"div",53),t._uU(36,":"),t.qZA(),t.TgZ(37,"div",56),t._uU(38),t.qZA()()(),t.TgZ(39,"div",57)(40,"img",28),t.NdJ("error",function(){const i=t.CHM(e).$implicit,a=t.oxw(2);return t.KtG(a.onImgError(i))}),t.qZA()()()()()()()()()}if(2&r){const e=u.$implicit;t.xp6(7),t.hij(" ",e.ItemName," "),t.xp6(3),t.Oqu(e.BinLoc),t.xp6(2),t.Q6J("ngIf","L1"==e.conres),t.xp6(1),t.Q6J("ngIf","L1"!==e.conres),t.xp6(9),t.Oqu(e.ItemNumber),t.xp6(4),t.Oqu(e.UPC),t.xp6(6),t.Oqu(e.InvQty),t.xp6(6),t.Oqu(e.ScannedQty),t.xp6(2),t.Q6J("src",e.ItemImage,t.LSH)}}const kt=r=>({itemsPerPage:5,currentPage:r});function Et(r,u){if(1&r){const e=t.EpF();t.TgZ(0,"div",35)(1,"div",12)(2,"div",36)(3,"span",13),t._UZ(4,"i",14),t.qZA()(),t.TgZ(5,"input",37),t.NdJ("ngModelChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.ScanBarcode=o)}),t.qZA()(),t.TgZ(6,"div",20)(7,"div",21)(8,"div",22),t._uU(9),t.qZA(),t._UZ(10,"div",23),t.qZA()(),t.YNc(11,Bt,41,9,"div",38),t.ALo(12,"paginate"),t.qZA()}if(2&r){const e=t.oxw();t.xp6(5),t.Q6J("ngModel",e.ScanBarcode),t.xp6(4),t.hij("Total Quantity: ",e.totalScaned,""),t.xp6(2),t.Q6J("ngForOf",t.xi3(12,3,e.InventoryTransfer,t.VKq(6,kt,e.p)))}}function Qt(r,u){1&r&&t._UZ(0,"li",90)}function Rt(r,u){1&r&&t._UZ(0,"li",91)}function Lt(r,u){1&r&&t._UZ(0,"li",92)}function Ht(r,u){1&r&&t._UZ(0,"li",93)}function Ft(r,u){if(1&r&&(t.TgZ(0,"div",94),t._UZ(1,"img",95),t.qZA()),2&r){const e=t.oxw(3);t.xp6(1),t.Q6J("src",e.ImgStocks[0].image_url,t.LSH)}}function Gt(r,u){if(1&r&&(t.TgZ(0,"div",96),t._UZ(1,"img",95),t.qZA()),2&r){const e=t.oxw(3);t.xp6(1),t.Q6J("src",e.ImgStocks[1].image_url,t.LSH)}}function Jt(r,u){if(1&r&&(t.TgZ(0,"div",96),t._UZ(1,"img",95),t.qZA()),2&r){const e=t.oxw(3);t.xp6(1),t.Q6J("src",e.ImgStocks[2].image_url,t.LSH)}}function Kt(r,u){if(1&r&&(t.TgZ(0,"div",96),t._UZ(1,"img",95),t.qZA()),2&r){const e=t.oxw(3);t.xp6(1),t.Q6J("src",e.ImgStocks[3].image_url,t.LSH)}}function jt(r,u){if(1&r&&(t.TgZ(0,"div",76)(1,"ol",77),t.YNc(2,Qt,1,0,"li",78)(3,Rt,1,0,"li",79)(4,Lt,1,0,"li",80)(5,Ht,1,0,"li",81),t.qZA(),t.TgZ(6,"div",82),t.YNc(7,Ft,2,1,"div",83)(8,Gt,2,1,"div",84)(9,Jt,2,1,"div",84)(10,Kt,2,1,"div",84),t.qZA(),t.TgZ(11,"a",85),t._UZ(12,"span",86),t.TgZ(13,"span",87),t._uU(14,"Previous"),t.qZA()(),t.TgZ(15,"a",88),t._UZ(16,"span",89),t.TgZ(17,"span",87),t._uU(18,"Next"),t.qZA()()()),2&r){const e=t.oxw(2);t.xp6(2),t.Q6J("ngIf",e.ImgStocks.length>=1),t.xp6(1),t.Q6J("ngIf",e.ImgStocks.length>=2),t.xp6(1),t.Q6J("ngIf",e.ImgStocks.length>=3),t.xp6(1),t.Q6J("ngIf",e.ImgStocks.length>=4),t.xp6(2),t.Q6J("ngIf",e.ImgStocks.length>=1),t.xp6(1),t.Q6J("ngIf",e.ImgStocks.length>=2),t.xp6(1),t.Q6J("ngIf",e.ImgStocks.length>=3),t.xp6(1),t.Q6J("ngIf",e.ImgStocks.length>=4)}}function $t(r,u){1&r&&(t.TgZ(0,"div",97)(1,"div",82)(2,"div",98),t._UZ(3,"img",99),t.qZA()()())}function Yt(r,u){1&r&&(t.TgZ(0,"li",67)(1,"div",36)(2,"a",100),t._uU(3,"\u29bf"),t.qZA()()())}function Wt(r,u){if(1&r&&(t.TgZ(0,"span",101),t._uU(1),t.qZA()),2&r){const e=t.oxw(2);t.xp6(1),t.Oqu(e.reqItemBal)}}function zt(r,u){if(1&r&&(t.TgZ(0,"span",102),t._uU(1),t.qZA()),2&r){const e=t.oxw(2);t.xp6(1),t.Oqu(e.reqItemBal)}}function Vt(r,u){if(1&r&&(t.TgZ(0,"span",103),t._uU(1),t.qZA()),2&r){const e=t.oxw(2);t.xp6(1),t.Oqu(e.reqItemBal)}}function Xt(r,u){if(1&r){const e=t.EpF();t.TgZ(0,"div",59)(1,"h6",45),t._uU(2,"ITEM"),t.qZA(),t._UZ(3,"div",46),t.qZA(),t.TgZ(4,"div",60)(5,"div",61),t.YNc(6,jt,19,8,"div",62)(7,$t,4,0,"div",63),t.TgZ(8,"div",64)(9,"ul",65),t.YNc(10,Yt,4,0,"li",66),t.TgZ(11,"li",67),t._uU(12),t.qZA(),t.TgZ(13,"li",67),t._uU(14),t.qZA(),t.TgZ(15,"li",67),t._uU(16),t.qZA(),t.TgZ(17,"li",67),t._uU(18,"\u29bf Available Quantity: "),t.YNc(19,Wt,2,1,"span",68)(20,zt,2,1,"span",69)(21,Vt,2,1,"span",70),t.qZA(),t.TgZ(22,"li",67)(23,"input",71),t.NdJ("ngModelChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.reqQuantity=o)}),t.qZA()()()(),t.TgZ(24,"div",72)(25,"div",73),t._UZ(26,"div",74),t.TgZ(27,"div",74)(28,"button",75),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._uU(29,"Cancel"),t.qZA()()()()()()}if(2&r){const e=t.oxw();t.xp6(6),t.Q6J("ngIf",e.ImgStocks.length>0),t.xp6(1),t.Q6J("ngIf",e.ImgStocks.length<=0),t.xp6(3),t.Q6J("ngIf",0==e.isEdit),t.xp6(2),t.hij("\u29bf ",e.reqItemBarcode,""),t.xp6(2),t.hij("\u29bf ",e.reqItemName,""),t.xp6(2),t.hij("\u29bf Brand: ",e.reqItemBrand,""),t.xp6(3),t.Q6J("ngIf",e.reqItemBal<=10),t.xp6(1),t.Q6J("ngIf",e.reqItemBal>=10&&e.reqItemBal<=20),t.xp6(1),t.Q6J("ngIf",e.reqItemBal>=20),t.xp6(2),t.Q6J("ngModel",e.reqQuantity)}}function te(r,u){if(1&r){const e=t.EpF();t.TgZ(0,"div",104)(1,"h3",105),t._uU(2,"Scan Bin Location"),t.qZA()(),t.TgZ(3,"div",106)(4,"div",107)(5,"div",12)(6,"input",108),t.NdJ("keyup.enter",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onDialogPressEnter())})("ngModelChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.targetLocation=o)}),t.qZA()(),t.TgZ(7,"div",109)(8,"button",110),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onExecuteReturn())}),t._uU(9,"Transfer"),t.qZA(),t.TgZ(10,"button",111),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._uU(11,"Cancel"),t.qZA()()()()}if(2&r){const e=t.oxw();t.xp6(6),t.Q6J("ngModel",e.targetLocation),t.xp6(2),t.Q6J("disabled",e.IsDiable)}}const ee=r=>({show:r});function ne(r,u){if(1&r){const e=t.EpF();t.TgZ(0,"div",112)(1,"button",113),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(),i=t.MAs(6);return t.KtG(o.onTransfer(i))}),t._UZ(2,"img",114),t.qZA()()}if(2&r){const e=t.oxw();t.Q6J("ngClass",t.VKq(1,ee,e.showSetting))}}let oe=(()=>{class r{constructor(e,n,o,i){this.toastrService=n,this.apiservice=o,this.breakpointObserver=i,this.PicklistDetails=[],this.ImgStocks=[],this.OrderDetails=[],this.isMobile=!1,this.isNewItem=!1,this.uploadRemarks="",this.type="Detailslist",this.modalService=(0,t.f3M)(P.FF),this.rowData=[],this.PickList=[],this.scannedData="",this.totalScaned=0,this.barcodeData="",this.targetLocation="",this.MTLocation="",this.reqQuantity=0,this.currentInventory=[],this.isEdit=!1,this.isProcessing=!1,this.isModalOpen=!1,this.showSetting=!1,e.backdrop="static",e.keyboard=!1,this.detectDeviceType(),this.imgUrl="assets/img/GTI.PNG"}handleKeyDown(e){("F12"===e.key||"Enter"===e.key)&&setTimeout(function(){$("#myInput").focus(),this.ScanBarcode=""},1e3)}trimIfTooLong(e){const n=e.toString();return n.length>12?n.slice(0,-1):n}handleKeyUp(e){if(("F12"===e.key||"Enter"===e.key)&&""!==this.ScanBarcode&&(e.preventDefault(),this.ScanBarcode=this.ScanBarcode.length>12?this.ScanBarcode.slice(0,12):this.ScanBarcode,"Detailslist"===this.type||"DetailsGrid"===this.type)){var n=this.MyInventoryDetails.filter(i=>i.BinLoc===this.ScanBarcode&&0!==i.InvQty);if(""!==this.currentBin&&0!==n.length)this.InventoryTransfer=n,this.onPlayScanned(),this.toastrService.success("Scan item now!"),this.currentBin=this.ScanBarcode,this.ScanBarcode="",this.barcodeData="",this.totalScaned=0,setTimeout(function(){$("#itemInput").focus(),this.ScanBarcode=""},1e3);else if(""==this.currentBin&&0!==n.length)this.InventoryTransfer=n,this.onPlayScanned(),this.toastrService.success("Scan item now!"),this.currentBin=this.ScanBarcode,this.ScanBarcode="",this.barcodeData="",setTimeout(function(){$("#itemInput").focus(),this.ScanBarcode=""},1e3);else if(""!==this.currentBin&&0==n.length){var o=this.InventoryTransfer.filter(i=>(i.UPC===this.ScanBarcode||i.ItemNumber===this.ScanBarcode)&&i.BinLoc===this.currentBin);0!==o.length?o[0].ScannedQty===o[0].InvQty?(this.onPlayError(),this.toastrService.error("Scanned quantity exceeds available quantity!"),this.ScanBarcode="",this.barcodeData=""):(o[0].ScannedQty+=1,this.totalScaned=this.ScannedSum(),o[0].timestamper=parseInt((0,_.p6)(new Date,"HHmmss","en-US")),this.InventoryTransfer=this.InventoryTransfer.slice().sort((i,a)=>a.timestamper-i.timestamper),this.onPlayScanned(),this.toastrService.success(this.ScanBarcode),this.ScanBarcode="",this.barcodeData=""):(this.onPlayError(),this.toastrService.error("Item not found in location!!"),this.ScanBarcode="",this.barcodeData="",setTimeout(function(){$("#itemInput").focus(),this.ScanBarcode=""},1e3))}else this.currentBin="",this.onPlayError(),this.toastrService.error("invalid location!"),this.ScanBarcode="",this.barcodeData=""}}onPlayScanned(){let e=new Audio;e.src="../assets/ringtone/barcode_beep_sound.mp3",e.load(),e.play()}onPlayError(){let e=new Audio;e.src="../assets/ringtone/cursor_error.mp3",e.load(),e.play()}getInventory(e){var n=this;return(0,c.Z)(function*(){return new Promise(function(){var o=(0,c.Z)(function*(i,a){yield n.apiservice.getDataMethod("&querytag=getInventoryItem&value1="+e+"&value2=&value3=&value4=").subscribe(function(){var s=(0,c.Z)(function*(l){var g=0,m=n.PicklistDetails.filter(f=>f.ItemNumber===e||f.UPC===e);0!==m.length&&(g=m[0].Quantity),n.InventoryDetails=l,0!==l.length?(n.ItemCode=l[0].ItemNumber,n.reqItemName=l[0].ItemName,n.reqItemBarcode=l[0].UPC,n.reqItemBrand=l[0].Brand,n.reqItemBal=parseInt(l[0].InvQty)-g,i()):(n.ScanBarcode="",n.barcodeData="",console.log("reject"),a())});return function(l){return s.apply(this,arguments)}}())});return function(i,a){return o.apply(this,arguments)}}())})()}getSKU(){var e=this;return(0,c.Z)(function*(){return new Promise(function(){var n=(0,c.Z)(function*(o,i){yield e.apiservice.getDataMethod("&querytag=getInventoryItemLike&value1="+e.reqItemName+"&value2=&value3=&value4=").subscribe(function(){var a=(0,c.Z)(function*(s){e.SKUs=s,o()});return function(s){return a.apply(this,arguments)}}())});return function(o,i){return n.apply(this,arguments)}}())})()}getIMG(){var e=this;return(0,c.Z)(function*(){return new Promise(function(){var n=(0,c.Z)(function*(o,i){let a=e.ItemCode.split("-"),s="";1==a.length||2==a.length?s=a[0]:3==a.length?s=a[0]+"-"+a[1]:4==a.length&&(s=a[0]+"-"+a[1]+"-"+a[2]),yield e.apiservice.getItemImg(s).subscribe(function(){var l=(0,c.Z)(function*(g){e.ImgStocks=g,o()});return function(g){return l.apply(this,arguments)}}())});return function(o,i){return n.apply(this,arguments)}}())})()}detectDeviceType(){this.breakpointObserver.observe([v.u3.Handset,v.u3.Tablet]).subscribe(e=>{this.isMobile=e.matches,this.type=this.isMobile?"DetailsGrid":"Detailslist"})}onpressentersku(){var e=this;return(0,c.Z)(function*(){if("Detailslist"===e.type||"DetailsGrid"===e.type){e.ScanBarcode=e.ScanBarcode.length>12?e.ScanBarcode.slice(0,12):e.ScanBarcode;var n=e.MyInventoryDetails.filter(i=>i.BinLoc===e.ScanBarcode&&0!==i.InvQty);if(""!==e.currentBin&&0!==n.length)e.InventoryTransfer=n,e.toastrService.success("Scan item now!"),e.currentBin=e.ScanBarcode,e.totalScaned=0;else if(""==e.currentBin&&0!==n.length)e.InventoryTransfer=n,e.toastrService.success("Scan item now!"),e.currentBin=e.ScanBarcode;else if(""!==e.currentBin&&0==n.length){var o=e.InventoryTransfer.filter(i=>(i.UPC===e.ScanBarcode||i.ItemNumber===e.ScanBarcode)&&i.BinLoc===e.currentBin);0!==o.length?o[0].ScannedQty===o[0].InvQty?e.apiservice.AlertTwo("error","ERROR","Scanned quantity exceeds available quantity!"):(o[0].ScannedQty+=1,e.totalScaned=e.ScannedSum(),o[0].timestamper=parseInt((0,_.p6)(new Date,"HHmmss","en-US")),e.InventoryTransfer=e.InventoryTransfer.slice().sort((i,a)=>a.timestamper-i.timestamper)):e.apiservice.AlertTwo("error","ERROR","Item not found in location!")}else e.currentBin="",e.apiservice.AlertTwo("error","Error","invalid location!");e.ScanBarcode=""}})()}onDialogPressEnter(){"Detailslist"===this.type&&!0===this.isPutawayLoc&&(0!==this.Bins.filter(n=>n.BinName===this.targetLocation).length?(this.isReady=!0,this.toastrService.success("Please proceed on putaway!")):(this.isReady=!1,this.toastrService.error("Please scan/enter bin location!"),this.ScanBarcode=""))}spinnermsg(e,n,o){d().fire({position:"center",icon:e,title:n,text:o,allowOutsideClick:!0,showConfirmButton:!1,timer:2500,willClose:()=>{this.apiservice.closeBusyLoading()}})}ngOnInit(){this.detectDeviceType(),this.isEdit=!1,this.isPutawayLoc=!1,this.currentBin="",this.isReady=!1,this.rowData=[],this.selectedWh="",this.InventoryTransfer=[],this.selectedWh="0",this.seriesNumber="",this.uploadRemarks="",this.SubjectRef="",this.ScanBarcode="",this.totalScaned=0,this.onLoadData(),setTimeout(function(){$("#itemInput").focus()},1e3)}GetTransactNumber(){var e=this;return new Promise(function(){var n=(0,c.Z)(function*(o,i){e.apiservice.getDataMethod("&querytag=getSeries&value1=0&value2=&value3=&value4=").subscribe(function(){var a=(0,c.Z)(function*(s){e.transNumber="BTB"+e.apiservice.onNumberSeries(s[0].NumberUsed+=1,9)});return function(s){return a.apply(this,arguments)}}()),e.apiservice.UpdateSeries().subscribe(function(){var a=(0,c.Z)(function*(s){});return function(s){return a.apply(this,arguments)}}()),o()});return function(o,i){return n.apply(this,arguments)}}())}editQtyFunc(e){var o,n=this;this.editableQty=e.ScannedQty,this.editableRow=this.InventoryTransfer.indexOf(e),d().fire({title:"UPDATE QUANTITY",input:"number",inputValue:this.editableQty,focusConfirm:!1,showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Update",showLoaderOnConfirm:!0,allowOutsideClick:!1,preConfirm:(o=(0,c.Z)(function*(i){""==i||parseInt(i)<=0?d().showValidationMessage("Please enter valid quantity!"):i!=n.editableQty?parseInt(i)>parseInt(e.OpenQty)&&d().showValidationMessage("Putaway quantity exceeds open quantity!"):d().showValidationMessage("Please change the quantity!")}),function(a){return o.apply(this,arguments)})}).then(o=>{o.isConfirmed&&(this.InventoryTransfer[this.editableRow].ScannedQty=parseInt(o.value),this.totalScaned=this.ScannedSum(),setTimeout(function(){$("#itemInput").focus()},1e3)),setTimeout(function(){$("#itemInput").focus()},1e3)})}busyLoadingPick(){return new Promise((e,n)=>{d().fire({title:"Please wait",html:"Creating Picklist..",timerProgressBar:!0,allowOutsideClick:!1,didOpen:()=>{d().showLoading(),e()}})})}closeBusyLoadingPick(){d().close()}onLoadData(){var e=this;this.apiservice.busyLoading().then((0,c.Z)(function*(){return yield e.getAllInventory()})).then((0,c.Z)(function*(){return yield e.getBin()})).then((0,c.Z)(function*(){return yield e.apiservice.closeBusyLoading()})).catch(n=>this.apiservice.AlertOne("error","Fetching Data","Error while loading the data!"))}onLoadData2(){var e=this;this.apiservice.busyLoading().then((0,c.Z)(function*(){return yield e.getAllInventory()})).then((0,c.Z)(function*(){return yield e.apiservice.closeBusyLoading()})).catch(n=>this.apiservice.AlertOne("error","Fetching Data","Error while loading the data!"))}openModal(e){0!==this.InventoryTransfer.length?(this.apiservice.closeBusyLoading(),this.barcodeData="",this.ScanBarcode="",this.modalRef=this.modalService.open(e,{container:".app"})):this.apiservice.AlertTwo("error","ERROR","Please scan item first!")}showEditModal(e){var n=this;return new Promise(function(){var o=(0,c.Z)(function*(i,a){0!==n.InventoryDetails.length&&(n.apiservice.closeBusyLoading(),n.modalRef=n.modalService.open(e,{size:"sm"})),i()});return function(i,a){return o.apply(this,arguments)}}())}onEditModal(e,n){var o=this;return new Promise(function(){var i=(0,c.Z)(function*(a,s){o.SKUs=[],o.isEdit=!0,o.editableRow=o.PicklistDetails.indexOf(n),o.reqQuantity=o.PicklistDetails[o.editableRow].ReqQty,o.ItemCode=o.PicklistDetails[o.editableRow].ItemNumber,o.apiservice.busyLoading().then((0,c.Z)(function*(){return yield o.apiservice.busyLoading()})).then((0,c.Z)(function*(){return yield o.getInventory(o.ItemCode)})).then((0,c.Z)(function*(){return yield o.getIMG()})).then((0,c.Z)(function*(){return yield o.showEditModal(o.PutawayStocks)})).catch(l=>o.spinnermsg("error","ERROR","Invalid item!"))});return function(a,s){return i.apply(this,arguments)}}())}onRemoveReqLine(e){this.editableRow=this.InventoryTransfer.indexOf(e),d().fire({title:"Are you sure?",text:"You want to remove this item?",icon:"question",showCancelButton:!0,allowOutsideClick:!1,cancelButtonText:"No",confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes"}).then(n=>{n.isConfirmed&&this.InventoryTransfer.splice(this.editableRow,1)})}closeModal(){this.isModalOpen=!1,this.modalRef.close(),this.editableRow=0,this.isPutawayLoc=!1,this.isReady=!1,this.InventoryDetails=[],this.SKUs=[],this.ItemCode="",this.reqItemName="",this.reqItemBarcode="",this.reqQuantity=0,this.ImgStocks=[],this.isEdit=!1}getAllInventory(){var e=this;return(0,c.Z)(function*(){return new Promise(function(){var n=(0,c.Z)(function*(o,i){e.MyInventoryDetails=[],yield e.apiservice.getInventory("&querytag=getPerBinLoc&value1=&value2=&value3=&value4=").subscribe(function(){var a=(0,c.Z)(function*(s){e.MyInventoryDetails=s,o()});return function(s){return a.apply(this,arguments)}}())});return function(o,i){return n.apply(this,arguments)}}())})()}getBin(){var e=this;return(0,c.Z)(function*(){return new Promise(function(){var n=(0,c.Z)(function*(o,i){yield e.apiservice.getBins("&querytag=getAllBin&value1=&value2=&value3=&value4=").subscribe(function(){var a=(0,c.Z)(function*(s){e.Bins=s,o()});return function(s){return a.apply(this,arguments)}}())});return function(o,i){return n.apply(this,arguments)}}())})()}UpdateLocation(){var e=this;return new Promise(function(){var n=(0,c.Z)(function*(o,i){e.InventoryTransfer.forEach(a=>{e.loadInventory(a.ItemNumber,a.BinLocation).catch(s=>console.log("error","Inserting Data","Error while loading the data!"))}),e.closeModal(),o()});return function(o,i){return n.apply(this,arguments)}}())}SuccessAlert1(e,n,o){d().fire({position:"center",icon:e,title:n,text:o,allowOutsideClick:!0,showConfirmButton:!1,timer:2500,willClose:()=>{this.InventoryTransfer=[]}})}loadInventory(e,n){var o=this;return(0,c.Z)(function*(){return new Promise(function(){var i=(0,c.Z)(function*(a,s){yield o.apiservice.getDataMethod("&querytag=getInventoryTrans&value1="+e+"&value2="+n+"&value3=&value4=").subscribe(function(){var l=(0,c.Z)(function*(g){o.currentInventory=g,a()});return function(g){return l.apply(this,arguments)}}())});return function(a,s){return i.apply(this,arguments)}}())})()}InsertTransaction(e,n,o,i,a,s,l){var g=this;return new Promise(function(){var m=(0,c.Z)(function*(f,y){g.isNewItem=!1,g.apiservice.modDataOnly("&querytag=InsertTransaction3&value1="+g.transNumber+"&value2="+s+"&value3="+e+"&value4="+n+"&value5="+o+"&value6="+i+"&value7="+a+"&value8="+l+"&value9="+localStorage.getItem("User")+"&value10=&value11=&value12=&value13=&value14=&value15=").subscribe(C=>{f()})});return function(f,y){return m.apply(this,arguments)}}())}onTransfer(e){if(!this.isModalOpen){if(0===this.InventoryTransfer.length)return void this.apiservice.AlertTwo("error","ERROR","Please scan item first!");if(0==this.InventoryTransfer.filter(o=>0!==o.ScannedQty).length)return void this.apiservice.AlertTwo("error","ERROR","Please scan item first!");d().fire({title:"Are you sure?",text:"You want to transfer this item?",icon:"question",showCancelButton:!0,allowOutsideClick:!1,cancelButtonText:"No",confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes"}).then(o=>{o.isConfirmed&&(this.isPutawayLoc=!0,this.IsDiable=!1,this.isModalOpen=!0,this.modalRef=this.modalService.open(e,{container:".app"}),this.targetLocation="",setTimeout(function(){$("#myInput").focus(),this.targetLocation=""},500))})}}getBinDes(){return(0,c.Z)(function*(){return new Promise(function(){var e=(0,c.Z)(function*(n,o){});return function(n,o){return e.apply(this,arguments)}}())})()}onExecuteReturn(){var e=this;return(0,c.Z)(function*(){if(0!==e.Bins.filter(o=>o.BinName===e.targetLocation).length){if(e.IsDiable=!0,e.isProcessing)return;e.isProcessing=!0,e.isProcessing?(e.closeModal(),e.busyLoadingTransfer().then((0,c.Z)(function*(){return yield e.CreateTransferList()})).then((0,c.Z)(function*(){return yield e.closeBusyLoadingTransfer()})).then((0,c.Z)(function*(){return yield e.onDoneReturn()})).catch(o=>console.log("error","Transfer Data","Error while loading the data!"))):e.toastrService.error("Please avoid double clicking!")}else e.IsDiable=!1,e.isProcessing=!1,e.isReady=!1,e.toastrService.error("Please scan/enter valid bin location!"),e.targetLocation=""})()}CreateTransferList(){var e=this;return new Promise(function(){var n=(0,c.Z)(function*(o,i){var a=e.InventoryTransfer.filter(s=>0!==s.ScannedQty);e.apiservice.postDataGTI(a,"bintobin?transno="+e.formatDatePost()+"&BinLoc="+e.targetLocation+"&createdby="+localStorage.getItem("User")).subscribe(s=>{console.log(s)}),o()});return function(o,i){return n.apply(this,arguments)}}())}formatDatePost(){const e=new Date,n=e.getDate().toString().padStart(2,"0"),o=(e.getMonth()+1).toString().padStart(2,"0"),i=e.getFullYear().toString(),a=e.getHours().toString().padStart(2,"0"),s=e.getMinutes().toString().padStart(2,"0"),l=e.getSeconds().toString().padStart(2,"0");return`${o}${n}${i.slice(-2)}${a}${s}${l}`}spInsertBinTransferHead(e,n){var o=this;return new Promise(function(){var i=(0,c.Z)(function*(a,s){const l=new Date;var g="exec ETPStoreV55..spInsertBinTransferHead 100,N'100',N'"+localStorage.getItem("whseNo")+"',"+o.NumberSeriesRSFMiscellaneous+",N'L2L',N'101',N'"+e+"',N'"+n+"',N'',0,"+l.getFullYear()+",N'SUPERADMIN',"+o.LastNumberSTL;g.replace(/%20/g," ").replace(/%27/g,"'"),yield o.apiservice.QuerySender("&value1="+g).subscribe(function(){var m=(0,c.Z)(function*(f){a()});return function(f){return m.apply(this,arguments)}}())});return function(a,s){return i.apply(this,arguments)}}())}spInsertBinTransferLine(e,n,o,i,a,s){var l=this;return new Promise(g=>setTimeout((0,c.Z)(function*(){const m=new Date;var f="exec ETPStoreV55..spInsertBinTransferLine 100,N'100',N'"+localStorage.getItem("whseNo")+"',"+l.NumberSeriesRSFMiscellaneous+","+a+",N'"+o+"',N'"+n+"',N'"+o+"',N'"+e+"',N'',"+i+",0,0,"+m.getFullYear()+",N'SUPERADMIN',N'',N'"+s+"',N'',"+l.LastNumberSTL;f.replace(/%20/g," ").replace(/%27/g,"'"),yield l.apiservice.QuerySender("&value1="+f).subscribe(function(){var y=(0,c.Z)(function*(C){g()});return function(C){return y.apply(this,arguments)}}())}),200))}checkExistInventory(e,n){var o=this;return new Promise(function(){var i=(0,c.Z)(function*(a,s){yield o.apiservice.getDataMethod("&querytag=InventoryItemTransfer&value1="+o.targetLocation+"&value2="+e+"&value3="+n+"&value4=").subscribe(function(){var l=(0,c.Z)(function*(g){a()});return function(g){return l.apply(this,arguments)}}())});return function(a,s){return i.apply(this,arguments)}}())}UpdateCurrentLine(e,n,o){var i=this;return new Promise(function(){var a=(0,c.Z)(function*(s,l){setTimeout((0,c.Z)(function*(){i.apiservice.modDataOnly("&querytag=UpdateInventoryTransfer&value1="+n+"&value2="+o+"&value3="+e+"&value4=0&value5=&value6=&value7=&value8=&value9=&value10=&value11=&value12=&value13=&value14=&value15=").subscribe(function(){var g=(0,c.Z)(function*(m){s()});return function(m){return g.apply(this,arguments)}}())}),500)});return function(s,l){return a.apply(this,arguments)}}())}busyLoadingTransfer(){return new Promise((e,n)=>{d().fire({title:"Please wait",html:"",timerProgressBar:!0,allowOutsideClick:!1,didOpen:()=>{d().showLoading(),e()}})})}closeBusyLoadingTransfer(){d().close()}onDoneReturn(){var e=this;return new Promise(function(){var n=(0,c.Z)(function*(o,i){d().fire({position:"center",icon:"success",title:"SUCCESS",text:"Bin to bin",allowOutsideClick:!1,showConfirmButton:!1,timer:2500,willClose:()=>{e.isPutawayLoc=!1,e.InventoryTransfer=[],e.totalScaned=0,e.isProcessing=!1,e.onLoadData2(),setTimeout(function(){$("#itemInput").focus()},500),o()}})});return function(o,i){return n.apply(this,arguments)}}())}GetSeriesNumber(){var e=this;return new Promise(function(){var n=(0,c.Z)(function*(o,i){e.apiservice.getDataMethod("&querytag=getSeries&value1=0&value2=&value3=&value4=").subscribe(function(){var a=(0,c.Z)(function*(s){e.seriesNumber="TRN"+e.apiservice.onNumberSeries(s[0].NumberUsed+=1,9),o()});return function(s){return a.apply(this,arguments)}}())});return function(o,i){return n.apply(this,arguments)}}())}ScannedSum(){return this.InventoryTransfer.reduce((e,n)=>e+n.ScannedQty,0)}formatDate(e){return`${e.getFullYear()}${this.padZero(e.getMonth()+1)}${this.padZero(e.getDate())}`}padZero(e){return e<10?`0${e}`:`${e}`}getNumberSeriesRSFMiscellaneous(){var e=this;return new Promise(function(){var n=(0,c.Z)(function*(o,i){var a="exec ETPStoreV55..NumberSeriesRSFMiscellaneous 100,N'"+localStorage.getItem("whseNo")+"',N'19',N'S',"+e.formatDate(new Date);yield e.apiservice.QuerySender("&value1="+a).subscribe(function(){var s=(0,c.Z)(function*(l){0!==l.length?(e.NumberSeriesRSFMiscellaneous=yield l[0].LastNumberUsed,o()):i()});return function(l){return s.apply(this,arguments)}}())});return function(o,i){return n.apply(this,arguments)}}())}getLastIdInLedger(){var e=this;return new Promise(function(){var n=(0,c.Z)(function*(o,i){e.apiservice.getDataMethod("&querytag=ETPMaxId&value1=0&value2=&value3=&value4=").subscribe(function(){var a=(0,c.Z)(function*(s){0!==s.length?(e.LastNumberSTL=s[0].maxid,o()):i()});return function(s){return a.apply(this,arguments)}}())});return function(o,i){return n.apply(this,arguments)}}())}onImgError(e){e.ItemImage=localStorage.getItem("Server")+"/img?filename=DefaultImg",e.ImageStatus="None"}static#t=this.\u0275fac=function(n){return new(n||r)(t.Y36(P.NM),t.Y36(O._W),t.Y36(Zt.Q),t.Y36(v.Yg))};static#e=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-bin-tobin"]],viewQuery:function(n,o){if(1&n&&t.Gf(Tt,5),2&n){let i;t.iGM(i=t.CRH())&&(o.PutawayStocks=i.first)}},hostBindings:function(n,o){1&n&&t.NdJ("keydown",function(a){return o.handleKeyDown(a)},!1,t.Jf7)("keyup",function(a){return o.handleKeyUp(a)},!1,t.Jf7)},decls:12,vars:6,consts:[["class","row mb-1",4,"ngIf"],["class","row",4,"ngIf"],["class","col-lg-3 mt-0 col-md-5",4,"ngIf"],["editQty",""],["PutawayStocks",""],["class","settings1",3,"ngClass",4,"ngIf"],[1,"row"],[1,"col-12"],[1,"bg-white","text-center"],[3,"autoHide","maxSize","pageChange"],[1,"row","mb-1"],[1,"col"],[1,"input-group","mb-3","box-shadow"],[1,"input-group-text","border-top-0","border-left-0","border-bottom-0"],[1,"fa","fa-qrcode"],["autocomplete","off","type","text","placeholder","Scan bin",1,"form-control","border-0",3,"ngModel","ngModelChange"],[1,"input-group-append"],["class","input-group-text border-top-0 border-right-0 btn-success border-bottom-0",3,"click",4,"ngIf"],[1,"input-group-text","border-top-0","border-right-0","btn-success","border-bottom-0",3,"click"],[1,"fa","fa-shopping-cart"],[1,"card","border-0","box-shadow","ml-2","mb-4"],[1,"d-flex","justify-content-between","mb-4"],[1,"p-6","ml-2","mt-2",2,"font-weight","bold"],[1,"p-6","mr-4",2,"font-weight","bold"],[1,"table-responsive","bg-white","box-shadow"],[1,"table","table-hover"],[4,"ngFor","ngForOf"],[1,"align-middle"],["width","70",1,"rounded",3,"src","error"],[1,"align-middle","text-truncate"],["role","group",1,"btn-group","mr-2"],["role","group",1,"btn-group","ml-2"],["class","btn btn-warning btn-sm",3,"click",4,"ngIf"],[1,"btn","btn-warning","btn-sm",3,"click"],[1,"fa","fa-pencil"],[1,"col-lg-3","mt-0","col-md-5"],[1,"input-group-prepend"],["id","itemInput","autocomplete","off","type","text","placeholder","Enter barcode here...",1,"form-control","border-0",3,"ngModel","ngModelChange"],["class","col-xl-4 col-lg-6 mb-4",4,"ngFor","ngForOf"],[1,"col-xl-4","col-lg-6","mb-4"],[1,"flip"],[1,"content"],[1,"front"],[1,"card","border-0","box-shadow","rounded-0"],[1,"card-header","border-0","rounded-0","text-muted"],[1,"mb-0"],[1,"widget-controls"],[1,"badge","badge-warning","mr-1"],["class","badge badge-warning mr-1",4,"ngIf"],["class","badge badge-danger mr-1",4,"ngIf"],[1,"card-body"],[1,"media"],[1,"media-body","ml-4"],[1,"col-0","text-gray","text-left","pr-0","text-truncate"],[1,"col-10","pl-2","text-left","text-truncate"],[1,"col-4","text-gray","text-left","pr-0","text-truncate"],[1,"col-6","pl-2","text-left","text-truncate"],[1,"d-flex","flex-column","justify-content-center"],[1,"badge","badge-danger","mr-1"],[1,"card-header","transparent","border-0","text-muted"],[1,"card-body-dialog"],[1,"card"],["id","carouselExampleIndicators","class","carousel slide pt-0","data-ride","carousel",4,"ngIf"],["class","carousel slide","data-ride","carousel",4,"ngIf"],[1,"form-group","mt-1"],[1,"list-group"],["class","list-group-item ml-2 mr-2",4,"ngIf"],[1,"list-group-item","ml-2","mr-2"],["class","badge badge-danger badge-pill",4,"ngIf"],["class","badge badge-warning badge-pill",4,"ngIf"],["class","badge badge-success badge-pill",4,"ngIf"],["type","number",1,"form-control-dig-Inp","border-1",3,"ngModel","ngModelChange"],[1,"form-actions","ml-2","mr-2","mb-1"],[1,"d-flex","justify-content-between","mb-2","mt-1"],[1,"col-6"],["type","button",1,"btn","btn-danger","btn-block",3,"click"],["id","carouselExampleIndicators","data-ride","carousel",1,"carousel","slide","pt-0"],[1,"carousel-indicators"],["data-target","#carouselExampleIndicators","data-slide-to","0","class","active",4,"ngIf"],["data-target","#carouselExampleIndicators","data-slide-to","1",4,"ngIf"],["data-target","#carouselExampleIndicators","data-slide-to","2",4,"ngIf"],["data-target","#carouselExampleIndicators","data-slide-to","3",4,"ngIf"],["role","listbox",1,"carousel-inner"],["class","carousel-item active",4,"ngIf"],["class","carousel-item",4,"ngIf"],["href","#carouselExampleIndicators","role","button","data-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"sr-only"],["href","#carouselExampleIndicators","role","button","data-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"],["data-target","#carouselExampleIndicators","data-slide-to","0",1,"active"],["data-target","#carouselExampleIndicators","data-slide-to","1"],["data-target","#carouselExampleIndicators","data-slide-to","2"],["data-target","#carouselExampleIndicators","data-slide-to","3"],[1,"carousel-item","active"],[1,"d-block","w-100",3,"src"],[1,"carousel-item"],["data-ride","carousel",1,"carousel","slide"],[1,"image-container"],["src","assets/img/noimg.jpg"],[1,"transition"],[1,"badge","badge-danger","badge-pill"],[1,"badge","badge-warning","badge-pill"],[1,"badge","badge-success","badge-pill"],[1,"modal-header-own"],["id","modal-basic-title",1,"modal-title",2,"color","black","margin-top","18px","margin-left","16px"],[1,"modal-body"],[1,"container","mb-3","mt-3"],["id","myInput","autocomplete","off","type","text","placeholder","Scan bin barcode...",1,"form-control","border-0",3,"ngModel","keyup.enter","ngModelChange"],[1,"button-container"],["type","button",1,"btn","btn-success","mr-1",3,"disabled","click"],["type","button",1,"btn","btn-danger","mr-1",3,"click"],[1,"settings1",3,"ngClass"],[1,"btn","btn-success","btn-rounded",3,"click"],["src","assets/img/forklipter.png"]],template:function(n,o){1&n&&(t.YNc(0,wt,8,2,"div",0)(1,At,29,7,"div",1)(2,Et,13,8,"div",2)(3,Xt,30,10,"ng-template",null,3,t.W1O)(5,te,12,2,"ng-template",null,4,t.W1O)(7,ne,3,3,"div",5),t.TgZ(8,"div",6)(9,"div",7)(10,"div",8)(11,"pagination-controls",9),t.NdJ("pageChange",function(a){return o.p=a}),t.qZA()()()()),2&n&&(t.Q6J("ngIf","Detailslist"==o.type),t.xp6(1),t.Q6J("ngIf","Detailslist"==o.type&&!o.isMobile),t.xp6(1),t.Q6J("ngIf","DetailsGrid"==o.type&&o.isMobile),t.xp6(5),t.Q6J("ngIf","DetailsGrid"==o.type),t.xp6(4),t.Q6J("autoHide",!0)("maxSize",3))},dependencies:[_.mk,_.sg,_.O5,p.Fj,p.wV,p.JJ,p.On,x.LS,x._s],styles:[".flip[_ngcontent-%COMP%]{width:100%;height:180px;position:relative;-o-perspective:800px;perspective:800px}.flip[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;transition:transform .6s;transform-style:preserve-3d}.flip[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   div.front[_ngcontent-%COMP%], .flip[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   div.back[_ngcontent-%COMP%]{height:100%;width:100%;position:absolute;z-index:0;backface-visibility:hidden}.flip[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   div.front[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%], .flip[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   div.back[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{height:180px}.flip[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   div.back[_ngcontent-%COMP%]{z-index:1;transform:rotateY(180deg)}.flip[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   div.back[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]{width:100%}.flip[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   div.back[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{width:100%;margin-top:-1px}.flip[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   div.back[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#666}.flip[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   div.back[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .fa-check[_ngcontent-%COMP%]{color:#378d3b}.flip[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   div.back[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .fa-times[_ngcontent-%COMP%]{color:#d22e2e}.flip[_ngcontent-%COMP%]   .content.flipped[_ngcontent-%COMP%]{transform:rotateY(180deg)}.z-index-1[_ngcontent-%COMP%]{z-index:1}.app.dark[_ngcontent-%COMP%]   .bg-light[_ngcontent-%COMP%]{background-color:#fff!important}.app.combined[_ngcontent-%COMP%]   .bg-gray[_ngcontent-%COMP%]{background-color:#bcbfc5!important}.modal-body[_ngcontent-%COMP%]{position:relative;flex:1 1 auto;padding:.5rem}.modal-title[_ngcontent-%COMP%]{margin-bottom:0;line-height:.5;color:#fff}.all-caps-input[_ngcontent-%COMP%]{text-transform:uppercase}.container[_ngcontent-%COMP%]{position:relative}.button-container[_ngcontent-%COMP%]{top:10px;margin:10px}.mb-4[_ngcontent-%COMP%], .my-4[_ngcontent-%COMP%]{margin-bottom:.5rem!important}.app.light[_ngcontent-%COMP%]   .widget-controls[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#a6a6a6}.file-upload[_ngcontent-%COMP%]   .file-upload-btn[_ngcontent-%COMP%]{position:absolute;width:100%;height:35px;z-index:9;opacity:0}.file-upload[_ngcontent-%COMP%]   .delete-file[_ngcontent-%COMP%]{position:absolute;right:50px;top:8px;font-size:16px;opacity:.8;cursor:pointer;z-index:99;visibility:hidden}.file-upload[_ngcontent-%COMP%]:hover   .delete-file[_ngcontent-%COMP%]{visibility:visible}.widget-controls[_ngcontent-%COMP%]{position:absolute;z-index:1;top:0;right:0;padding:.3rem .5rem;font-size:14px}.image-container[_ngcontent-%COMP%]{width:100%;max-width:100%;height:auto}.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;display:block;margin:0 auto}.carousel-control-prev-icon[_ngcontent-%COMP%], .carousel-control-next-icon[_ngcontent-%COMP%]{display:inline-block;width:20px;height:33px;background:50%/100% 100% no-repeat}.carousel-indicators[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{box-sizing:content-box;flex:0 1 auto;width:30px;height:3px;margin-right:3px;margin-left:3px;text-indent:-999px;cursor:pointer;background-color:#363333;background-clip:padding-box;border-top:10px solid transparent;border-bottom:10px solid transparent;opacity:.5;transition:opacity .6s ease}.carousel-control-prev[_ngcontent-%COMP%], .carousel-control-next[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;z-index:1;display:flex;align-items:center;justify-content:center;width:15%;padding:0;color:#080808;text-align:center;background:rgba(8,8,8,.2588235294);border:0;opacity:.5;transition:opacity .15s ease}.list-group-item[_ngcontent-%COMP%]{position:relative;display:block;padding:.55rem .25rem;background-color:#fff;border:1px solid rgba(0,0,0,.125)}.card-body-dialog[_ngcontent-%COMP%]{flex:1 1 auto;min-height:1px;padding:.5rem}.form-control-dig-Inp[_ngcontent-%COMP%]{display:block;width:100%;height:calc(1.5em + .75rem + 2px);padding:.375rem .75rem;font-size:1rem;font-weight:400;line-height:1.5;color:#495057;background-color:#e6f39c;background-clip:padding-box;border:1px solid #ced4da;border-radius:.25rem;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}.form-control-dialog[_ngcontent-%COMP%]{width:100%;padding:.375rem .75rem;font-size:1rem;font-weight:400;line-height:1.5;color:#495057;background-color:#fff;background-clip:padding-box;border:1px solid #ffffff;border-radius:.25rem;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}.large-Checkbox[_ngcontent-%COMP%]{transform:scale(1.5)}.settings1[_ngcontent-%COMP%]{position:fixed;top:80px;right:-337px;z-index:1018;width:340px;transition:all .2s}.settings1.show[_ngcontent-%COMP%]{right:-1px}.settings1[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{position:absolute;left:-54px;padding:7px 12px 7px 10px;z-index:99;bottom:-4.5rem!important;cursor:pointer}.settings1[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:focus{box-shadow:none}.pull-right[_ngcontent-%COMP%]{float:right;font-size:x-small}.settings[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%], .settings[_ngcontent-ng-c2474966957][_ngcontent-%COMP%]   .btn[_ngcontent-ng-c2474966957][_ngcontent-%COMP%]{position:absolute;left:-53px;padding:7px 12px 7px 10px;z-index:99;background:#9fc6a1;border-color:#00000020;border-style:solid;border-width:1px 0px 1px 1px;border-radius:4px 0 0 4px;cursor:pointer;bottom:3rem!important}.settings1[_ngcontent-ng-c1036323809][_ngcontent-%COMP%]   .btn[_ngcontent-ng-c1036323809][_ngcontent-%COMP%]{position:absolute;left:-53px;padding:7px 12px 7px 10px;z-index:99;bottom:-4.5rem!important;cursor:pointer}.col-xl[_ngcontent-%COMP%], .col-xl-auto[_ngcontent-%COMP%], .col-xl-12[_ngcontent-%COMP%], .col-xl-11[_ngcontent-%COMP%], .col-xl-10[_ngcontent-%COMP%], .col-xl-9[_ngcontent-%COMP%], .col-xl-8[_ngcontent-%COMP%], .col-xl-7[_ngcontent-%COMP%], .col-xl-6[_ngcontent-%COMP%], .col-xl-5[_ngcontent-%COMP%], .col-xl-4[_ngcontent-%COMP%], .col-xl-3[_ngcontent-%COMP%], .col-xl-2[_ngcontent-%COMP%], .col-xl-1[_ngcontent-%COMP%], .col-lg[_ngcontent-%COMP%], .col-lg-auto[_ngcontent-%COMP%], .col-lg-12[_ngcontent-%COMP%], .col-lg-11[_ngcontent-%COMP%], .col-lg-10[_ngcontent-%COMP%], .col-lg-9[_ngcontent-%COMP%], .col-lg-8[_ngcontent-%COMP%], .col-lg-7[_ngcontent-%COMP%], .col-lg-6[_ngcontent-%COMP%], .col-lg-5[_ngcontent-%COMP%], .col-lg-4[_ngcontent-%COMP%], .col-lg-3[_ngcontent-%COMP%], .col-lg-2[_ngcontent-%COMP%], .col-lg-1[_ngcontent-%COMP%], .col-md[_ngcontent-%COMP%], .col-md-auto[_ngcontent-%COMP%], .col-md-12[_ngcontent-%COMP%], .col-md-11[_ngcontent-%COMP%], .col-md-10[_ngcontent-%COMP%], .col-md-9[_ngcontent-%COMP%], .col-md-8[_ngcontent-%COMP%], .col-md-7[_ngcontent-%COMP%], .col-md-6[_ngcontent-%COMP%], .col-md-5[_ngcontent-%COMP%], .col-md-4[_ngcontent-%COMP%], .col-md-3[_ngcontent-%COMP%], .col-md-2[_ngcontent-%COMP%], .col-md-1[_ngcontent-%COMP%], .col-sm[_ngcontent-%COMP%], .col-sm-auto[_ngcontent-%COMP%], .col-sm-12[_ngcontent-%COMP%], .col-sm-11[_ngcontent-%COMP%], .col-sm-10[_ngcontent-%COMP%], .col-sm-9[_ngcontent-%COMP%], .col-sm-8[_ngcontent-%COMP%], .col-sm-7[_ngcontent-%COMP%], .col-sm-6[_ngcontent-%COMP%], .col-sm-5[_ngcontent-%COMP%], .col-sm-4[_ngcontent-%COMP%], .col-sm-3[_ngcontent-%COMP%], .col-sm-2[_ngcontent-%COMP%], .col-sm-1[_ngcontent-%COMP%], .col[_ngcontent-%COMP%], .col-auto[_ngcontent-%COMP%], .col-12[_ngcontent-%COMP%], .col-11[_ngcontent-%COMP%], .col-10[_ngcontent-%COMP%], .col-9[_ngcontent-%COMP%], .col-8[_ngcontent-%COMP%], .col-7[_ngcontent-%COMP%], .col-6[_ngcontent-%COMP%], .col-5[_ngcontent-%COMP%], .col-4[_ngcontent-%COMP%], .col-3[_ngcontent-%COMP%], .col-2[_ngcontent-%COMP%], .col-1[_ngcontent-%COMP%]{position:relative;width:100%;padding-right:3px;padding-left:2px}"]})}return r})();var ie=h(2162),T=h(3362);let re=(()=>{class r{constructor(e){this.http=e}getHeader(e){return this.http.get(localStorage.getItem("Server")+"/GetDataQuery?dbName=GTI_WMS_DB"+e)}getBinType(e){return this.http.get(localStorage.getItem("Server")+"/GetDataQuery?dbName=GTI_WMS_DB"+e)}getBins(e){return this.http.get(localStorage.getItem("Server")+"/GetDataQuery?dbName=GTI_WMS_DB"+e)}addInventory(e){return this.http.get(localStorage.getItem("Server")+"/DataInQuery?dbName=GTI_WMS_DB"+e)}modDataOnly(e){return this.http.get(localStorage.getItem("Server")+"/DataInQuery?dbName=GTI_WMS_DB"+e)}getDataMethod(e){return this.http.get(localStorage.getItem("Server")+"/GetDataQuery?dbName=GTI_WMS_DB"+e)}AlertOne(e,n,o){d().fire({icon:e,title:n,text:o,allowOutsideClick:!1})}busyLoading(){return new Promise((e,n)=>{d().fire({title:"Please wait",html:"loading..",timerProgressBar:!0,allowOutsideClick:!1,didOpen:()=>{d().showLoading(),e()}})})}AlertTwo(e,n,o){d().fire({position:"center",icon:e,title:n,text:o,allowOutsideClick:!0,showConfirmButton:!1,timer:2500})}closeBusyLoading(){d().close()}onNumberSeries(e,n){var o=n-e.toString().length+1;return Array(+(o>0&&o)).join("0")+e}QuerySender(e){return this.http.get(localStorage.getItem("Server")+"/SQLCommandQuery?dbName=GTI_WMS_DB"+e)}postDataGTI(e,n){const o=new b.WM({"Content-Type":"application/json"});return this.http.post(localStorage.getItem("Server")+"/"+n,e,{headers:o})}static#t=this.\u0275fac=function(n){return new(n||r)(t.LFG(b.eN))};static#e=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var w=h(2160),I=h(7305);const ae=["myInput"],ce=["PODetailsViewDetails"];function se(r,u){if(1&r&&(t.TgZ(0,"tr"),t._UZ(1,"td"),t.TgZ(2,"td"),t._uU(3),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.qZA(),t.TgZ(10,"td"),t._uU(11),t.qZA(),t.TgZ(12,"td"),t._uU(13),t.qZA(),t._UZ(14,"td"),t.qZA()),2&r){const e=u.$implicit;t.xp6(1),t.Tol(e.ClassMode),t.xp6(1),t.Tol(e.ClassMode),t.xp6(1),t.Oqu(e.ItemNumber),t.xp6(1),t.Tol(e.ClassMode),t.xp6(1),t.Oqu(e.ItemName),t.xp6(1),t.Tol(e.ClassMode),t.xp6(1),t.Oqu(e.OrderQuantity),t.xp6(1),t.Tol(e.ClassMode),t.xp6(1),t.Oqu(e.BalanceQuantity),t.xp6(1),t.Tol(e.ClassMode),t.xp6(1),t.Oqu(e.ReceivedQuantity),t.xp6(1),t.Tol(e.ClassMode),t.xp6(1),t.Oqu(e.UOM),t.xp6(1),t.Tol(e.ClassMode)}}function le(r,u){if(1&r){const e=t.EpF();t.TgZ(0,"div",8)(1,"div",9)(2,"div",10)(3,"div",11)(4,"div",12)(5,"div",13)(6,"div",14)(7,"label"),t._uU(8,"Purchase Order No"),t.qZA(),t.TgZ(9,"div",15)(10,"input",16),t.NdJ("ngModelChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.LineHeader.PurchaseOrder=o)}),t.qZA(),t.TgZ(11,"span",17),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(),i=t.MAs(11);return t.KtG(o.onShowFind(i))}),t._uU(12,"..."),t.qZA()()()(),t.TgZ(13,"div",13)(14,"label"),t._uU(15,"Order Date"),t.qZA(),t.TgZ(16,"div",14)(17,"input",16),t.NdJ("ngModelChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.LineHeader.PODate=o)}),t.qZA()()(),t.TgZ(18,"div",13)(19,"label"),t._uU(20,"Total"),t.qZA(),t.TgZ(21,"div",14)(22,"label"),t._uU(23),t.qZA()()()()()()(),t.TgZ(24,"div",18)(25,"div",19)(26,"ng-scrollbar",20)(27,"table",21)(28,"thead")(29,"tr"),t._UZ(30,"th"),t.TgZ(31,"th"),t._uU(32,"Item Number"),t.qZA(),t.TgZ(33,"th"),t._uU(34,"Item Name"),t.qZA(),t.TgZ(35,"th"),t._uU(36,"Ordered Quantity"),t.qZA(),t.TgZ(37,"th"),t._uU(38,"Balance Quantity"),t.qZA(),t.TgZ(39,"th"),t._uU(40,"Received Quantity"),t.qZA(),t.TgZ(41,"th"),t._uU(42,"UOM"),t.qZA(),t._UZ(43,"th"),t.qZA()(),t.TgZ(44,"tbody"),t.YNc(45,se,15,22,"tr",22),t.qZA()()()()()()}if(2&r){const e=t.oxw();t.xp6(10),t.Q6J("ngModel",e.LineHeader.PurchaseOrder),t.xp6(7),t.Q6J("ngModel",e.LineHeader.PODate),t.xp6(6),t.AsE("",e.LineHeader.TotalQty," / ",e.LineHeader.POTotalQty,""),t.xp6(22),t.Q6J("ngForOf",e.PicklistDetails)}}function ue(r,u){if(1&r){const e=t.EpF();t.TgZ(0,"div",34)(1,"div",35),t.NdJ("click",function(){const i=t.CHM(e).$implicit,a=t.oxw(2);return t.KtG(a.editQtyFunc(i))}),t.TgZ(2,"div",36)(3,"div",37)(4,"div",38)(5,"div",39)(6,"h6",40),t._uU(7),t.qZA()(),t.TgZ(8,"div",41)(9,"div",42)(10,"div",43)(11,"div",8),t._UZ(12,"div",44)(13,"div",44),t.TgZ(14,"div",45)(15,"h5",40),t._uU(16),t.qZA()(),t._UZ(17,"div",44)(18,"div",44),t.TgZ(19,"div",45),t._uU(20),t.qZA(),t.TgZ(21,"div",46),t._uU(22,"Request Qty"),t.qZA(),t.TgZ(23,"div",44),t._uU(24,":"),t.qZA(),t.TgZ(25,"div",47),t._uU(26),t.qZA(),t.TgZ(27,"div",46),t._uU(28,"Scanned Qty"),t.qZA(),t.TgZ(29,"div",44),t._uU(30,":"),t.qZA(),t.TgZ(31,"div",47),t._uU(32),t.qZA()()(),t.TgZ(33,"div",48)(34,"img",49),t.NdJ("error",function(){const i=t.CHM(e).$implicit,a=t.oxw(2);return t.KtG(a.onImgError(i))}),t.qZA()()()()()()()()()}if(2&r){const e=u.$implicit;t.xp6(7),t.hij(" ",e.ItemName," "),t.xp6(9),t.Oqu(e.ItemNumber),t.xp6(4),t.Oqu(e.UPC),t.xp6(6),t.Oqu(e.BalanceQuantity),t.xp6(6),t.Oqu(e.ScannedQty),t.xp6(2),t.Q6J("src",e.ItemImage,t.LSH)}}function de(r,u){if(1&r){const e=t.EpF();t.TgZ(0,"div",23)(1,"div",24)(2,"div",25)(3,"span",26),t._UZ(4,"i",27),t.qZA()(),t.TgZ(5,"input",28),t.NdJ("ngModelChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.ScanBarcode=o)}),t.qZA(),t.TgZ(6,"button",29),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onpressentersku())}),t._uU(7,"Enter"),t.qZA()(),t.TgZ(8,"span",30),t._uU(9,"Ref Order:"),t.qZA(),t.TgZ(10,"span",31),t._uU(11),t.qZA(),t._UZ(12,"br"),t.TgZ(13,"span",30),t._uU(14,"Total Scanned: "),t.qZA(),t.TgZ(15,"span",30),t._uU(16),t.qZA(),t.TgZ(17,"span",30),t._uU(18," of "),t.qZA(),t.TgZ(19,"span",30),t._uU(20),t.qZA(),t.TgZ(21,"ng-scrollbar",32),t.YNc(22,ue,35,6,"div",33),t.qZA()()}if(2&r){const e=t.oxw();t.xp6(5),t.Q6J("ngModel",e.ScanBarcode),t.xp6(6),t.Oqu(e.ETPPurchaseOrderNum),t.xp6(5),t.Oqu(e.totalScaned),t.xp6(4),t.Oqu(e.totalOrder),t.xp6(2),t.Q6J("ngForOf",e.ETPDetailsData)}}function ge(r,u){if(1&r){const e=t.EpF();t.TgZ(0,"tr"),t._UZ(1,"td",60),t.TgZ(2,"td",61),t._uU(3),t.qZA(),t.TgZ(4,"td",61),t._uU(5),t.qZA(),t.TgZ(6,"td",61)(7,"button",62),t.NdJ("click",function(){const i=t.CHM(e).$implicit,a=t.oxw(2);return t.KtG(a.onOpenPODetails(i))}),t._UZ(8,"i",63),t._uU(9,"\xa0\xa0Open"),t.qZA()()()}if(2&r){const e=u.$implicit;t.xp6(3),t.Oqu(e.PurchaseOrderNumber),t.xp6(2),t.Oqu(e.StoreWarehouseCode)}}const _e=r=>({itemsPerPage:20,currentPage:r});function pe(r,u){if(1&r){const e=t.EpF();t.TgZ(0,"div",50)(1,"h5",40),t._uU(2,"Purchase Order List"),t.qZA(),t.TgZ(3,"div",51)(4,"a",52),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._UZ(5,"i",53),t.qZA()()(),t.TgZ(6,"div",54)(7,"div",55)(8,"div",24)(9,"div",25)(10,"span",26),t._UZ(11,"i",56),t.qZA()(),t.TgZ(12,"input",57),t.NdJ("ngModelChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.searchText=o)}),t.qZA()()(),t.TgZ(13,"div",18)(14,"div",19)(15,"ng-scrollbar",32)(16,"table",21)(17,"tbody"),t.YNc(18,ge,10,2,"tr",22),t.ALo(19,"paginate"),t.ALo(20,"ETPPOSearchPipe"),t.qZA()()()()()(),t.TgZ(21,"div",8)(22,"div",18)(23,"div",58)(24,"pagination-controls",59),t.NdJ("pageChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.p=o)}),t.qZA()()()()}if(2&r){const e=t.oxw();t.xp6(12),t.Q6J("ngModel",e.searchText),t.xp6(6),t.Q6J("ngForOf",t.xi3(19,4,t.xi3(20,7,e.ETPHeaderData,e.searchText),t.VKq(10,_e,e.p))),t.xp6(6),t.Q6J("autoHide",!0)("maxSize",5)}}function me(r,u){if(1&r&&(t.TgZ(0,"tr")(1,"td",60)(2,"button",64),t._UZ(3,"i",65),t.qZA()(),t.TgZ(4,"td",61),t._uU(5),t.qZA(),t.TgZ(6,"td",61),t._uU(7),t.qZA(),t.TgZ(8,"td",61),t._uU(9),t.qZA(),t._UZ(10,"td",61),t.qZA()),2&r){const e=u.$implicit;t.xp6(5),t.Oqu(e.ItemNumber),t.xp6(2),t.Oqu(e.BalanceQuantity),t.xp6(2),t.Oqu(e.ScannedQty)}}function he(r,u){if(1&r&&(t.TgZ(0,"div",50)(1,"h5",40),t._uU(2,"Discrepancy List"),t.qZA(),t._UZ(3,"div",51),t.qZA(),t.TgZ(4,"div",54)(5,"div",18)(6,"div",19)(7,"ng-scrollbar",32)(8,"table",21)(9,"thead")(10,"tr"),t._UZ(11,"th"),t.TgZ(12,"th"),t._uU(13,"Item Number"),t.qZA(),t.TgZ(14,"th"),t._uU(15,"Request Quantity"),t.qZA(),t.TgZ(16,"th"),t._uU(17,"Balance Quantity"),t.qZA(),t.TgZ(18,"th"),t._uU(19,"Scanned Quantity"),t.qZA(),t._UZ(20,"th"),t.qZA()(),t.TgZ(21,"tbody"),t.YNc(22,me,11,3,"tr",22),t.qZA()()()()()()),2&r){const e=t.oxw();t.xp6(22),t.Q6J("ngForOf",e.ETPDetailsDataBal)}}function fe(r,u){if(1&r){const e=t.EpF();t.TgZ(0,"div",66)(1,"h3",67),t._uU(2,"SCAN BIN LOCATION"),t.qZA()(),t.TgZ(3,"div",54)(4,"div",68)(5,"div",24)(6,"input",69),t.NdJ("ngModelChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.ETPReference2=o)}),t.qZA()(),t.TgZ(7,"div",24)(8,"input",70),t.NdJ("ngModelChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.targetLocation=o)}),t.qZA(),t.TgZ(9,"div",15)(10,"span",71),t._UZ(11,"i",72),t.qZA()()(),t.TgZ(12,"div",73)(13,"button",74),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.Putaway())}),t._uU(14,"Putaway"),t.qZA(),t.TgZ(15,"button",75),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._uU(16,"Cancel"),t.qZA()()()()}if(2&r){const e=t.oxw();t.xp6(6),t.Q6J("ngModel",e.ETPReference2),t.xp6(2),t.Q6J("ngModel",e.targetLocation)}}const B=r=>({show:r});function ve(r,u){if(1&r){const e=t.EpF();t.TgZ(0,"div",76)(1,"button",77),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onLoadData())}),t._UZ(2,"i",78),t._uU(3,"\xa0\xa0\xa0Back"),t.qZA()()}if(2&r){const e=t.oxw();t.Q6J("ngClass",t.VKq(1,B,e.showSetting))}}function Pe(r,u){if(1&r){const e=t.EpF();t.TgZ(0,"div",79)(1,"button",29),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(),i=t.MAs(7);return t.KtG(o.openModalM(i))}),t._uU(2,"Putaway\xa0\xa0"),t._UZ(3,"i",80),t.qZA()()}if(2&r){const e=t.oxw();t.Q6J("ngClass",t.VKq(1,B,e.showSetting))}}function Ce(r,u){if(1&r){const e=t.EpF();t.TgZ(0,"tr")(1,"td")(2,"button",84),t.NdJ("click",function(){const i=t.CHM(e).$implicit,a=t.oxw(2);return t.KtG(a.onSelectDO(i))}),t._uU(3,"Select"),t.qZA()(),t.TgZ(4,"td"),t._uU(5),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.qZA(),t._UZ(8,"td"),t.qZA()}if(2&r){const e=u.$implicit;t.xp6(5),t.Oqu(e.PurchaseOrder),t.xp6(2),t.Oqu(e.PODate)}}function xe(r,u){if(1&r){const e=t.EpF();t.TgZ(0,"div",66)(1,"h5",67),t._uU(2,"Received Purchase Order"),t.qZA(),t.TgZ(3,"div",50)(4,"div",81)(5,"a",52),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.modalRef.close())}),t._UZ(6,"i",53),t.qZA()(),t.TgZ(7,"div",82)(8,"div",8)(9,"div",55)(10,"div",24)(11,"div",25)(12,"span",26),t._UZ(13,"i",56),t.qZA()(),t.TgZ(14,"input",83),t.NdJ("ngModelChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.searchText=o)}),t.qZA()()()(),t.TgZ(15,"ng-scrollbar",32)(16,"table",21)(17,"tbody"),t.YNc(18,Ce,9,2,"tr",22),t.ALo(19,"ETPPORSearchPipe"),t.qZA()()()()()()}if(2&r){const e=t.oxw();t.xp6(14),t.Q6J("ngModel",e.searchText),t.xp6(4),t.Q6J("ngForOf",t.xi3(19,2,e.POList,e.searchText))}}let be=(()=>{class r{constructor(e,n,o,i,a,s){this.renderer=n,this.notifService=o,this.toastrService=i,this.apiservice=a,this.breakpointObserver=s,this.Bins=[],this.ScanBarcode="",this.barcodeData="",this.totalScaned=0,this.totalOrder=0,this.searchText="",this.isPutawayLoc=!1,this.targetLocation="",this.ETPHeaderData=[],this.ETPDetailsData=[],this.PicklistDetails=[],this.ETPDetailsDataBal=[],this.ETPItemData=[],this.ETPReference2="",this.POList=[],this.isMobile=!1,this.ETPPurchaseOrderNum="",this.seriesNumber="",this.showSetting=!1,this.modalService=(0,t.f3M)(P.FF),this.LineHeader={PurchaseOrder:"",PODate:"",TotalQty:0,POTotalQty:0},e.backdrop="static",e.keyboard=!1,this.detectDeviceType()}detectDeviceType(){this.breakpointObserver.observe([v.u3.Handset,v.u3.Tablet]).subscribe(e=>{this.isMobile=e.matches})}handleKeyDown(e){"F12"===e.key||"Enter"===e.key&&0==this.isPutawayLoc?setTimeout(function(){$("#myInput").focus(),this.ScanBarcode=""},1e3):("F12"===e.key||"Enter"===e.key&&1==this.isPutawayLoc)&&setTimeout(function(){$("#myInput2").focus(),this.targetLocation=""},1e3)}trimIfTooLong(e){const n=e.toString();return n.length>12?n.slice(0,-1):n}handleKeyUp(e){if("F12"===e.key||"Enter"===e.key)if(this.barcodeData=this.ScanBarcode.length>12?this.ScanBarcode.slice(0,12):this.ScanBarcode,e.preventDefault(),0==this.isPutawayLoc&&""!==this.barcodeData){var n=this.ETPDetailsData.filter(i=>i.UPC===this.barcodeData);n.length?n[0].BalanceQuantity===n[0].ScannedQty?(this.onPlayError(),this.toastrService.error("Putaway quantity exceeds open quantity!"),this.ScanBarcode="",this.barcodeData="",setTimeout(function(){$("#myInput").focus(),this.ScanBarcode=""},1e3)):(this.onPlayScanned(),this.toastrService.success(this.barcodeData),n[0].ScannedQty+=1,this.totalScaned=this.ScannedSum(),n[0].timestamper=parseInt((0,_.p6)(new Date,"HHmmss","en-US")),this.ETPDetailsData=this.ETPDetailsData.slice().sort((i,a)=>a.timestamper-i.timestamper),this.ScanBarcode="",this.barcodeData="",setTimeout(function(){$("#myInput").focus(),this.ScanBarcode=""},1e3)):(this.onPlayError(),this.toastrService.warning(this.barcodeData+" Scanned item not found!"),this.ScanBarcode="",this.barcodeData="",setTimeout(function(){$("#myInput").focus(),this.ScanBarcode=""},1e3))}else 1==this.isPutawayLoc&&(this.targetLocation=this.targetLocation,0!==this.Bins.filter(i=>i.BinName===this.targetLocation).length?(this.onPlayScanned(),this.toastrService.success("Please proceed on pressing putaway button!"),this.isReady=!0):(this.onPlayError(),this.toastrService.error(this.targetLocation+" Invalid bin location!"),setTimeout(function(){$("#myInput2").focus(),this.targetLocation=""},1e3),this.isReady=!1))}onPlayScanned(){let e=new Audio;e.src="../assets/ringtone/barcode_beep_sound.mp3",e.load(),e.play()}onPlayError(){let e=new Audio;e.src="../assets/ringtone/cursor_error.mp3",e.load(),e.play()}editQtyFunc(e){var n;"Admin"==localStorage.getItem("UserType")?(e.ScannedQty<e.BalanceQuantity?e.ScannedQty=parseInt(e.ScannedQty)+1:e.ScannedQty==e.BalanceQuantity&&(e.ScannedQty=0),this.totalScaned=this.ScannedSum()):0!==e.ScannedQty&&(this.editableQty=e.ScannedQty,this.editableRow=this.ETPDetailsData.indexOf(e),d().fire({title:e.ItemNumber,input:"number",inputValue:this.editableQty,focusConfirm:!1,showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Update",showLoaderOnConfirm:!0,allowOutsideClick:!1,preConfirm:(n=(0,c.Z)(function*(o){parseInt(o)>parseInt(e.BalanceQuantity)&&d().showValidationMessage("Putaway quantity exceeds open quantity!")}),function(i){return n.apply(this,arguments)})}).then(n=>{n.isConfirmed&&(this.ETPDetailsData[this.editableRow].ScannedQty=parseInt(n.value),this.totalScaned=this.ScannedSum(),setTimeout(function(){$("#itemInput").focus()},1e3)),setTimeout(function(){$("#itemInput").focus()},1e3)}))}onpressentersku(){if(""!==this.ScanBarcode){this.ScanBarcode=this.ScanBarcode.length>12?this.ScanBarcode.slice(0,12):this.ScanBarcode;var e=this.ETPDetailsData.filter(n=>n.UPC===this.ScanBarcode.trim());if(e.length){if(e[0].BalanceQuantity===e[0].ScannedQty)return void this.toastrService.error("Putaway quantity exceeds open quantity!");e[0].ScannedQty+=1,this.totalScaned=this.ScannedSum(),e[0].timestamper=parseInt((0,_.p6)(new Date,"HHmmss","en-US")),this.ETPDetailsData=this.ETPDetailsData.slice().sort((n,o)=>o.timestamper-n.timestamper),this.toastrService.success(this.ScanBarcode+": 1")}else this.toastrService.error("Scanned item not found!");this.ScanBarcode=""}}ngOnInit(){this.LineHeader={PurchaseOrder:"",PODate:"",TotalQty:0,POTotalQty:0},this.isReady=!1,this.isMobile&&this.onLoadData()}openModal(){this.modalRef=this.modalService.open(this.PODetailsViewDetails,{scrollable:!0})}closeModal(){this.modalRef.close()}onLoadData(){var e=this;this.totalScaned=0,this.ETPPurchaseOrderNum="",this.ETPDetailsData=[],this.apiservice.busyLoading().then((0,c.Z)(function*(){return yield e.executeQueryheader("exec ETPStoreV55..POHeadGetList 100,N'100',N'"+localStorage.getItem("whseNo")+"',N'',N''")})).then((0,c.Z)(function*(){return yield e.getBin()})).then((0,c.Z)(function*(){return yield e.openModal()})).then((0,c.Z)(function*(){return yield e.apiservice.closeBusyLoading()})).catch(n=>this.apiservice.AlertOne("error","Fetching Data","Error while loading the data!"))}onLoadData2(){var e=this;this.totalScaned=0,this.ETPPurchaseOrderNum="",this.ETPDetailsData=[],this.apiservice.busyLoading().then((0,c.Z)(function*(){return yield e.executeQueryheader("exec ETPStoreV55..POHeadGetList 100,N'100',N'"+localStorage.getItem("whseNo")+"',N'',N''")})).then((0,c.Z)(function*(){return yield e.openModal()})).then((0,c.Z)(function*(){return yield e.apiservice.closeBusyLoading()})).catch(n=>this.apiservice.AlertOne("error","Fetching Data","Error while loading the data!"))}getBin(){var e=this;return(0,c.Z)(function*(){return new Promise(function(){var n=(0,c.Z)(function*(o,i){yield e.apiservice.getBins("&querytag=getAllBin&value1=&value2=&value3=&value4=").subscribe(function(){var a=(0,c.Z)(function*(s){e.Bins=s,o()});return function(s){return a.apply(this,arguments)}}())});return function(o,i){return n.apply(this,arguments)}}())})()}executeQueryheader(e){var n=this;return(0,c.Z)(function*(){return new Promise(function(){var o=(0,c.Z)(function*(i,a){yield n.apiservice.QuerySender("&value1="+e).subscribe(function(){var s=(0,c.Z)(function*(l){n.ETPHeaderData=yield l,i()});return function(l){return s.apply(this,arguments)}}())});return function(i,a){return o.apply(this,arguments)}}())})()}onOpenPODetails(e){var n=this;this.isPutawayLoc=!1,this.ETPPurchaseOrderNum=e.PurchaseOrderNumber,this.apiservice.busyLoading().then((0,c.Z)(function*(){return yield n.onGetPO(e)})).then((0,c.Z)(function*(){return yield n.closeModal()})).then((0,c.Z)(function*(){return yield n.apiservice.closeBusyLoading()})).catch(o=>this.apiservice.AlertOne("error","Fetching Data","Error while loading the data!"))}onGetPO(e){var n=this;return(0,c.Z)(function*(){return new Promise(function(){var o=(0,c.Z)(function*(i,a){yield n.apiservice.getHeader("&querytag=ETPDetailsData&value1="+e.StoreWarehouseCode+"&value2="+e.PurchaseOrderNumber+"&value3=&value4=").subscribe(function(){var s=(0,c.Z)(function*(l){n.ETPDetailsData=l,console.log(l),n.totalOrder=n.OrderSum(),i()});return function(l){return s.apply(this,arguments)}}())});return function(i,a){return o.apply(this,arguments)}}())})()}openModalM(e){0!==this.ETPDetailsData.filter(o=>0!==o.ScannedQty).length?(this.targetLocation="",this.isPutawayLoc=!0,this.ETPReference2=this.ETPPurchaseOrderNum,this.modalRef=this.modalService.open(e,{container:".app"})):(this.isPutawayLoc=!1,this.apiservice.AlertTwo("warning","WARNING","No Scanned item found,Please scan item first!"))}ScannedSum(){return this.ETPDetailsData.reduce((e,n)=>e+n.ScannedQty,0)}SumETPScanned(){return this.PicklistDetails.reduce((e,n)=>e+n.ReceivedQuantity,0)}SumETPTotalPO(){return this.PicklistDetails.reduce((e,n)=>e+n.OrderQuantity,0)}OrderSum(){return this.ETPDetailsData.reduce((e,n)=>e+n.BalanceQuantity,0)}Putaway(){var e=this,n=this.Bins.filter(o=>o.BinName===this.targetLocation);this.isReady=0!==n.length,!0===this.isReady?(this.modalRef.close(),this.apiservice.busyLoading().then((0,c.Z)(function*(){return yield e.insertInventoty()})).then((0,c.Z)(function*(){return yield e.SuccessAlert("success","SUCCESS","Putaway successfuly done!")})).catch(o=>console.log("error","Inserting Data","Error while loading the data!"))):this.toastrService.error("Please scan bin location!")}insertInventoty(){var e=this;return new Promise(function(){var n=(0,c.Z)(function*(o,i){var a=e.ETPDetailsData.filter(s=>0!==s.ScannedQty).sort((s,l)=>s.LineNumber-l.LineNumber);e.apiservice.postDataGTI(a,"ReceivePO?transno="+e.formatDatePost()+"&PONumber="+e.ETPPurchaseOrderNum+"&createdby="+localStorage.getItem("User")+"&Whouse="+localStorage.getItem("whseNo")+"&DestinationBin="+e.targetLocation).subscribe(s=>{}),o()});return function(o,i){return n.apply(this,arguments)}}())}formatDatePost(){const e=new Date,n=e.getDate().toString().padStart(2,"0"),o=(e.getMonth()+1).toString().padStart(2,"0"),i=e.getFullYear().toString(),a=e.getHours().toString().padStart(2,"0"),s=e.getMinutes().toString().padStart(2,"0"),l=e.getSeconds().toString().padStart(2,"0");return`${o}${n}${i.slice(-2)}${a}${s}${l}`}POGRNDataInsert_Ext(e,n,o,i,a,s,l,g,m,f){return new Promise(y=>setTimeout(()=>{this.EXECPOGRNDataInsert_Ext(e,n,o,i,a,s,l,g,m-o,f,this.LastNumberSTL),y()},200))}EXECPOGRNDataInsert_Ext(e,n,o,i,a,s,l,g,m,f,y){var C=this;return new Promise(function(){var M=(0,c.Z)(function*(S,q){const Un=new Date;var L;L="exec ETPStoreV55..POGRNDataInsert_Ext 100,N'100',N'"+localStorage.getItem("whseNo")+"',N'NP001',N'"+s+"',N'"+e+"',N'L1',N'',"+o+",N'"+C.NumberSeriesRSFMiscellaneous+"',N'"+Un.getFullYear()+"',N'"+i+"',N'SUPERADMIN',N'PO1',"+g+","+m+",N'"+f+"',N'"+a+"',"+l+",N'"+n+"',"+y+","+a+",N'"+C.ETPReference2+"'",yield C.apiservice.QuerySender("&value1="+L).subscribe(function(){var Bn=(0,c.Z)(function*(H){console.log(H),S()});return function(H){return Bn.apply(this,arguments)}}())});return function(S,q){return M.apply(this,arguments)}}())}SuccessAlert(e,n,o){d().fire({position:"center",icon:e,title:n,text:o,allowOutsideClick:!0,showConfirmButton:!1,timer:5e3,willClose:()=>{this.ScanBarcode="",this.isReady=!1,this.totalScaned=0,this.onLoadData2()}})}onImgError(e){e.ItemImage=localStorage.getItem("Server")+"/img?filename=DefaultImg",e.ImageStatus="None"}onShowFind(e){var n=this;this.apiservice.busyLoading().then((0,c.Z)(function*(){return yield n.getPullOutHead()})).then((0,c.Z)(function*(){return yield n.onOpenModalPO(e)})).then((0,c.Z)(function*(){return yield n.apiservice.closeBusyLoading()})).catch(o=>this.apiservice.AlertOne("error","Fetching Data","Error while loading the data!"))}onOpenModalPO(e){var n=this;return(0,c.Z)(function*(){return new Promise(function(){var o=(0,c.Z)(function*(i,a){n.modalRef=n.modalService.open(e,{container:".app"}),i()});return function(i,a){return o.apply(this,arguments)}}())})()}getPullOutHead(){var e=this;return(0,c.Z)(function*(){return new Promise(function(){var n=(0,c.Z)(function*(o,i){yield e.apiservice.getDataMethod("&querytag=POHeadReceived&value1=&value2=&value3=&value4=").subscribe(function(){var a=(0,c.Z)(function*(s){e.POList=s,console.log(s),o()});return function(s){return a.apply(this,arguments)}}())});return function(o,i){return n.apply(this,arguments)}}())})()}onSelectDO(e){var n=this;this.modalRef.close(),this.apiservice.busyLoading().then((0,c.Z)(function*(){return yield n.onPutHeaderData(e)})).then((0,c.Z)(function*(){return yield n.ReceivedOrderLineGet()})).then((0,c.Z)(function*(){return yield n.apiservice.closeBusyLoading()})).catch(o=>this.apiservice.AlertOne("error","Fetching Data","Error while loading the data!"))}onPutHeaderData(e){var n=this;return new Promise(function(){var o=(0,c.Z)(function*(i,a){n.LineHeader={PurchaseOrder:e.PurchaseOrder,PODate:e.PODate,TotalQty:0,POTotalQty:0},i()});return function(i,a){return o.apply(this,arguments)}}())}ReceivedOrderLineGet(){var e=this;return(0,c.Z)(function*(){return new Promise(function(){var n=(0,c.Z)(function*(o,i){yield e.apiservice.getDataMethod("&querytag=POLineReceived&value1="+e.LineHeader.PurchaseOrder+"&value2=&value3=&value4=").subscribe(function(){var a=(0,c.Z)(function*(s){e.PicklistDetails=s,e.LineHeader.TotalQty=e.SumETPScanned(),e.LineHeader.POTotalQty=e.SumETPTotalPO(),o()});return function(s){return a.apply(this,arguments)}}())});return function(o,i){return n.apply(this,arguments)}}())})()}static#t=this.\u0275fac=function(n){return new(n||r)(t.Y36(P.NM),t.Y36(t.Qsj),t.Y36(Z.j),t.Y36(O._W),t.Y36(re),t.Y36(v.Yg))};static#e=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-etp-receiving"]],viewQuery:function(n,o){if(1&n&&(t.Gf(ae,5),t.Gf(ce,5)),2&n){let i;t.iGM(i=t.CRH())&&(o.myInput=i.first),t.iGM(i=t.CRH())&&(o.PODetailsViewDetails=i.first)}},hostBindings:function(n,o){1&n&&t.NdJ("keydown",function(a){return o.handleKeyDown(a)},!1,t.Jf7)("keyup",function(a){return o.handleKeyUp(a)},!1,t.Jf7)},decls:12,vars:4,consts:[["class","row",4,"ngIf"],["class","col-lg-3 mt-0 col-md-5",4,"ngIf"],["PODetailsViewDetails",""],["PODetailsBalance",""],["PutawayStocks",""],["class","settings2",3,"ngClass",4,"ngIf"],["class","settings4",3,"ngClass",4,"ngIf"],["POListView",""],[1,"row"],[1,"col-lg-12","mb-2"],["widget","",1,"card","border-0","box-shadow"],[1,"card-body","ml-4","widget-body"],[1,"row","justify-content-between"],[1,"col-sm-3"],[1,"form-group"],[1,"input-group-append"],["readonly","","type","text","placeholder","",1,"form-control",3,"ngModel","ngModelChange"],[1,"input-group-text",3,"click"],[1,"col-12"],[1,"table-responsive","bg-white","box-shadow"],["pointerEventsMethod","scrollbar",2,"height","500px"],[1,"table","table-hover"],[4,"ngFor","ngForOf"],[1,"col-lg-3","mt-0","col-md-5"],[1,"input-group","mb-3","box-shadow"],[1,"input-group-prepend"],[1,"input-group-text","border-top-0","border-left-0","border-bottom-0"],[1,"fa","fa-qrcode"],["type","text","id","myInput","placeholder","Enter barcode here...",1,"form-control","border-0",3,"ngModel","ngModelChange"],[1,"btn","btn-success","btn-rounded",3,"click"],[1,"badge","badge"],[1,"badge","badge-success"],["pointerEventsMethod","scrollbar",2,"height","450px"],["class","col-xl-4 col-lg-6 mb-4",4,"ngFor","ngForOf"],[1,"col-xl-4","col-lg-6","mb-4"],[1,"flip",3,"click"],[1,"content"],[1,"front"],[1,"card","border-0","box-shadow","rounded-0"],[1,"card-header","border-0","rounded-0","text-muted"],[1,"mb-0"],[1,"card-body"],[1,"media"],[1,"media-body","ml-4"],[1,"col-0","text-gray","text-left","pr-0","text-truncate"],[1,"col-10","pl-2","text-left","text-truncate"],[1,"col-4","text-gray","text-left","pr-0","text-truncate"],[1,"col-6","pl-2","text-left","text-truncate"],[1,"d-flex","flex-column","justify-content-center"],["width","70",1,"rounded",3,"src","error"],[1,"card-header","transparent","border-0","text-muted"],[1,"widget-controls","mr-2","mt-1"],["data-widgster","close",1,"transition",3,"click"],[1,"fa","fa-times"],[1,"modal-body"],[1,"col"],[1,"fa","fa-search"],["type","text","placeholder","Search...",1,"form-control","border-0",3,"ngModel","ngModelChange"],[1,"bg-white","text-center"],[3,"autoHide","maxSize","pageChange"],[1,"align-middle"],[1,"align-middle","text-truncate"],[1,"btn","btn-success","mr-1",3,"click"],[1,"fa","fa-file-o"],[1,"btn","btn-rounded","btn-danger","mr-1"],[1,"fa","fa-trash"],[1,"modal-header-own"],["id","modal-basic-title",1,"modal-title",2,"color","black","margin-top","18px","margin-left","16px"],[1,"container","mb-3","mt-3"],["type","text","placeholder","Enter reference 2",1,"form-control","border-0",3,"ngModel","ngModelChange"],["id","myInput2","type","text","placeholder","Scan bin barcode here...",1,"form-control","border-0",3,"ngModel","ngModelChange"],[1,"input-group-text","border-top-0","border-right-0","border-bottom-0"],[1,"fa","fa-reorder"],[1,"button-container"],["type","button",1,"btn","btn-success","mr-1",3,"click"],["type","button",1,"btn","btn-danger","mr-1",3,"click"],[1,"settings2",3,"ngClass"],[1,"btn","btn-danger","btn-rounded",3,"click"],[1,"fa","fa-mail-reply-all"],[1,"settings4",3,"ngClass"],[1,"fa","fa-cart-arrow-down"],[1,"widget-controls"],[1,"bg-white","box-shadow","mt-4","mr-1","ml-1"],["type","text","placeholder","Search...",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","btn-outline-info","w-100p","mb-1","mr-1",3,"click"]],template:function(n,o){1&n&&t.YNc(0,le,46,5,"div",0)(1,de,23,5,"div",1)(2,pe,25,12,"ng-template",null,2,t.W1O)(4,he,23,1,"ng-template",null,3,t.W1O)(6,fe,17,2,"ng-template",null,4,t.W1O)(8,ve,4,3,"div",5)(9,Pe,4,3,"div",6)(10,xe,20,5,"ng-template",null,7,t.W1O),2&n&&(t.Q6J("ngIf",!o.isMobile),t.xp6(1),t.Q6J("ngIf",o.isMobile),t.xp6(7),t.Q6J("ngIf",o.isMobile),t.xp6(1),t.Q6J("ngIf",o.isMobile))},dependencies:[_.mk,_.sg,_.O5,T.KC,p.Fj,p.JJ,p.On,x.LS,w.a,I.q,x._s],styles:[".flip[_ngcontent-%COMP%]{width:100%;height:180px;position:relative;-o-perspective:800px;perspective:800px}.flip[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;transition:transform .6s;transform-style:preserve-3d}.flip[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   div.front[_ngcontent-%COMP%], .flip[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   div.back[_ngcontent-%COMP%]{height:100%;width:100%;position:absolute;z-index:0;backface-visibility:hidden}.flip[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   div.front[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%], .flip[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   div.back[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{height:180px}.flip[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   div.back[_ngcontent-%COMP%]{z-index:1;transform:rotateY(180deg)}.flip[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   div.back[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]{width:100%}.flip[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   div.back[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{width:100%;margin-top:-1px}.flip[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   div.back[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#666}.flip[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   div.back[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .fa-check[_ngcontent-%COMP%]{color:#378d3b}.flip[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   div.back[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .fa-times[_ngcontent-%COMP%]{color:#d22e2e}.flip[_ngcontent-%COMP%]   .content.flipped[_ngcontent-%COMP%]{transform:rotateY(180deg)}.z-index-1[_ngcontent-%COMP%]{z-index:1}.app.dark[_ngcontent-%COMP%]   .bg-light[_ngcontent-%COMP%]{background-color:#fff!important}.app.combined[_ngcontent-%COMP%]   .bg-gray[_ngcontent-%COMP%]{background-color:#bcbfc5!important}.modal-body[_ngcontent-%COMP%]{position:relative;flex:1 1 auto;padding:.5rem}.modal-title[_ngcontent-%COMP%]{margin-bottom:0;line-height:.5;color:#fff}.all-caps-input[_ngcontent-%COMP%]{text-transform:uppercase}.container[_ngcontent-%COMP%]{position:relative}.button-container[_ngcontent-%COMP%]{top:10px;margin:10px}.mb-4[_ngcontent-%COMP%], .my-4[_ngcontent-%COMP%]{margin-bottom:.2rem!important}.app.light[_ngcontent-%COMP%]   .widget-controls[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#a6a6a6}.card-footer[_ngcontent-%COMP%]{padding:.1rem 0rem;background-color:#fff;border-top:0px #fff}.col-xl[_ngcontent-%COMP%], .col-xl-auto[_ngcontent-%COMP%], .col-xl-12[_ngcontent-%COMP%], .col-xl-11[_ngcontent-%COMP%], .col-xl-10[_ngcontent-%COMP%], .col-xl-9[_ngcontent-%COMP%], .col-xl-8[_ngcontent-%COMP%], .col-xl-7[_ngcontent-%COMP%], .col-xl-6[_ngcontent-%COMP%], .col-xl-5[_ngcontent-%COMP%], .col-xl-4[_ngcontent-%COMP%], .col-xl-3[_ngcontent-%COMP%], .col-xl-2[_ngcontent-%COMP%], .col-xl-1[_ngcontent-%COMP%], .col-lg[_ngcontent-%COMP%], .col-lg-auto[_ngcontent-%COMP%], .col-lg-12[_ngcontent-%COMP%], .col-lg-11[_ngcontent-%COMP%], .col-lg-10[_ngcontent-%COMP%], .col-lg-9[_ngcontent-%COMP%], .col-lg-8[_ngcontent-%COMP%], .col-lg-7[_ngcontent-%COMP%], .col-lg-6[_ngcontent-%COMP%], .col-lg-5[_ngcontent-%COMP%], .col-lg-4[_ngcontent-%COMP%], .col-lg-3[_ngcontent-%COMP%], .col-lg-2[_ngcontent-%COMP%], .col-lg-1[_ngcontent-%COMP%], .col-md[_ngcontent-%COMP%], .col-md-auto[_ngcontent-%COMP%], .col-md-12[_ngcontent-%COMP%], .col-md-11[_ngcontent-%COMP%], .col-md-10[_ngcontent-%COMP%], .col-md-9[_ngcontent-%COMP%], .col-md-8[_ngcontent-%COMP%], .col-md-7[_ngcontent-%COMP%], .col-md-6[_ngcontent-%COMP%], .col-md-5[_ngcontent-%COMP%], .col-md-4[_ngcontent-%COMP%], .col-md-3[_ngcontent-%COMP%], .col-md-2[_ngcontent-%COMP%], .col-md-1[_ngcontent-%COMP%], .col-sm[_ngcontent-%COMP%], .col-sm-auto[_ngcontent-%COMP%], .col-sm-12[_ngcontent-%COMP%], .col-sm-11[_ngcontent-%COMP%], .col-sm-10[_ngcontent-%COMP%], .col-sm-9[_ngcontent-%COMP%], .col-sm-8[_ngcontent-%COMP%], .col-sm-7[_ngcontent-%COMP%], .col-sm-6[_ngcontent-%COMP%], .col-sm-5[_ngcontent-%COMP%], .col-sm-4[_ngcontent-%COMP%], .col-sm-3[_ngcontent-%COMP%], .col-sm-2[_ngcontent-%COMP%], .col-sm-1[_ngcontent-%COMP%], .col[_ngcontent-%COMP%], .col-auto[_ngcontent-%COMP%], .col-12[_ngcontent-%COMP%], .col-11[_ngcontent-%COMP%], .col-10[_ngcontent-%COMP%], .col-9[_ngcontent-%COMP%], .col-8[_ngcontent-%COMP%], .col-7[_ngcontent-%COMP%], .col-6[_ngcontent-%COMP%], .col-5[_ngcontent-%COMP%], .col-4[_ngcontent-%COMP%], .col-3[_ngcontent-%COMP%], .col-2[_ngcontent-%COMP%], .col-1[_ngcontent-%COMP%]{position:relative;width:100%;padding-right:9px;padding-left:8px}.floating-button[_ngcontent-%COMP%]{position:fixed;bottom:29px;right:190px;z-index:1000}.floatingbtn[_ngcontent-%COMP%]{color:#fff;background-color:#000000bf!important;opacity:.5}.settings2[_ngcontent-%COMP%]{position:fixed;top:80px;right:-300px;z-index:1018;width:340px;transition:all .2s}.settings2.show[_ngcontent-%COMP%]{right:-1px}.settings2[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{position:absolute;left:-310px;padding:7px 12px 7px 10px;z-index:99;color:#efe5e5;bottom:-32rem!important;cursor:pointer}.settings2[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:focus{box-shadow:none}.settings4[_ngcontent-%COMP%]{position:fixed;top:80px;right:-275px;z-index:1018;width:340px;transition:all .2s}.settings4.show[_ngcontent-%COMP%]{right:-1px}.settings4[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{position:absolute;left:-196px;padding:7px 12px 7px 10px;z-index:99;color:#efe5e5;bottom:-32rem!important;cursor:pointer}.settings4[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:focus{box-shadow:none}"]})}return r})(),ye=(()=>{class r{constructor(e){this.http=e}getHeader(e){return this.http.get(localStorage.getItem("Server")+"/GetDataQuery?dbName=GTI_WMS_DB"+e)}getBinType(e){return this.http.get(localStorage.getItem("Server")+"/GetDataQuery?dbName=GTI_WMS_DB"+e)}getBins(e){return this.http.get(localStorage.getItem("Server")+"/GetDataQuery?dbName=GTI_WMS_DB"+e)}addInventory(e){return this.http.get(localStorage.getItem("Server")+"/DataInQuery?dbName=GTI_WMS_DB"+e)}modDataOnly(e){return this.http.get(localStorage.getItem("Server")+"/DataInQuery?dbName=GTI_WMS_DB"+e)}getDataMethod(e){return this.http.get(localStorage.getItem("Server")+"/GetDataQuery?dbName=GTI_WMS_DB"+e)}AlertOne(e,n,o){d().fire({icon:e,title:n,text:o,allowOutsideClick:!1})}busyLoading(){return new Promise((e,n)=>{d().fire({title:"Please wait",html:"loading..",timerProgressBar:!0,allowOutsideClick:!1,didOpen:()=>{d().showLoading(),e()}})})}AlertTwo(e,n,o){d().fire({position:"center",icon:e,title:n,text:o,allowOutsideClick:!0,showConfirmButton:!1,timer:2500})}closeBusyLoading(){d().close()}onNumberSeries(e,n){var o=n-e.toString().length+1;return Array(+(o>0&&o)).join("0")+e}QuerySender(e){return this.http.get(localStorage.getItem("Server")+"/SQLCommandQuery?dbName=GTI_WMS_DB"+e)}postDataGTI(e,n){const o=new b.WM({"Content-Type":"application/json"});return this.http.post(localStorage.getItem("Server")+"/"+n,e,{headers:o})}static#t=this.\u0275fac=function(n){return new(n||r)(t.LFG(b.eN))};static#e=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var k=h(9693);let Oe=(()=>{class r{transform(e,n){if(!n||!e)return e;const o=new RegExp(n,"ig");return e.filter(i=>(i.OrderNumber.trim(),-1!==i.OrderNumber.trim().search(o)||-1!==i.Warehouse.trim().search(o)))}static#t=this.\u0275fac=function(n){return new(n||r)};static#e=this.\u0275pipe=t.Yjl({name:"ETPRcvROSearchPipe",type:r,pure:!1})}return r})();const Me=["myInput"],Ze=["PODetailsViewDetails"];function Te(r,u){if(1&r&&(t.TgZ(0,"tr"),t._UZ(1,"td",22),t.TgZ(2,"td",23),t._uU(3),t.qZA(),t.TgZ(4,"td",23),t._uU(5),t.qZA(),t.TgZ(6,"td",23),t._uU(7),t.qZA(),t.TgZ(8,"td",23),t._uU(9),t.qZA(),t.TgZ(10,"td",23),t._uU(11),t.qZA(),t.TgZ(12,"td",23),t._uU(13),t.qZA(),t._UZ(14,"td",22),t.qZA()),2&r){const e=u.$implicit;t.xp6(3),t.Oqu(e.ItemNumber),t.xp6(2),t.Oqu(e.ItemName),t.xp6(2),t.Oqu(e.DispatchedQuantity),t.xp6(2),t.Oqu(e.BalanceQuantity),t.xp6(2),t.Oqu(e.ReceivedQuantity),t.xp6(2),t.Oqu(e.UOM)}}function Se(r,u){if(1&r){const e=t.EpF();t.TgZ(0,"div",8)(1,"div",9)(2,"div",10)(3,"div",11)(4,"div",12)(5,"div",13)(6,"div",14)(7,"label"),t._uU(8,"Order No"),t.qZA(),t.TgZ(9,"div",15)(10,"input",16),t.NdJ("ngModelChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.LineHeader.PurchaseOrder=o)}),t.qZA(),t.TgZ(11,"span",17),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(),i=t.MAs(11);return t.KtG(o.onShowFind(i))}),t._uU(12,"..."),t.qZA()()()(),t.TgZ(13,"div",13)(14,"label"),t._uU(15,"FROM"),t.qZA(),t.TgZ(16,"div",14)(17,"input",16),t.NdJ("ngModelChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.LineHeader.PODate=o)}),t.qZA()()(),t._UZ(18,"div",13),t.qZA()()()(),t.TgZ(19,"div",18)(20,"div",19)(21,"table",20)(22,"thead")(23,"tr"),t._UZ(24,"th"),t.TgZ(25,"th"),t._uU(26,"Item Number"),t.qZA(),t.TgZ(27,"th"),t._uU(28,"Item Name"),t.qZA(),t.TgZ(29,"th"),t._uU(30,"Ordered Quantity"),t.qZA(),t.TgZ(31,"th"),t._uU(32,"Balance Quantity"),t.qZA(),t.TgZ(33,"th"),t._uU(34,"Received Quantity"),t.qZA(),t.TgZ(35,"th"),t._uU(36,"UOM"),t.qZA(),t._UZ(37,"th"),t.qZA()(),t.TgZ(38,"tbody"),t.YNc(39,Te,15,6,"tr",21),t.qZA()()()()()}if(2&r){const e=t.oxw();t.xp6(10),t.Q6J("ngModel",e.LineHeader.PurchaseOrder),t.xp6(7),t.Q6J("ngModel",e.LineHeader.PODate),t.xp6(22),t.Q6J("ngForOf",e.PicklistDetails)}}function we(r,u){if(1&r){const e=t.EpF();t.TgZ(0,"div",34)(1,"div",35),t.NdJ("click",function(){const i=t.CHM(e).$implicit,a=t.oxw(2);return t.KtG(a.editQtyFunc(i))}),t.TgZ(2,"div",36)(3,"div",37)(4,"div",38)(5,"div",39)(6,"h6",40),t._uU(7),t.qZA()(),t.TgZ(8,"div",41)(9,"div",42)(10,"div",43)(11,"div",8),t._UZ(12,"div",44)(13,"div",44),t.TgZ(14,"div",45)(15,"h5",40),t._uU(16),t.qZA()(),t._UZ(17,"div",44)(18,"div",44),t.TgZ(19,"div",45),t._uU(20),t.qZA(),t.TgZ(21,"div",46),t._uU(22,"Order Qty"),t.qZA(),t.TgZ(23,"div",44),t._uU(24,":"),t.qZA(),t.TgZ(25,"div",47),t._uU(26),t.qZA(),t.TgZ(27,"div",46),t._uU(28,"Scanned Qty"),t.qZA(),t.TgZ(29,"div",44),t._uU(30,":"),t.qZA(),t.TgZ(31,"div",47),t._uU(32),t.qZA()()(),t.TgZ(33,"div",48)(34,"img",49),t.NdJ("error",function(){const i=t.CHM(e).$implicit,a=t.oxw(2);return t.KtG(a.onImgError(i))}),t.qZA()()()()()()()()()}if(2&r){const e=u.$implicit;t.xp6(7),t.hij(" ",e.Name," "),t.xp6(9),t.Oqu(e.ItemNumber),t.xp6(4),t.Oqu(e.UPC),t.xp6(6),t.Oqu(e.BalanceQuantity),t.xp6(6),t.Oqu(e.ScannedQty),t.xp6(2),t.Q6J("src",e.ItemImage,t.LSH)}}function Ie(r,u){if(1&r){const e=t.EpF();t.TgZ(0,"div",24)(1,"div",25)(2,"div",26)(3,"span",27),t._UZ(4,"i",28),t.qZA()(),t.TgZ(5,"input",29),t.NdJ("ngModelChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.ScanBarcode=o)}),t.qZA()(),t.TgZ(6,"span",30),t._uU(7,"Ref Order:"),t.qZA(),t.TgZ(8,"span",31),t._uU(9),t.qZA(),t._UZ(10,"br"),t.TgZ(11,"span",30),t._uU(12,"Total Scanned: "),t.qZA(),t.TgZ(13,"span",30),t._uU(14),t.qZA(),t.TgZ(15,"span",30),t._uU(16," of "),t.qZA(),t.TgZ(17,"span",30),t._uU(18),t.qZA(),t.TgZ(19,"ng-scrollbar",32),t.YNc(20,we,35,6,"div",33),t.qZA()()}if(2&r){const e=t.oxw();t.xp6(5),t.Q6J("ngModel",e.ScanBarcode),t.xp6(4),t.Oqu(e.ETPPurchaseOrderNum),t.xp6(5),t.Oqu(e.totalScaned),t.xp6(4),t.Oqu(e.totalOrder),t.xp6(2),t.Q6J("ngForOf",e.ETPDetailsData)}}function De(r,u){if(1&r){const e=t.EpF();t.TgZ(0,"tr"),t._UZ(1,"td",22),t.TgZ(2,"td",23),t._uU(3),t.qZA(),t.TgZ(4,"td",23),t._uU(5),t.qZA(),t.TgZ(6,"td",23)(7,"button",60),t.NdJ("click",function(){const i=t.CHM(e).$implicit,a=t.oxw(2);return t.KtG(a.onOpenPODetails(i))}),t._UZ(8,"i",61),t._uU(9,"\xa0\xa0Open"),t.qZA()()()}if(2&r){const e=u.$implicit;t.xp6(3),t.Oqu(e.OrderNumber),t.xp6(2),t.Oqu(e.Warehouse)}}const qe=r=>({itemsPerPage:20,currentPage:r});function Ae(r,u){if(1&r){const e=t.EpF();t.TgZ(0,"div",50)(1,"h5",40),t._uU(2,"Receive Order List"),t.qZA(),t.TgZ(3,"div",51)(4,"a",52),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._UZ(5,"i",53),t.qZA()()(),t.TgZ(6,"div",54)(7,"div",55)(8,"div",25)(9,"div",26)(10,"span",27),t._UZ(11,"i",56),t.qZA()(),t.TgZ(12,"input",57),t.NdJ("ngModelChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.searchText=o)}),t.qZA()()(),t.TgZ(13,"div",18)(14,"div",19)(15,"ng-scrollbar",32)(16,"table",20)(17,"tbody"),t.YNc(18,De,10,2,"tr",21),t.ALo(19,"paginate"),t.ALo(20,"ETPROSearchPipe"),t.qZA()()()()()(),t.TgZ(21,"div",8)(22,"div",18)(23,"div",58)(24,"pagination-controls",59),t.NdJ("pageChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.p=o)}),t.qZA()()()()}if(2&r){const e=t.oxw();t.xp6(12),t.Q6J("ngModel",e.searchText),t.xp6(6),t.Q6J("ngForOf",t.xi3(19,4,t.xi3(20,7,e.ETPHeaderData,e.searchText),t.VKq(10,qe,e.p))),t.xp6(6),t.Q6J("autoHide",!0)("maxSize",5)}}function Ne(r,u){if(1&r&&(t.TgZ(0,"tr")(1,"td",22)(2,"button",62),t._UZ(3,"i",63),t.qZA()(),t.TgZ(4,"td",23),t._uU(5),t.qZA(),t.TgZ(6,"td",23),t._uU(7),t.qZA(),t.TgZ(8,"td",23),t._uU(9),t.qZA(),t._UZ(10,"td",23),t.qZA()),2&r){const e=u.$implicit;t.xp6(5),t.Oqu(e.ItemNumber),t.xp6(2),t.Oqu(e.BalanceQuantity),t.xp6(2),t.Oqu(e.ScannedQty)}}function Ue(r,u){if(1&r&&(t.TgZ(0,"div",50)(1,"h5",40),t._uU(2,"Discrepancy List"),t.qZA(),t._UZ(3,"div",51),t.qZA(),t.TgZ(4,"div",54)(5,"div",18)(6,"div",19)(7,"ng-scrollbar",32)(8,"table",20)(9,"thead")(10,"tr"),t._UZ(11,"th"),t.TgZ(12,"th"),t._uU(13,"Item Number"),t.qZA(),t.TgZ(14,"th"),t._uU(15,"Request Quantity"),t.qZA(),t.TgZ(16,"th"),t._uU(17,"Balance Quantity"),t.qZA(),t.TgZ(18,"th"),t._uU(19,"Scanned Quantity"),t.qZA(),t._UZ(20,"th"),t.qZA()(),t.TgZ(21,"tbody"),t.YNc(22,Ne,11,3,"tr",21),t.qZA()()()()()()),2&r){const e=t.oxw();t.xp6(22),t.Q6J("ngForOf",e.ETPDetailsDataBal)}}function Be(r,u){if(1&r){const e=t.EpF();t.TgZ(0,"div",64)(1,"h3",65),t._uU(2,"SCAN BIN LOCATION"),t.qZA()(),t.TgZ(3,"div",54)(4,"div",66)(5,"div",25)(6,"input",67),t.NdJ("ngModelChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.targetLocation=o)}),t.qZA(),t.TgZ(7,"div",15)(8,"span",68),t._UZ(9,"i",69),t.qZA()()(),t.TgZ(10,"div",70)(11,"button",71),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.Putaway())}),t._uU(12,"Putaway"),t.qZA(),t.TgZ(13,"button",72),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._uU(14,"Cancel"),t.qZA()()()()}if(2&r){const e=t.oxw();t.xp6(6),t.Q6J("ngModel",e.targetLocation)}}const E=r=>({show:r});function ke(r,u){if(1&r){const e=t.EpF();t.TgZ(0,"div",73)(1,"button",74),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onLoadData())}),t._UZ(2,"i",75),t._uU(3,"\xa0\xa0\xa0Back"),t.qZA()()}if(2&r){const e=t.oxw();t.Q6J("ngClass",t.VKq(1,E,e.showSetting))}}function Ee(r,u){if(1&r){const e=t.EpF();t.TgZ(0,"div",76)(1,"button",77),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(),i=t.MAs(7);return t.KtG(o.openModalM(i))}),t._uU(2,"Putaway\xa0\xa0"),t._UZ(3,"i",78),t.qZA()()}if(2&r){const e=t.oxw();t.Q6J("ngClass",t.VKq(1,E,e.showSetting))}}function Qe(r,u){if(1&r){const e=t.EpF();t.TgZ(0,"tr")(1,"td")(2,"button",82),t.NdJ("click",function(){const i=t.CHM(e).$implicit,a=t.oxw(2);return t.KtG(a.onSelectDO(i))}),t._uU(3,"Select"),t.qZA()(),t.TgZ(4,"td"),t._uU(5),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.qZA(),t._UZ(8,"td"),t.qZA()}if(2&r){const e=u.$implicit;t.xp6(5),t.Oqu(e.OrderNumber),t.xp6(2),t.Oqu(e.Warehouse)}}function Re(r,u){if(1&r){const e=t.EpF();t.TgZ(0,"div",64)(1,"h5",65),t._uU(2,"Received DIspatch Order"),t.qZA(),t.TgZ(3,"div",50)(4,"div",79)(5,"a",52),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.modalRef.close())}),t._UZ(6,"i",53),t.qZA()(),t.TgZ(7,"div",80)(8,"div",8)(9,"div",55)(10,"div",25)(11,"div",26)(12,"span",27),t._UZ(13,"i",56),t.qZA()(),t.TgZ(14,"input",81),t.NdJ("ngModelChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.searchText=o)}),t.qZA()()()(),t.TgZ(15,"ng-scrollbar",32)(16,"table",20)(17,"tbody"),t.YNc(18,Qe,9,2,"tr",21),t.ALo(19,"ETPRcvROSearchPipe"),t.qZA()()()()()()}if(2&r){const e=t.oxw();t.xp6(14),t.Q6J("ngModel",e.searchText),t.xp6(4),t.Q6J("ngForOf",t.xi3(19,2,e.POList,e.searchText))}}let Le=(()=>{class r{onAfterPrint(){this.reloadPage()}reloadPage(){window.location.reload()}constructor(e,n,o,i,a,s){this.renderer=n,this.notifService=o,this.toastrService=i,this.apiservice=a,this.breakpointObserver=s,this.Bins=[],this.ScanBarcode="",this.barcodeData="",this.totalScaned=0,this.totalOrder=0,this.LineNumbering=0,this.searchText="",this.isPutawayLoc=!1,this.targetLocation="",this.ETPHeaderData=[],this.ETPDetailsData=[],this.PicklistDetails=[],this.ETPDetailsDataBal=[],this.ETPItemData=[],this.ETPReference2="",this.POList=[],this.isMobile=!1,this.ETPPurchaseOrderNum="",this.ETPInvoiceYr="",this.ETPFromStore="",this.seriesNumber="",this.ETPHeaderStatus="",this.showSetting=!1,this.modalService=(0,t.f3M)(P.FF),this.LineHeader={PurchaseOrder:"",PODate:""},e.backdrop="static",e.keyboard=!1,this.detectDeviceType()}detectDeviceType(){this.breakpointObserver.observe([v.u3.Handset,v.u3.Tablet]).subscribe(e=>{this.isMobile=e.matches})}handleKeyDown(e){"F12"===e.key||"Enter"===e.key&&0==this.isPutawayLoc?setTimeout(function(){$("#myInput").focus(),this.ScanBarcode=""},1e3):("F12"===e.key||"Enter"===e.key&&1==this.isPutawayLoc)&&setTimeout(function(){$("#myInput2").focus(),this.targetLocation=""},1e3)}trimIfTooLong(e){const n=e.toString();return n.length>12?n.slice(0,-1):n}handleKeyUp(e){if("F12"===e.key||"Enter"===e.key)if(this.barcodeData=this.ScanBarcode.length>12?this.ScanBarcode.slice(0,12):this.ScanBarcode,e.preventDefault(),0==this.isPutawayLoc&&""!==this.barcodeData){var n=this.ETPDetailsData.filter(i=>i.UPC===this.barcodeData);n.length?n[0].BalanceQuantity===n[0].ScannedQty?(this.onPlayError(),this.toastrService.error("Quantity exceeds open quantity!"),this.ScanBarcode="",this.barcodeData="",setTimeout(function(){$("#myInput").focus(),this.ScanBarcode=""},1e3)):(this.onPlayScanned(),this.toastrService.success(this.barcodeData),n[0].ScannedQty+=1,this.totalScaned=this.ScannedSum(),n[0].timestamper=parseInt((0,_.p6)(new Date,"HHmmss","en-US")),this.ETPDetailsData=this.ETPDetailsData.slice().sort((i,a)=>a.timestamper-i.timestamper),this.ScanBarcode="",this.barcodeData="",setTimeout(function(){$("#myInput").focus(),this.ScanBarcode=""},1e3)):(this.onPlayError(),this.toastrService.warning(this.barcodeData+" Scanned item not found!"),this.ScanBarcode="",this.barcodeData="",setTimeout(function(){$("#myInput").focus(),this.ScanBarcode=""},1e3))}else 1==this.isPutawayLoc&&(this.targetLocation=this.targetLocation,0!==this.Bins.filter(i=>i.BinName===this.targetLocation).length?(this.onPlayScanned(),this.toastrService.success("Please proceed on pressing putaway button!"),this.isReady=!0):(this.onPlayError(),this.toastrService.error(this.targetLocation+" Invalid bin location!"),setTimeout(function(){$("#myInput2").focus(),this.targetLocation=""},1e3),this.isReady=!1))}onPlayScanned(){let e=new Audio;e.src="../assets/ringtone/barcode_beep_sound.mp3",e.load(),e.play()}onPlayError(){let e=new Audio;e.src="../assets/ringtone/cursor_error.mp3",e.load(),e.play()}getWarehouses(){var e=this;return(0,c.Z)(function*(){return new Promise(function(){var n=(0,c.Z)(function*(o,i){yield e.apiservice.getDataMethod("&querytag=getWarehouseLoc&value1=&value2=&value3=&value4=").subscribe(function(){var a=(0,c.Z)(function*(s){e.WhseLoc=s,o()});return function(s){return a.apply(this,arguments)}}())});return function(o,i){return n.apply(this,arguments)}}())})()}editQtyFunc(e){var n;"Admin"==localStorage.getItem("UserType")?(e.ScannedQty<e.BalanceQuantity?e.ScannedQty=parseInt(e.ScannedQty)+1:e.ScannedQty==e.BalanceQuantity&&(e.ScannedQty=0),this.totalScaned=this.ScannedSum()):0!==e.ScannedQty&&(this.editableQty=e.ScannedQty,this.editableRow=this.ETPDetailsData.indexOf(e),d().fire({title:e.ItemNumber,input:"number",inputValue:this.editableQty,focusConfirm:!1,showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Update",showLoaderOnConfirm:!0,allowOutsideClick:!1,preConfirm:(n=(0,c.Z)(function*(o){parseInt(o)>parseInt(e.BalanceQuantity)&&d().showValidationMessage("Quantity exceeds open quantity!")}),function(i){return n.apply(this,arguments)})}).then(n=>{n.isConfirmed&&(this.ETPDetailsData[this.editableRow].ScannedQty=parseInt(n.value),this.totalScaned=this.ScannedSum(),setTimeout(function(){$("#itemInput").focus()},1e3)),setTimeout(function(){$("#itemInput").focus()},1e3)}))}onpressentersku(){if(""!==this.ScanBarcode){this.ScanBarcode=this.ScanBarcode.length>12?this.ScanBarcode.slice(0,12):this.ScanBarcode;var e=this.ETPDetailsData.filter(n=>n.UPC===this.ScanBarcode.trim());if(e.length){if(e[0].BalanceQuantity===e[0].ScannedQty)return void this.toastrService.error("Putaway quantity exceeds open quantity!");e[0].ScannedQty+=1,this.totalScaned=this.ScannedSum(),e[0].timestamper=parseInt((0,_.p6)(new Date,"HHmmss","en-US")),this.ETPDetailsData=this.ETPDetailsData.slice().sort((n,o)=>o.timestamper-n.timestamper),this.toastrService.success(this.ScanBarcode+": 1")}else this.toastrService.error("Scanned item not found!");this.ScanBarcode=""}}ngOnInit(){this.isReady=!1,this.isMobile&&this.onLoadData()}openModal(){this.modalRef=this.modalService.open(this.PODetailsViewDetails,{scrollable:!0})}closeModal(){this.isPutawayLoc=!1,this.modalRef.close()}onLoadData(){var e=this;this.totalScaned=0,this.ETPPurchaseOrderNum="",this.ETPInvoiceYr="",this.ETPDetailsData=[],this.apiservice.busyLoading().then((0,c.Z)(function*(){return yield e.executeQueryheader("exec ETPStoreV55..DoheadGetList_new1 100,N'100',N'"+localStorage.getItem("whseNo")+"',N'',N''")})).then((0,c.Z)(function*(){return yield e.getWarehouses()})).then((0,c.Z)(function*(){return yield e.getBin()})).then((0,c.Z)(function*(){return yield e.openModal()})).then((0,c.Z)(function*(){return yield e.apiservice.closeBusyLoading()})).catch(n=>this.apiservice.AlertOne("error","Fetching Data","Error while loading the data!"))}onLoadData2(){var e=this;this.totalScaned=0,this.ETPPurchaseOrderNum="",this.ETPInvoiceYr="",this.ETPDetailsData=[],this.apiservice.busyLoading().then((0,c.Z)(function*(){return yield e.executeQueryheader("exec ETPStoreV55..DoheadGetList_new1 100,N'100',N'"+localStorage.getItem("whseNo")+"',N'',N''")})).then((0,c.Z)(function*(){return yield e.openModal()})).then((0,c.Z)(function*(){return yield e.apiservice.closeBusyLoading()})).catch(n=>this.apiservice.AlertOne("error","Fetching Data","Error while loading the data!"))}getBin(){var e=this;return(0,c.Z)(function*(){return new Promise(function(){var n=(0,c.Z)(function*(o,i){yield e.apiservice.getBins("&querytag=getAllBin&value1=&value2=&value3=&value4=").subscribe(function(){var a=(0,c.Z)(function*(s){e.Bins=s,o()});return function(s){return a.apply(this,arguments)}}())});return function(o,i){return n.apply(this,arguments)}}())})()}executeQueryheader(e){var n=this;return(0,c.Z)(function*(){return new Promise(function(){var o=(0,c.Z)(function*(i,a){yield n.apiservice.QuerySender("&value1="+e).subscribe(function(){var s=(0,c.Z)(function*(l){n.ETPHeaderData=yield l,i()});return function(l){return s.apply(this,arguments)}}())});return function(i,a){return o.apply(this,arguments)}}())})()}onOpenPODetails(e){var n=this;this.isPutawayLoc=!1,this.ETPPurchaseOrderNum=e.OrderNumber,this.ETPInvoiceYr=e.InvoiceYear,this.ETPFromStore=e.Warehouse,this.apiservice.busyLoading().then((0,c.Z)(function*(){return yield n.onGetPO(e)})).then((0,c.Z)(function*(){return yield n.closeModal()})).then((0,c.Z)(function*(){return yield n.apiservice.closeBusyLoading()})).catch(o=>this.apiservice.AlertOne("error","Fetching Data","Error while loading the data!"))}onGetPO(e){var n=this;return(0,c.Z)(function*(){return new Promise(function(){var o=(0,c.Z)(function*(i,a){yield n.apiservice.getHeader("&querytag=ETPDetailsDataRO&value1="+e.OrderNumber+"&value2="+e.Warehouse+"&value3="+localStorage.getItem("whseNo")+"&value4=").subscribe(function(){var s=(0,c.Z)(function*(l){n.ETPDetailsData=l,n.totalOrder=n.OrderSum(),i()});return function(l){return s.apply(this,arguments)}}())});return function(i,a){return o.apply(this,arguments)}}())})()}openModalM(e){0!==this.ETPDetailsData.filter(o=>0!==o.ScannedQty).length?(this.targetLocation="",this.selectedWh="",this.isPutawayLoc=!0,this.ETPReference2=this.ETPPurchaseOrderNum,this.modalRef=this.modalService.open(e,{container:".app"})):(this.isPutawayLoc=!1,this.apiservice.AlertTwo("warning","WARNING","No Scanned item found,Please scan item first!"))}ScannedSum(){return this.ETPDetailsData.reduce((e,n)=>e+n.ScannedQty,0)}OrderSum(){return this.ETPDetailsData.reduce((e,n)=>e+n.BalanceQuantity,0)}Putaway(){var e=this;this.selectedWh="L1";var n=this.Bins.filter(o=>o.BinName===this.targetLocation);this.isReady=0!==n.length,!0===this.isReady?""!==this.selectedWh?(this.modalRef.close(),this.apiservice.busyLoading().then((0,c.Z)(function*(){return yield e.insertInventoty()})).then((0,c.Z)(function*(){return yield e.DoneInsert()})).catch(o=>console.log("error","Inserting Data","Error while loading the data!"))):this.toastrService.error("Please select location!"):this.toastrService.error("Please scan bin location!")}formatDatePost(){const e=new Date,n=e.getDate().toString().padStart(2,"0"),o=(e.getMonth()+1).toString().padStart(2,"0"),i=e.getFullYear().toString(),a=e.getHours().toString().padStart(2,"0"),s=e.getMinutes().toString().padStart(2,"0"),l=e.getSeconds().toString().padStart(2,"0");return`${o}${n}${i.slice(-2)}${a}${s}${l}`}insertInventoty(){var e=this;return new Promise(function(){var n=(0,c.Z)(function*(o,i){var a=e.ETPDetailsData.filter(s=>0!==s.ScannedQty).map((s,l)=>({...s,rowNumber:l+1})).sort((s,l)=>s.rowNumber-l.rowNumber);e.apiservice.postDataGTI(a,"ReceiveOrder?transno="+e.formatDatePost()+"&createdby="+localStorage.getItem("User")+"&Whouse="+localStorage.getItem("whseNo")+"&DestinationBin="+e.targetLocation+"&etploc="+e.selectedWh).subscribe(s=>{}),o()});return function(o,i){return n.apply(this,arguments)}}())}DoneInsert(){var e=this;return new Promise(function(){var n=(0,c.Z)(function*(o,i){e.ScanBarcode="",e.isReady=!1,e.totalScaned=0,e.SuccessAlert("success","SUCCESS","Putaway successfuly done!"),o()});return function(o,i){return n.apply(this,arguments)}}())}getNumberSeriesRSFMiscellaneous(){var e=this;return new Promise(function(){var n=(0,c.Z)(function*(o,i){var a="exec ETPStoreV55..NumberSeriesRSFMiscellaneous 100,N'"+localStorage.getItem("whseNo")+"',N'8',N'O',"+e.formatDate(new Date);a.replace(/%20/g," ").replace(/%27/g,"'"),yield e.apiservice.QuerySender("&value1="+a).subscribe(function(){var s=(0,c.Z)(function*(l){0!==l.length?(e.NumberSeriesRSFMiscellaneous=yield l[0].LastNumberUsed,o()):i()});return function(l){return s.apply(this,arguments)}}())});return function(o,i){return n.apply(this,arguments)}}())}checkHeaderStatus(){var e=this;return new Promise(function(){var n=(0,c.Z)(function*(o,i){e.totalScaned==e.totalOrder?(e.ETPHeaderStatus="1",o()):(e.ETPHeaderStatus="2",o())});return function(o,i){return n.apply(this,arguments)}}())}DOHeadUpdate(){var e=this;return new Promise(function(){var n=(0,c.Z)(function*(o,i){var a="exec ETPStoreV55..DOHeadUpdate 100,N'"+e.ETPPurchaseOrderNum+"',N'SUPERADMIN',"+e.ETPHeaderStatus+",N'"+e.ETPInvoiceYr+"',N'"+localStorage.getItem("whseNo")+"',N'"+e.ETPFromStore+"',N'100'";yield e.apiservice.QuerySender("&value1="+a).subscribe(function(){var s=(0,c.Z)(function*(l){o()});return function(l){return s.apply(this,arguments)}}())});return function(o,i){return n.apply(this,arguments)}}())}ReceiveHeadInsert(){var e=this;return new Promise(function(){var n=(0,c.Z)(function*(o,i){var a="exec ETPStoreV55..ReceiveHeadInsert 100,N'100',N'"+localStorage.getItem("whseNo")+"',N'101',N'"+localStorage.getItem("whseNo")+e.NumberSeriesRSFMiscellaneous+"',"+e.ETPInvoiceYr+",N'"+e.ETPPurchaseOrderNum+"',"+e.ETPInvoiceYr+",N'"+e.ETPFromStore+"',N'TO',N'TRANSFER TO "+e.ETPFromStore+"',0,N'SUPERADMIN',"+e.LastNumberSTL;yield e.apiservice.QuerySender("&value1="+a).subscribe(function(){var s=(0,c.Z)(function*(l){o()});return function(l){return s.apply(this,arguments)}}())});return function(o,i){return n.apply(this,arguments)}}())}formatDate(e){return`${e.getFullYear()}${this.padZero(e.getMonth()+1)}${this.padZero(e.getDate())}`}padZero(e){return e<10?`0${e}`:`${e}`}getIsNumberExists(){var e=this;return new Promise(function(){var n=(0,c.Z)(function*(o,i){const a=new Date;var s="exec ETPStoreV55..IsNumberExists 100,N'100',N'"+localStorage.getItem("whseNo")+"',N'"+e.NumberSeriesRSFMiscellaneous+"',"+a.getFullYear()+",18,1";yield e.apiservice.QuerySender("&value1="+s).subscribe(function(){var l=(0,c.Z)(function*(g){e.ETPItemData=yield g[0].LastNumberUsed,o()});return function(g){return l.apply(this,arguments)}}())});return function(o,i){return n.apply(this,arguments)}}())}onETPSaveTransactionLog(e){var n=this;return new Promise(function(){var o=(0,c.Z)(function*(i,a){let l="declare @p8 int set @p8=1 exec ETPStoreV55..SaveTransactionlog 100,1,38,"+n.NumberSeriesRSFMiscellaneous+","+(new Date).getFullYear()+",0,"+n.formatDate(new Date)+",@p8 output,5,"+n.LastNumberSTL;yield n.apiservice.QuerySender("&value1="+l).subscribe(function(){var g=(0,c.Z)(function*(m){console.log(m),i()});return function(m){return g.apply(this,arguments)}}())});return function(i,a){return o.apply(this,arguments)}}())}GETCostListLatestPrice(e){var n=this;return new Promise(o=>setTimeout(()=>{this.apiservice.getDataMethod("&querytag=GETCostListLatestPrice&value1="+this.ETPInvoiceYr+"&value2="+this.ETPPurchaseOrderNum+"&value3="+e+"&value4=").subscribe(function(){var i=(0,c.Z)(function*(a){console.log(a),0!==a.length?(n.ETPItemCosting=a[0].ItemCost,o()):(n.ETPItemCosting=0,o())});return function(a){return i.apply(this,arguments)}}())},200))}InsertCostListWithWeightAvg(e,n,o){return new Promise(i=>setTimeout(()=>{var a="exec ETPStoreV55..InsertCostListWithWeightAvg 100,N'"+localStorage.getItem("whseNo")+"',N'100',"+this.ETPItemCosting+","+this.ETPItemCosting+",N'"+e+"',N'',N'"+n+"',N'SUPERADMIN'";a.replace(/%20/g," ").replace(/%27/g,"'"),this.apiservice.QuerySender("&value1="+a).subscribe(function(){var s=(0,c.Z)(function*(l){i()});return function(l){return s.apply(this,arguments)}}())},200))}getLastIdInLedger(){var e=this;return new Promise(function(){var n=(0,c.Z)(function*(o,i){e.apiservice.getDataMethod("&querytag=ETPROHeadId&value1=0&value2=&value3=&value4=").subscribe(function(){var a=(0,c.Z)(function*(s){0!==s.length?(e.LastNumberSTL=s[0].maxid,o()):i()});return function(s){return a.apply(this,arguments)}}())});return function(o,i){return n.apply(this,arguments)}}())}SuccessAlert(e,n,o){d().fire({position:"center",icon:e,title:n,text:o,allowOutsideClick:!0,showConfirmButton:!1,timer:2500,willClose:()=>{this.onLoadData2()}})}onShowFind(e){var n=this;this.apiservice.busyLoading().then((0,c.Z)(function*(){return yield n.getPullOutHead()})).then((0,c.Z)(function*(){return yield n.onOpenModalPO(e)})).then((0,c.Z)(function*(){return yield n.apiservice.closeBusyLoading()})).catch(o=>this.apiservice.AlertOne("error","Fetching Data","Error while loading the data!"))}onOpenModalPO(e){var n=this;return(0,c.Z)(function*(){return new Promise(function(){var o=(0,c.Z)(function*(i,a){n.modalRef=n.modalService.open(e,{container:".app"}),i()});return function(i,a){return o.apply(this,arguments)}}())})()}getPullOutHead(){var e=this;return(0,c.Z)(function*(){return new Promise(function(){var n=(0,c.Z)(function*(o,i){const a=new Date;yield e.apiservice.getDataMethod("&querytag=ReceivedStockShare&value1="+a.getFullYear()+"&value2=&value3=&value4=").subscribe(function(){var s=(0,c.Z)(function*(l){e.POList=l,console.log(l),o()});return function(l){return s.apply(this,arguments)}}())});return function(o,i){return n.apply(this,arguments)}}())})()}onSelectDO(e){var n=this;this.modalRef.close(),this.apiservice.busyLoading().then((0,c.Z)(function*(){return yield n.onPutHeaderData(e)})).then((0,c.Z)(function*(){return yield n.ReceivedOrderLineGet()})).then((0,c.Z)(function*(){return yield n.apiservice.closeBusyLoading()})).catch(o=>this.apiservice.AlertOne("error","Fetching Data","Error while loading the data!"))}onPutHeaderData(e){var n=this;return new Promise(function(){var o=(0,c.Z)(function*(i,a){n.LineHeader={PurchaseOrder:e.OrderNumber,PODate:e.Warehouse},i()});return function(i,a){return o.apply(this,arguments)}}())}ReceivedOrderLineGet(){var e=this;return(0,c.Z)(function*(){return new Promise(function(){var n=(0,c.Z)(function*(o,i){yield e.apiservice.getDataMethod("&querytag=StockShareDetails&value1="+e.LineHeader.PurchaseOrder+"&value2=&value3=&value4=").subscribe(function(){var a=(0,c.Z)(function*(s){e.PicklistDetails=s,o()});return function(s){return a.apply(this,arguments)}}())});return function(o,i){return n.apply(this,arguments)}}())})()}onImgError(e){e.ItemImage=localStorage.getItem("Server")+"/img?filename=DefaultImg",e.ImageStatus="None"}static#t=this.\u0275fac=function(n){return new(n||r)(t.Y36(P.NM),t.Y36(t.Qsj),t.Y36(Z.j),t.Y36(O._W),t.Y36(ye),t.Y36(v.Yg))};static#e=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-etp-receiving-order"]],viewQuery:function(n,o){if(1&n&&(t.Gf(Me,5),t.Gf(Ze,5)),2&n){let i;t.iGM(i=t.CRH())&&(o.myInput=i.first),t.iGM(i=t.CRH())&&(o.PODetailsViewDetails=i.first)}},hostBindings:function(n,o){1&n&&t.NdJ("afterprint",function(){return o.onAfterPrint()},!1,t.Jf7)("keydown",function(a){return o.handleKeyDown(a)},!1,t.Jf7)("keyup",function(a){return o.handleKeyUp(a)},!1,t.Jf7)},decls:12,vars:4,consts:[["class","row",4,"ngIf"],["class","col-lg-3 mt-0 col-md-5",4,"ngIf"],["PODetailsViewDetails",""],["PODetailsBalance",""],["PutawayStocks",""],["class","settings2",3,"ngClass",4,"ngIf"],["class","settings4",3,"ngClass",4,"ngIf"],["POListView",""],[1,"row"],[1,"col-lg-12","mb-2"],["widget","",1,"card","border-0","box-shadow"],[1,"card-body","ml-4","widget-body"],[1,"row","justify-content-between"],[1,"col-sm-3"],[1,"form-group"],[1,"input-group-append"],["readonly","","type","text","placeholder","",1,"form-control",3,"ngModel","ngModelChange"],[1,"input-group-text",3,"click"],[1,"col-12"],[1,"table-responsive","bg-white","box-shadow"],[1,"table","table-hover"],[4,"ngFor","ngForOf"],[1,"align-middle"],[1,"align-middle","text-truncate"],[1,"col-lg-3","mt-0","col-md-5"],[1,"input-group","mb-3","box-shadow"],[1,"input-group-prepend"],[1,"input-group-text","border-top-0","border-left-0","border-bottom-0"],[1,"fa","fa-qrcode"],["type","text","id","myInput","placeholder","Enter barcode here...",1,"form-control","border-0",3,"ngModel","ngModelChange"],[1,"badge","badge"],[1,"badge","badge-success"],["pointerEventsMethod","scrollbar",2,"height","450px"],["class","col-xl-4 col-lg-6 mb-4",4,"ngFor","ngForOf"],[1,"col-xl-4","col-lg-6","mb-4"],[1,"flip",3,"click"],[1,"content"],[1,"front"],[1,"card","border-0","box-shadow","rounded-0"],[1,"card-header","border-0","rounded-0","text-muted"],[1,"mb-0"],[1,"card-body"],[1,"media"],[1,"media-body","ml-4"],[1,"col-0","text-gray","text-left","pr-0","text-truncate"],[1,"col-10","pl-2","text-left","text-truncate"],[1,"col-4","text-gray","text-left","pr-0","text-truncate"],[1,"col-6","pl-2","text-left","text-truncate"],[1,"d-flex","flex-column","justify-content-center"],["width","70",1,"rounded",3,"src","error"],[1,"card-header","transparent","border-0","text-muted"],[1,"widget-controls","mr-2","mt-1"],["data-widgster","close",1,"transition",3,"click"],[1,"fa","fa-times"],[1,"modal-body"],[1,"col"],[1,"fa","fa-search"],["type","text","placeholder","Search...",1,"form-control","border-0",3,"ngModel","ngModelChange"],[1,"bg-white","text-center"],[3,"autoHide","maxSize","pageChange"],[1,"btn","btn-success","mr-1",3,"click"],[1,"fa","fa-file-o"],[1,"btn","btn-rounded","btn-danger","mr-1"],[1,"fa","fa-trash"],[1,"modal-header-own"],["id","modal-basic-title",1,"modal-title",2,"color","black","margin-top","18px","margin-left","16px"],[1,"container","mb-3","mt-3"],["id","myInput2","type","text","placeholder","Scan bin barcode here...",1,"form-control","border-0",3,"ngModel","ngModelChange"],[1,"input-group-text","border-top-0","border-right-0","border-bottom-0"],[1,"fa","fa-reorder"],[1,"button-container"],["type","button",1,"btn","btn-success","mr-1",3,"click"],["type","button",1,"btn","btn-danger","mr-1",3,"click"],[1,"settings2",3,"ngClass"],[1,"btn","btn-danger","btn-rounded",3,"click"],[1,"fa","fa-mail-reply-all"],[1,"settings4",3,"ngClass"],[1,"btn","btn-success","btn-rounded",3,"click"],[1,"fa","fa-cart-arrow-down"],[1,"widget-controls"],[1,"bg-white","box-shadow","mt-4","mr-1","ml-1"],["type","text","placeholder","Search...",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","btn-outline-info","w-100p","mb-1","mr-1",3,"click"]],template:function(n,o){1&n&&t.YNc(0,Se,40,3,"div",0)(1,Ie,21,5,"div",1)(2,Ae,25,12,"ng-template",null,2,t.W1O)(4,Ue,23,1,"ng-template",null,3,t.W1O)(6,Be,15,1,"ng-template",null,4,t.W1O)(8,ke,4,3,"div",5)(9,Ee,4,3,"div",6)(10,Re,20,5,"ng-template",null,7,t.W1O),2&n&&(t.Q6J("ngIf",!o.isMobile),t.xp6(1),t.Q6J("ngIf",o.isMobile),t.xp6(7),t.Q6J("ngIf",o.isMobile),t.xp6(1),t.Q6J("ngIf",o.isMobile))},dependencies:[_.mk,_.sg,_.O5,T.KC,p.Fj,p.JJ,p.On,x.LS,k.c,Oe,x._s],styles:[".flip[_ngcontent-%COMP%]{width:100%;height:180px;position:relative;-o-perspective:800px;perspective:800px}.flip[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;transition:transform .6s;transform-style:preserve-3d}.flip[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   div.front[_ngcontent-%COMP%], .flip[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   div.back[_ngcontent-%COMP%]{height:100%;width:100%;position:absolute;z-index:0;backface-visibility:hidden}.flip[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   div.front[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%], .flip[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   div.back[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{height:180px}.flip[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   div.back[_ngcontent-%COMP%]{z-index:1;transform:rotateY(180deg)}.flip[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   div.back[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]{width:100%}.flip[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   div.back[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{width:100%;margin-top:-1px}.flip[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   div.back[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#666}.flip[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   div.back[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .fa-check[_ngcontent-%COMP%]{color:#378d3b}.flip[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   div.back[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .fa-times[_ngcontent-%COMP%]{color:#d22e2e}.flip[_ngcontent-%COMP%]   .content.flipped[_ngcontent-%COMP%]{transform:rotateY(180deg)}.z-index-1[_ngcontent-%COMP%]{z-index:1}.app.dark[_ngcontent-%COMP%]   .bg-light[_ngcontent-%COMP%]{background-color:#fff!important}.app.combined[_ngcontent-%COMP%]   .bg-gray[_ngcontent-%COMP%]{background-color:#bcbfc5!important}.modal-body[_ngcontent-%COMP%]{position:relative;flex:1 1 auto;padding:.5rem}.modal-title[_ngcontent-%COMP%]{margin-bottom:0;line-height:.5;color:#fff}.all-caps-input[_ngcontent-%COMP%]{text-transform:uppercase}.container[_ngcontent-%COMP%]{position:relative}.button-container[_ngcontent-%COMP%]{top:10px;margin:10px}.mb-4[_ngcontent-%COMP%], .my-4[_ngcontent-%COMP%]{margin-bottom:.2rem!important}.app.light[_ngcontent-%COMP%]   .widget-controls[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#a6a6a6}.card-footer[_ngcontent-%COMP%]{padding:.1rem 0rem;background-color:#fff;border-top:0px #fff}.col-xl[_ngcontent-%COMP%], .col-xl-auto[_ngcontent-%COMP%], .col-xl-12[_ngcontent-%COMP%], .col-xl-11[_ngcontent-%COMP%], .col-xl-10[_ngcontent-%COMP%], .col-xl-9[_ngcontent-%COMP%], .col-xl-8[_ngcontent-%COMP%], .col-xl-7[_ngcontent-%COMP%], .col-xl-6[_ngcontent-%COMP%], .col-xl-5[_ngcontent-%COMP%], .col-xl-4[_ngcontent-%COMP%], .col-xl-3[_ngcontent-%COMP%], .col-xl-2[_ngcontent-%COMP%], .col-xl-1[_ngcontent-%COMP%], .col-lg[_ngcontent-%COMP%], .col-lg-auto[_ngcontent-%COMP%], .col-lg-12[_ngcontent-%COMP%], .col-lg-11[_ngcontent-%COMP%], .col-lg-10[_ngcontent-%COMP%], .col-lg-9[_ngcontent-%COMP%], .col-lg-8[_ngcontent-%COMP%], .col-lg-7[_ngcontent-%COMP%], .col-lg-6[_ngcontent-%COMP%], .col-lg-5[_ngcontent-%COMP%], .col-lg-4[_ngcontent-%COMP%], .col-lg-3[_ngcontent-%COMP%], .col-lg-2[_ngcontent-%COMP%], .col-lg-1[_ngcontent-%COMP%], .col-md[_ngcontent-%COMP%], .col-md-auto[_ngcontent-%COMP%], .col-md-12[_ngcontent-%COMP%], .col-md-11[_ngcontent-%COMP%], .col-md-10[_ngcontent-%COMP%], .col-md-9[_ngcontent-%COMP%], .col-md-8[_ngcontent-%COMP%], .col-md-7[_ngcontent-%COMP%], .col-md-6[_ngcontent-%COMP%], .col-md-5[_ngcontent-%COMP%], .col-md-4[_ngcontent-%COMP%], .col-md-3[_ngcontent-%COMP%], .col-md-2[_ngcontent-%COMP%], .col-md-1[_ngcontent-%COMP%], .col-sm[_ngcontent-%COMP%], .col-sm-auto[_ngcontent-%COMP%], .col-sm-12[_ngcontent-%COMP%], .col-sm-11[_ngcontent-%COMP%], .col-sm-10[_ngcontent-%COMP%], .col-sm-9[_ngcontent-%COMP%], .col-sm-8[_ngcontent-%COMP%], .col-sm-7[_ngcontent-%COMP%], .col-sm-6[_ngcontent-%COMP%], .col-sm-5[_ngcontent-%COMP%], .col-sm-4[_ngcontent-%COMP%], .col-sm-3[_ngcontent-%COMP%], .col-sm-2[_ngcontent-%COMP%], .col-sm-1[_ngcontent-%COMP%], .col[_ngcontent-%COMP%], .col-auto[_ngcontent-%COMP%], .col-12[_ngcontent-%COMP%], .col-11[_ngcontent-%COMP%], .col-10[_ngcontent-%COMP%], .col-9[_ngcontent-%COMP%], .col-8[_ngcontent-%COMP%], .col-7[_ngcontent-%COMP%], .col-6[_ngcontent-%COMP%], .col-5[_ngcontent-%COMP%], .col-4[_ngcontent-%COMP%], .col-3[_ngcontent-%COMP%], .col-2[_ngcontent-%COMP%], .col-1[_ngcontent-%COMP%]{position:relative;width:100%;padding-right:9px;padding-left:8px}.floating-button[_ngcontent-%COMP%]{position:fixed;bottom:29px;right:190px;z-index:1000}.floatingbtn[_ngcontent-%COMP%]{color:#fff;background-color:#000000bf!important;opacity:.5}.settings2[_ngcontent-%COMP%]{position:fixed;top:80px;right:-300px;z-index:1018;width:340px;transition:all .2s}.settings2.show[_ngcontent-%COMP%]{right:-1px}.settings2[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{position:absolute;left:-310px;padding:7px 12px 7px 10px;z-index:99;color:#efe5e5;bottom:-32rem!important;cursor:pointer}.settings2[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:focus{box-shadow:none}.settings4[_ngcontent-%COMP%]{position:fixed;top:80px;right:-275px;z-index:1018;width:340px;transition:all .2s}.settings4.show[_ngcontent-%COMP%]{right:-1px}.settings4[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{position:absolute;left:-196px;padding:7px 12px 7px 10px;z-index:99;color:#efe5e5;bottom:-32rem!important;cursor:pointer}.settings4[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:focus{box-shadow:none}"]})}return r})(),He=(()=>{class r{constructor(e){this.http=e}getHeader(e){return this.http.get(localStorage.getItem("Server")+"/GetDataQuery?dbName=GTI_WMS_DB"+e)}getBinType(e){return this.http.get(localStorage.getItem("Server")+"/GetDataQuery?dbName=GTI_WMS_DB"+e)}getBins(e){return this.http.get(localStorage.getItem("Server")+"/GetDataQuery?dbName=GTI_WMS_DB"+e)}addInventory(e){return this.http.get(localStorage.getItem("Server")+"/DataInQuery?dbName=GTI_WMS_DB"+e)}modDataOnly(e){return this.http.get(localStorage.getItem("Server")+"/DataInQuery?dbName=GTI_WMS_DB"+e)}getDataMethod(e){return this.http.get(localStorage.getItem("Server")+"/GetDataQuery?dbName=GTI_WMS_DB"+e)}InsertCostListWithWeightAvg(e){return this.http.get(localStorage.getItem("Server")+"/InsertCostListWithWeightAvg?"+e)}AlertOne(e,n,o){d().fire({icon:e,title:n,text:o,allowOutsideClick:!1})}busyLoading(){return new Promise((e,n)=>{d().fire({title:"Please wait",html:"loading..",timerProgressBar:!0,allowOutsideClick:!1,didOpen:()=>{d().showLoading(),e()}})})}AlertTwo(e,n,o){d().fire({position:"center",icon:e,title:n,text:o,allowOutsideClick:!0,showConfirmButton:!1,timer:2500})}closeBusyLoading(){d().close()}onNumberSeries(e,n){var o=n-e.toString().length+1;return Array(+(o>0&&o)).join("0")+e}QuerySender(e){return this.http.get(localStorage.getItem("Server")+"/SQLCommandQuery?dbName=GTI_WMS_DB"+e)}static#t=this.\u0275fac=function(n){return new(n||r)(t.LFG(b.eN))};static#e=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();const Fe=["myInput"];function Ge(r,u){1&r&&(t.TgZ(0,"div",7),t._UZ(1,"div",8),t.TgZ(2,"div",9)(3,"div",10)(4,"div",11)(5,"div",12),t._UZ(6,"i",13),t.qZA(),t.TgZ(7,"div",14)(8,"h1",15),t._uU(9,"404"),t.qZA(),t.TgZ(10,"h6",16),t._uU(11,"This function not allowed in your current device"),t.qZA(),t.TgZ(12,"p",17),t._uU(13,"Please use mobile device only"),t.qZA(),t.TgZ(14,"p",17),t._uU(15,"GTI WMS"),t.qZA(),t.TgZ(16,"p",17),t._uU(17,"SC-IT"),t.qZA(),t.TgZ(18,"form",18),t._UZ(19,"div",19),t.qZA()()()()()())}function Je(r,u){if(1&r){const e=t.EpF();t.TgZ(0,"div",29)(1,"div",30),t.NdJ("click",function(){const i=t.CHM(e).$implicit,a=t.oxw(2);return t.KtG(a.editQtyFunc(i))}),t.TgZ(2,"div",31)(3,"div",32)(4,"div",11)(5,"div",33)(6,"h6",34),t._uU(7),t.qZA()(),t.TgZ(8,"div",8)(9,"div",35)(10,"div",36)(11,"div",7),t._UZ(12,"div",37)(13,"div",37),t.TgZ(14,"div",38)(15,"h5",34),t._uU(16),t.qZA()(),t._UZ(17,"div",37)(18,"div",37),t.TgZ(19,"div",38),t._uU(20),t.qZA(),t.TgZ(21,"div",39),t._uU(22,"Scanned Qty"),t.qZA(),t.TgZ(23,"div",37),t._uU(24,":"),t.qZA(),t.TgZ(25,"div",40),t._uU(26),t.qZA()()(),t.TgZ(27,"div",41)(28,"img",42),t.NdJ("error",function(){const i=t.CHM(e).$implicit,a=t.oxw(2);return t.KtG(a.onImgError(i))}),t.qZA()()()()()()()()()}if(2&r){const e=u.$implicit;t.xp6(7),t.hij(" ",e.ItemName," "),t.xp6(9),t.Oqu(e.ItemNumber),t.xp6(4),t.Oqu(e.UPC),t.xp6(6),t.Oqu(e.ScannedQty),t.xp6(2),t.Q6J("src",e.ItemImage,t.LSH)}}function Ke(r,u){if(1&r){const e=t.EpF();t.TgZ(0,"div",20)(1,"div",21)(2,"div",22)(3,"span",23),t._UZ(4,"i",24),t.qZA()(),t.TgZ(5,"input",25),t.NdJ("keyup.enter",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onpressentersku())})("ngModelChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.ScanBarcode=o)}),t.qZA()(),t._UZ(6,"br"),t.TgZ(7,"span",26),t._uU(8,"Total Scanned: "),t.qZA(),t.TgZ(9,"span",26),t._uU(10),t.qZA(),t.TgZ(11,"ng-scrollbar",27),t.YNc(12,Je,29,5,"div",28),t.qZA()()}if(2&r){const e=t.oxw();t.xp6(5),t.Q6J("ngModel",e.ScanBarcode),t.xp6(5),t.Oqu(e.totalScaned),t.xp6(2),t.Q6J("ngForOf",e.ETPDetailsData)}}function je(r,u){if(1&r){const e=t.EpF();t.TgZ(0,"tr"),t._UZ(1,"td",57),t.TgZ(2,"td",58),t._uU(3),t.qZA(),t.TgZ(4,"td",58),t._uU(5),t.qZA(),t.TgZ(6,"td",58)(7,"button",59),t.NdJ("click",function(){const i=t.CHM(e).$implicit,a=t.oxw(2);return t.KtG(a.onOpenPODetails(i))}),t._UZ(8,"i",60),t._uU(9,"\xa0\xa0Open"),t.qZA()()()}if(2&r){const e=u.$implicit;t.xp6(3),t.Oqu(e.PurchaseOrderNumber),t.xp6(2),t.Oqu(e.StoreWarehouseCode)}}const $e=r=>({itemsPerPage:20,currentPage:r});function Ye(r,u){if(1&r){const e=t.EpF();t.TgZ(0,"div",43)(1,"h5",34),t._uU(2,"Purchase Order List"),t.qZA(),t.TgZ(3,"div",44)(4,"a",45),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._UZ(5,"i",46),t.qZA()()(),t.TgZ(6,"div",47)(7,"div",48)(8,"div",21)(9,"div",22)(10,"span",23),t._UZ(11,"i",49),t.qZA()(),t.TgZ(12,"input",50),t.NdJ("ngModelChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.searchText=o)}),t.qZA()()(),t.TgZ(13,"div",51)(14,"div",52)(15,"ng-scrollbar",27)(16,"table",53)(17,"tbody"),t.YNc(18,je,10,2,"tr",54),t.ALo(19,"paginate"),t.ALo(20,"ETPPOSearchPipe"),t.qZA()()()()()(),t.TgZ(21,"div",7)(22,"div",51)(23,"div",55)(24,"pagination-controls",56),t.NdJ("pageChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.p=o)}),t.qZA()()()()}if(2&r){const e=t.oxw();t.xp6(12),t.Q6J("ngModel",e.searchText),t.xp6(6),t.Q6J("ngForOf",t.xi3(19,4,t.xi3(20,7,e.ETPHeaderData,e.searchText),t.VKq(10,$e,e.p))),t.xp6(6),t.Q6J("autoHide",!0)("maxSize",5)}}function We(r,u){if(1&r&&(t.TgZ(0,"tr")(1,"td",57)(2,"button",61),t._UZ(3,"i",62),t.qZA()(),t.TgZ(4,"td",58),t._uU(5),t.qZA(),t.TgZ(6,"td",58),t._uU(7),t.qZA(),t.TgZ(8,"td",58),t._uU(9),t.qZA(),t._UZ(10,"td",58),t.qZA()),2&r){const e=u.$implicit;t.xp6(5),t.Oqu(e.ItemNumber),t.xp6(2),t.Oqu(e.BalanceQuantity),t.xp6(2),t.Oqu(e.ScannedQty)}}function ze(r,u){if(1&r&&(t.TgZ(0,"div",43)(1,"h5",34),t._uU(2,"Discrepancy List"),t.qZA(),t._UZ(3,"div",44),t.qZA(),t.TgZ(4,"div",47)(5,"div",51)(6,"div",52)(7,"ng-scrollbar",27)(8,"table",53)(9,"thead")(10,"tr"),t._UZ(11,"th"),t.TgZ(12,"th"),t._uU(13,"Item Number"),t.qZA(),t.TgZ(14,"th"),t._uU(15,"Request Quantity"),t.qZA(),t.TgZ(16,"th"),t._uU(17,"Balance Quantity"),t.qZA(),t.TgZ(18,"th"),t._uU(19,"Scanned Quantity"),t.qZA(),t._UZ(20,"th"),t.qZA()(),t.TgZ(21,"tbody"),t.YNc(22,We,11,3,"tr",54),t.qZA()()()()()()),2&r){const e=t.oxw();t.xp6(22),t.Q6J("ngForOf",e.ETPDetailsDataBal)}}function Ve(r,u){if(1&r){const e=t.EpF();t.TgZ(0,"div",63)(1,"h3",64),t._uU(2,"SCAN BIN LOCATION"),t.qZA()(),t.TgZ(3,"div",47)(4,"div",65)(5,"div",21)(6,"input",66),t.NdJ("ngModelChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.targetLocation=o)}),t.qZA(),t.TgZ(7,"div",67)(8,"span",68),t._UZ(9,"i",69),t.qZA()()(),t.TgZ(10,"div",70)(11,"button",71),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.Putaway())}),t._uU(12,"Putaway"),t.qZA(),t.TgZ(13,"button",72),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._uU(14,"Cancel"),t.qZA()()()()}if(2&r){const e=t.oxw();t.xp6(6),t.Q6J("ngModel",e.targetLocation)}}const Xe=r=>({show:r});function tn(r,u){if(1&r){const e=t.EpF();t.TgZ(0,"div",73)(1,"button",74),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(),i=t.MAs(7);return t.KtG(o.openModalM(i))}),t._uU(2,"Putaway\xa0\xa0"),t._UZ(3,"i",75),t.qZA()()}if(2&r){const e=t.oxw();t.Q6J("ngClass",t.VKq(1,Xe,e.showSetting))}}function en(r,u){if(1&r){const e=t.EpF();t.TgZ(0,"tr")(1,"td")(2,"button",79),t.NdJ("click",function(){const i=t.CHM(e).$implicit,a=t.oxw(2);return t.KtG(a.onSelectDO(i))}),t._uU(3,"Select"),t.qZA()(),t.TgZ(4,"td"),t._uU(5),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.qZA(),t._UZ(8,"td"),t.qZA()}if(2&r){const e=u.$implicit;t.xp6(5),t.Oqu(e.PurchaseOrder),t.xp6(2),t.Oqu(e.PODate)}}function nn(r,u){if(1&r){const e=t.EpF();t.TgZ(0,"div",63)(1,"h5",64),t._uU(2,"Received Purchase Order"),t.qZA(),t.TgZ(3,"div",43)(4,"div",76)(5,"a",45),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.modalRef.close())}),t._UZ(6,"i",46),t.qZA()(),t.TgZ(7,"div",77)(8,"div",7)(9,"div",48)(10,"div",21)(11,"div",22)(12,"span",23),t._UZ(13,"i",49),t.qZA()(),t.TgZ(14,"input",78),t.NdJ("ngModelChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.searchText=o)}),t.qZA()()()(),t.TgZ(15,"ng-scrollbar",27)(16,"table",53)(17,"tbody"),t.YNc(18,en,9,2,"tr",54),t.ALo(19,"ETPPORSearchPipe"),t.qZA()()()()()()}if(2&r){const e=t.oxw();t.xp6(14),t.Q6J("ngModel",e.searchText),t.xp6(4),t.Q6J("ngForOf",t.xi3(19,2,e.POList,e.searchText))}}let on=(()=>{class r{constructor(e,n,o,i,a,s){this.renderer=n,this.notifService=o,this.toastrService=i,this.apiservice=a,this.breakpointObserver=s,this.Bins=[],this.ScanBarcode="",this.barcodeData="",this.totalScaned=0,this.totalOrder=0,this.searchText="",this.isPutawayLoc=!1,this.targetLocation="",this.ETPHeaderData=[],this.ETPDetailsData=[],this.ETPItemMaster=[],this.PicklistDetails=[],this.ETPDetailsDataBal=[],this.ETPItemData=[],this.ETPReference2="",this.POList=[],this.isMobile=!1,this.ETPPurchaseOrderNum="",this.seriesNumber="",this.showSetting=!1,this.modalService=(0,t.f3M)(P.FF),this.LineHeader={PurchaseOrder:"",PODate:"",TotalQty:0,POTotalQty:0},e.backdrop="static",e.keyboard=!1,this.detectDeviceType()}detectDeviceType(){this.breakpointObserver.observe([v.u3.Handset,v.u3.Tablet]).subscribe(e=>{this.isMobile=e.matches})}handleKeyDown(e){"F12"===e.key||"Enter"===e.key&&0==this.isPutawayLoc?setTimeout(function(){$("#myInput").focus(),this.ScanBarcode=""},1e3):("F12"===e.key||"Enter"===e.key&&1==this.isPutawayLoc)&&setTimeout(function(){$("#myInput2").focus(),this.targetLocation=""},1e3)}trimIfTooLong(e){const n=e.toString();return n.length>12?n.slice(0,-1):n}handleKeyUp(e){if("F12"===e.key||"Enter"===e.key)if(this.ScanBarcode=this.ScanBarcode.length>12?this.ScanBarcode.slice(0,12):this.ScanBarcode,e.preventDefault(),0==this.isPutawayLoc&&""!==this.barcodeData){var n=this.ETPItemMaster.filter(a=>a.UPC==this.barcodeData);if(0!==n.length){var o=this.ETPDetailsData.filter(a=>a.UPC==this.barcodeData);0!==o.length?(o[0].ScannedQty+=1,this.totalScaned=this.ScannedSum(),o[0].timestamper=parseInt((0,_.p6)(new Date,"HHmmss","en-US")),this.ETPDetailsData=this.ETPDetailsData.slice().sort((a,s)=>s.timestamper-a.timestamper)):this.ETPDetailsData.push({ItemImage:n[0].ItemImage,ItemNumber:n[0].ItemNumber,ItemName:n[0].ItemName,BasicUnitMeasure:n[0].BasicUnitMeasure,UPC:n[0].UPC,ScannedQty:1}),this.toastrService.success(this.barcodeData),this.totalScaned=this.ScannedSum(),this.ScanBarcode="",this.barcodeData="",setTimeout(function(){$("#myInput").focus(),this.ScanBarcode=""},1e3)}else this.onPlayError(),this.toastrService.warning(this.barcodeData+" Scanned item not found!"),this.ScanBarcode="",this.barcodeData="",setTimeout(function(){$("#myInput").focus(),this.ScanBarcode=""},1e3)}else 1==this.isPutawayLoc&&(this.targetLocation=this.targetLocation,0!==this.Bins.filter(a=>a.BinName===this.targetLocation).length?(this.onPlayScanned(),this.toastrService.success("Please proceed on pressing putaway button!"),this.isReady=!0):(this.onPlayError(),this.toastrService.error(this.targetLocation+" Invalid bin location!"),setTimeout(function(){$("#myInput2").focus(),this.targetLocation=""},1e3),this.isReady=!1))}onPlayScanned(){let e=new Audio;e.src="../assets/ringtone/barcode_beep_sound.mp3",e.load(),e.play()}onPlayError(){let e=new Audio;e.src="../assets/ringtone/cursor_error.mp3",e.load(),e.play()}editQtyFunc(e){var n;0!==e.ScannedQty&&(this.editableQty=e.ScannedQty,this.editableRow=this.ETPDetailsData.indexOf(e),d().fire({title:e.ItemNumber,input:"number",inputValue:this.editableQty,focusConfirm:!1,showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Update",showLoaderOnConfirm:!0,allowOutsideClick:!1,preConfirm:(n=(0,c.Z)(function*(o){parseInt(o)>parseInt(e.BalanceQuantity)&&d().showValidationMessage("Putaway quantity exceeds open quantity!")}),function(i){return n.apply(this,arguments)})}).then(n=>{n.isConfirmed&&(this.ETPDetailsData[this.editableRow].ScannedQty=parseInt(n.value),this.totalScaned=this.ScannedSum(),setTimeout(function(){$("#itemInput").focus()},1e3)),setTimeout(function(){$("#itemInput").focus()},1e3)}))}onpressentersku(){if(""!==this.ScanBarcode){this.ScanBarcode=this.ScanBarcode.length>12?this.ScanBarcode.slice(0,12):this.ScanBarcode;var e=this.ETPDetailsData.filter(n=>n.UPC===this.ScanBarcode.trim());if(e.length){if(e[0].BalanceQuantity===e[0].ScannedQty)return void this.toastrService.error("Putaway quantity exceeds open quantity!");e[0].ScannedQty+=1,this.totalScaned=this.ScannedSum(),e[0].timestamper=parseInt((0,_.p6)(new Date,"HHmmss","en-US")),this.ETPDetailsData=this.ETPDetailsData.slice().sort((n,o)=>o.timestamper-n.timestamper),this.toastrService.success(this.ScanBarcode+": 1")}else this.toastrService.error("Scanned item not found!");this.ScanBarcode=""}}ngOnInit(){this.LineHeader={PurchaseOrder:"",PODate:"",TotalQty:0,POTotalQty:0},this.isReady=!1,this.isMobile&&this.onLoadData()}onImgError(e){e.ItemImage=localStorage.getItem("Server")+"/img?filename=DefaultImg",e.ImageStatus="None"}openModal(){}closeModal(){this.modalRef.close()}onLoadData(){var e=this;this.totalScaned=0,this.ETPPurchaseOrderNum="",this.ETPDetailsData=[],this.apiservice.busyLoading().then((0,c.Z)(function*(){return yield e.getBin()})).then((0,c.Z)(function*(){return yield e.ProductRSFETP()})).then((0,c.Z)(function*(){return yield e.apiservice.closeBusyLoading()})).catch(n=>this.apiservice.AlertOne("error","Fetching Data","Error while loading the data!"))}ProductRSFETP(){var e=this;return(0,c.Z)(function*(){return new Promise(function(){var n=(0,c.Z)(function*(o,i){yield e.apiservice.getBins("&querytag=ProductRSFETP&value1=&value2=&value3=&value4=").subscribe(function(){var a=(0,c.Z)(function*(s){e.ETPItemMaster=s,o()});return function(s){return a.apply(this,arguments)}}())});return function(o,i){return n.apply(this,arguments)}}())})()}getBin(){var e=this;return(0,c.Z)(function*(){return new Promise(function(){var n=(0,c.Z)(function*(o,i){yield e.apiservice.getBins("&querytag=getAllBin&value1=&value2=&value3=&value4=").subscribe(function(){var a=(0,c.Z)(function*(s){e.Bins=s,o()});return function(s){return a.apply(this,arguments)}}())});return function(o,i){return n.apply(this,arguments)}}())})()}executeQueryheader(e){var n=this;return(0,c.Z)(function*(){return new Promise(function(){var o=(0,c.Z)(function*(i,a){yield n.apiservice.QuerySender("&value1="+e).subscribe(function(){var s=(0,c.Z)(function*(l){n.ETPHeaderData=yield l,i()});return function(l){return s.apply(this,arguments)}}())});return function(i,a){return o.apply(this,arguments)}}())})()}onOpenPODetails(e){var n=this;this.isPutawayLoc=!1,this.ETPPurchaseOrderNum=e.PurchaseOrderNumber,this.apiservice.busyLoading().then((0,c.Z)(function*(){return yield n.onGetPO(e)})).then((0,c.Z)(function*(){return yield n.closeModal()})).then((0,c.Z)(function*(){return yield n.apiservice.closeBusyLoading()})).catch(o=>this.apiservice.AlertOne("error","Fetching Data","Error while loading the data!"))}onGetPO(e){var n=this;return(0,c.Z)(function*(){return new Promise(function(){var o=(0,c.Z)(function*(i,a){yield n.apiservice.getHeader("&querytag=ETPDetailsData&value1="+e.StoreWarehouseCode+"&value2="+e.PurchaseOrderNumber+"&value3=&value4=").subscribe(function(){var s=(0,c.Z)(function*(l){n.ETPDetailsData=l,n.totalOrder=n.OrderSum(),i()});return function(l){return s.apply(this,arguments)}}())});return function(i,a){return o.apply(this,arguments)}}())})()}openModalM(e){0!==this.ETPDetailsData.filter(o=>0!==o.ScannedQty).length?(this.targetLocation="",this.isPutawayLoc=!0,this.ETPReference2=this.ETPPurchaseOrderNum,this.modalRef=this.modalService.open(e,{container:".app"})):(this.isPutawayLoc=!1,this.apiservice.AlertTwo("warning","WARNING","No Scanned item found,Please scan item first!"))}ScannedSum(){return this.ETPDetailsData.reduce((e,n)=>e+n.ScannedQty,0)}SumETPScanned(){return this.PicklistDetails.reduce((e,n)=>e+n.ReceivedQuantity,0)}SumETPTotalPO(){return this.PicklistDetails.reduce((e,n)=>e+n.OrderQuantity,0)}OrderSum(){return this.ETPDetailsData.reduce((e,n)=>e+n.BalanceQuantity,0)}Putaway(){var e=this,n=this.Bins.filter(o=>o.BinName===this.targetLocation);this.isReady=0!==n.length,!0===this.isReady?this.apiservice.busyLoading().then((0,c.Z)(function*(){return yield e.GetSeriesNumber()})).then((0,c.Z)(function*(){return yield e.insertInventoty()})).catch(o=>console.log("error","Inserting Data","Error while loading the data!")):this.toastrService.error("Please scan bin location!")}insertInventoty(){var e=this;return new Promise(function(){var n=(0,c.Z)(function*(o,i){var a=e.ETPDetailsData.filter(s=>0!==s.ScannedQty).sort((s,l)=>s.LineNumber-l.LineNumber);e.isPutawayLoc=!1,e.modalRef.close();for(let s=0;s<a.length;s++)yield Promise.all([e.InsertTransaction(a[s].ItemNumber,a[s].ScannedQty,a[s].StockLedgerTrnID,a[s].RefNumber,e.ETPPurchaseOrderNum,"Inbound Putaway",e.targetLocation)]);yield e.DoneInsert(),o()});return function(o,i){return n.apply(this,arguments)}}())}InsertTransaction(e,n,o,i,a,s,l){return new Promise(g=>setTimeout(()=>{this.apiservice.modDataOnly("&querytag=InsertTransaction2&value1="+this.seriesNumber+"&value2="+s+"&value3="+e+"&value4="+n+"&value5=0&value6=0&value7="+a+"&value8="+l+"&value9="+localStorage.getItem("User")+"&value10=&value11=&value12=&value13=&value14=&value15=").subscribe(m=>{g()})},200))}GetSeriesNumber(){var e=this;return new Promise(function(){var n=(0,c.Z)(function*(o,i){e.apiservice.getDataMethod("&querytag=getSeries&value1=0&value2=&value3=&value4=").subscribe(function(){var a=(0,c.Z)(function*(s){e.seriesNumber="TRN"+e.apiservice.onNumberSeries(s[0].NumberUsed+=1,9),o()});return function(s){return a.apply(this,arguments)}}())});return function(o,i){return n.apply(this,arguments)}}())}DoneInsert(){var e=this;return new Promise(function(){var n=(0,c.Z)(function*(o,i){e.ScanBarcode="",e.isReady=!1,e.totalScaned=0,e.SuccessAlert("success","SUCCESS","Putaway successfuly done!"),o()});return function(o,i){return n.apply(this,arguments)}}())}formatDate(e){return`${e.getFullYear()}${this.padZero(e.getMonth()+1)}${this.padZero(e.getDate())}`}padZero(e){return e<10?`0${e}`:`${e}`}SuccessAlert(e,n,o){d().fire({position:"center",icon:e,title:n,text:o,allowOutsideClick:!0,showConfirmButton:!1,timer:2500,willClose:()=>{this.onLoadData()}})}onShowFind(e){var n=this;this.apiservice.busyLoading().then((0,c.Z)(function*(){return yield n.getPullOutHead()})).then((0,c.Z)(function*(){return yield n.onOpenModalPO(e)})).then((0,c.Z)(function*(){return yield n.apiservice.closeBusyLoading()})).catch(o=>this.apiservice.AlertOne("error","Fetching Data","Error while loading the data!"))}onOpenModalPO(e){var n=this;return(0,c.Z)(function*(){return new Promise(function(){var o=(0,c.Z)(function*(i,a){n.modalRef=n.modalService.open(e,{container:".app"}),i()});return function(i,a){return o.apply(this,arguments)}}())})()}getPullOutHead(){var e=this;return(0,c.Z)(function*(){return new Promise(function(){var n=(0,c.Z)(function*(o,i){yield e.apiservice.getDataMethod("&querytag=POHeadReceived&value1=&value2=&value3=&value4=").subscribe(function(){var a=(0,c.Z)(function*(s){e.POList=s,console.log(s),o()});return function(s){return a.apply(this,arguments)}}())});return function(o,i){return n.apply(this,arguments)}}())})()}onSelectDO(e){var n=this;this.modalRef.close(),this.apiservice.busyLoading().then((0,c.Z)(function*(){return yield n.onPutHeaderData(e)})).then((0,c.Z)(function*(){return yield n.ReceivedOrderLineGet()})).then((0,c.Z)(function*(){return yield n.apiservice.closeBusyLoading()})).catch(o=>this.apiservice.AlertOne("error","Fetching Data","Error while loading the data!"))}onPutHeaderData(e){var n=this;return new Promise(function(){var o=(0,c.Z)(function*(i,a){n.LineHeader={PurchaseOrder:e.PurchaseOrder,PODate:e.PODate,TotalQty:0,POTotalQty:0},i()});return function(i,a){return o.apply(this,arguments)}}())}ReceivedOrderLineGet(){var e=this;return(0,c.Z)(function*(){return new Promise(function(){var n=(0,c.Z)(function*(o,i){yield e.apiservice.getDataMethod("&querytag=POLineReceived&value1="+e.LineHeader.PurchaseOrder+"&value2=&value3=&value4=").subscribe(function(){var a=(0,c.Z)(function*(s){e.PicklistDetails=s,e.LineHeader.TotalQty=e.SumETPScanned(),e.LineHeader.POTotalQty=e.SumETPTotalPO(),o()});return function(s){return a.apply(this,arguments)}}())});return function(o,i){return n.apply(this,arguments)}}())})()}static#t=this.\u0275fac=function(n){return new(n||r)(t.Y36(P.NM),t.Y36(t.Qsj),t.Y36(Z.j),t.Y36(O._W),t.Y36(He),t.Y36(v.Yg))};static#e=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-goodsreceipt"]],viewQuery:function(n,o){if(1&n&&t.Gf(Fe,5),2&n){let i;t.iGM(i=t.CRH())&&(o.myInput=i.first)}},hostBindings:function(n,o){1&n&&t.NdJ("keydown",function(a){return o.handleKeyDown(a)},!1,t.Jf7)("keyup",function(a){return o.handleKeyUp(a)},!1,t.Jf7)},decls:11,vars:3,consts:[["class","row",4,"ngIf"],["class","col-lg-3 mt-0 col-md-5",4,"ngIf"],["PODetailsViewDetails",""],["PODetailsBalance",""],["PutawayStocks",""],["class","settings4",3,"ngClass",4,"ngIf"],["POListView",""],[1,"row"],[1,"card-body"],[1,"d-flex","justify-content-center","align-items-center","w-100","h-100","error-container"],[1,"col-10"],[1,"card","border-0","box-shadow","rounded-0"],[1,"card-header","d-flex","justify-content-center","align-items-center","border-0","box-shadow"],["aria-hidden","true",1,"fa","fa-exclamation-circle"],[1,"card-body","text-center"],[1,"display-1"],[1,"card-title"],[1,"card-text"],["method","get"],[1,"form-group"],[1,"col-lg-3","mt-0","col-md-5"],[1,"input-group","mb-3","box-shadow"],[1,"input-group-prepend"],[1,"input-group-text","border-top-0","border-left-0","border-bottom-0"],[1,"fa","fa-qrcode"],["type","text","id","myInput","placeholder","Enter barcode here...",1,"form-control","border-0",3,"ngModel","keyup.enter","ngModelChange"],[1,"badge","badge"],["pointerEventsMethod","scrollbar",2,"height","450px"],["class","col-xl-4 col-lg-6 mb-4",4,"ngFor","ngForOf"],[1,"col-xl-4","col-lg-6","mb-4"],[1,"flip",3,"click"],[1,"content"],[1,"front"],[1,"card-header","border-0","rounded-0","text-muted"],[1,"mb-0"],[1,"media"],[1,"media-body","ml-4"],[1,"col-0","text-gray","text-left","pr-0","text-truncate"],[1,"col-10","pl-2","text-left","text-truncate"],[1,"col-4","text-gray","text-left","pr-0","text-truncate"],[1,"col-6","pl-2","text-left","text-truncate"],[1,"d-flex","flex-column","justify-content-center"],["width","70",1,"rounded",3,"src","error"],[1,"card-header","transparent","border-0","text-muted"],[1,"widget-controls","mr-2","mt-1"],["data-widgster","close",1,"transition",3,"click"],[1,"fa","fa-times"],[1,"modal-body"],[1,"col"],[1,"fa","fa-search"],["type","text","placeholder","Search...",1,"form-control","border-0",3,"ngModel","ngModelChange"],[1,"col-12"],[1,"table-responsive","bg-white","box-shadow"],[1,"table","table-hover"],[4,"ngFor","ngForOf"],[1,"bg-white","text-center"],[3,"autoHide","maxSize","pageChange"],[1,"align-middle"],[1,"align-middle","text-truncate"],[1,"btn","btn-success","mr-1",3,"click"],[1,"fa","fa-file-o"],[1,"btn","btn-rounded","btn-danger","mr-1"],[1,"fa","fa-trash"],[1,"modal-header-own"],["id","modal-basic-title",1,"modal-title",2,"color","black","margin-top","18px","margin-left","16px"],[1,"container","mb-3","mt-3"],["id","myInput2","autocomplete","off","type","text","placeholder","Scan bin barcode here...",1,"form-control","border-0",3,"ngModel","ngModelChange"],[1,"input-group-append"],[1,"input-group-text","border-top-0","border-right-0","border-bottom-0"],[1,"fa","fa-reorder"],[1,"button-container"],["type","button",1,"btn","btn-success","mr-1",3,"click"],["type","button",1,"btn","btn-danger","mr-1",3,"click"],[1,"settings4",3,"ngClass"],[1,"btn","btn-success","btn-rounded",3,"click"],[1,"fa","fa-cart-arrow-down"],[1,"widget-controls"],[1,"bg-white","box-shadow","mt-4","mr-1","ml-1"],["type","text","placeholder","Search...",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","btn-outline-info","w-100p","mb-1","mr-1",3,"click"]],template:function(n,o){1&n&&t.YNc(0,Ge,20,0,"div",0)(1,Ke,13,3,"div",1)(2,Ye,25,12,"ng-template",null,2,t.W1O)(4,ze,23,1,"ng-template",null,3,t.W1O)(6,Ve,15,1,"ng-template",null,4,t.W1O)(8,tn,4,3,"div",5)(9,nn,20,5,"ng-template",null,6,t.W1O),2&n&&(t.Q6J("ngIf",!o.isMobile),t.xp6(1),t.Q6J("ngIf",o.isMobile),t.xp6(7),t.Q6J("ngIf",o.isMobile))},dependencies:[_.mk,_.sg,_.O5,T.KC,p._Y,p.Fj,p.JJ,p.JL,p.On,p.F,x.LS,w.a,I.q,x._s],styles:[".flip[_ngcontent-%COMP%]{width:100%;height:180px;position:relative;-o-perspective:800px;perspective:800px}.flip[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;transition:transform .6s;transform-style:preserve-3d}.flip[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   div.front[_ngcontent-%COMP%], .flip[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   div.back[_ngcontent-%COMP%]{height:100%;width:100%;position:absolute;z-index:0;backface-visibility:hidden}.flip[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   div.front[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%], .flip[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   div.back[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{height:180px}.flip[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   div.back[_ngcontent-%COMP%]{z-index:1;transform:rotateY(180deg)}.flip[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   div.back[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]{width:100%}.flip[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   div.back[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{width:100%;margin-top:-1px}.flip[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   div.back[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#666}.flip[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   div.back[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .fa-check[_ngcontent-%COMP%]{color:#378d3b}.flip[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   div.back[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .fa-times[_ngcontent-%COMP%]{color:#d22e2e}.flip[_ngcontent-%COMP%]   .content.flipped[_ngcontent-%COMP%]{transform:rotateY(180deg)}.z-index-1[_ngcontent-%COMP%]{z-index:1}.app.dark[_ngcontent-%COMP%]   .bg-light[_ngcontent-%COMP%]{background-color:#fff!important}.app.combined[_ngcontent-%COMP%]   .bg-gray[_ngcontent-%COMP%]{background-color:#bcbfc5!important}.modal-body[_ngcontent-%COMP%]{position:relative;flex:1 1 auto;padding:.5rem}.modal-title[_ngcontent-%COMP%]{margin-bottom:0;line-height:.5;color:#fff}.all-caps-input[_ngcontent-%COMP%]{text-transform:uppercase}.container[_ngcontent-%COMP%]{position:relative}.button-container[_ngcontent-%COMP%]{top:10px;margin:10px}.mb-4[_ngcontent-%COMP%], .my-4[_ngcontent-%COMP%]{margin-bottom:.2rem!important}.app.light[_ngcontent-%COMP%]   .widget-controls[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#a6a6a6}.card-footer[_ngcontent-%COMP%]{padding:.1rem 0rem;background-color:#fff;border-top:0px #fff}.col-xl[_ngcontent-%COMP%], .col-xl-auto[_ngcontent-%COMP%], .col-xl-12[_ngcontent-%COMP%], .col-xl-11[_ngcontent-%COMP%], .col-xl-10[_ngcontent-%COMP%], .col-xl-9[_ngcontent-%COMP%], .col-xl-8[_ngcontent-%COMP%], .col-xl-7[_ngcontent-%COMP%], .col-xl-6[_ngcontent-%COMP%], .col-xl-5[_ngcontent-%COMP%], .col-xl-4[_ngcontent-%COMP%], .col-xl-3[_ngcontent-%COMP%], .col-xl-2[_ngcontent-%COMP%], .col-xl-1[_ngcontent-%COMP%], .col-lg[_ngcontent-%COMP%], .col-lg-auto[_ngcontent-%COMP%], .col-lg-12[_ngcontent-%COMP%], .col-lg-11[_ngcontent-%COMP%], .col-lg-10[_ngcontent-%COMP%], .col-lg-9[_ngcontent-%COMP%], .col-lg-8[_ngcontent-%COMP%], .col-lg-7[_ngcontent-%COMP%], .col-lg-6[_ngcontent-%COMP%], .col-lg-5[_ngcontent-%COMP%], .col-lg-4[_ngcontent-%COMP%], .col-lg-3[_ngcontent-%COMP%], .col-lg-2[_ngcontent-%COMP%], .col-lg-1[_ngcontent-%COMP%], .col-md[_ngcontent-%COMP%], .col-md-auto[_ngcontent-%COMP%], .col-md-12[_ngcontent-%COMP%], .col-md-11[_ngcontent-%COMP%], .col-md-10[_ngcontent-%COMP%], .col-md-9[_ngcontent-%COMP%], .col-md-8[_ngcontent-%COMP%], .col-md-7[_ngcontent-%COMP%], .col-md-6[_ngcontent-%COMP%], .col-md-5[_ngcontent-%COMP%], .col-md-4[_ngcontent-%COMP%], .col-md-3[_ngcontent-%COMP%], .col-md-2[_ngcontent-%COMP%], .col-md-1[_ngcontent-%COMP%], .col-sm[_ngcontent-%COMP%], .col-sm-auto[_ngcontent-%COMP%], .col-sm-12[_ngcontent-%COMP%], .col-sm-11[_ngcontent-%COMP%], .col-sm-10[_ngcontent-%COMP%], .col-sm-9[_ngcontent-%COMP%], .col-sm-8[_ngcontent-%COMP%], .col-sm-7[_ngcontent-%COMP%], .col-sm-6[_ngcontent-%COMP%], .col-sm-5[_ngcontent-%COMP%], .col-sm-4[_ngcontent-%COMP%], .col-sm-3[_ngcontent-%COMP%], .col-sm-2[_ngcontent-%COMP%], .col-sm-1[_ngcontent-%COMP%], .col[_ngcontent-%COMP%], .col-auto[_ngcontent-%COMP%], .col-12[_ngcontent-%COMP%], .col-11[_ngcontent-%COMP%], .col-10[_ngcontent-%COMP%], .col-9[_ngcontent-%COMP%], .col-8[_ngcontent-%COMP%], .col-7[_ngcontent-%COMP%], .col-6[_ngcontent-%COMP%], .col-5[_ngcontent-%COMP%], .col-4[_ngcontent-%COMP%], .col-3[_ngcontent-%COMP%], .col-2[_ngcontent-%COMP%], .col-1[_ngcontent-%COMP%]{position:relative;width:100%;padding-right:9px;padding-left:8px}.floating-button[_ngcontent-%COMP%]{position:fixed;bottom:29px;right:190px;z-index:1000}.floatingbtn[_ngcontent-%COMP%]{color:#fff;background-color:#000000bf!important;opacity:.5}.settings2[_ngcontent-%COMP%]{position:fixed;top:80px;right:-300px;z-index:1018;width:340px;transition:all .2s}.settings2.show[_ngcontent-%COMP%]{right:-1px}.settings2[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{position:absolute;left:-310px;padding:7px 12px 7px 10px;z-index:99;color:#efe5e5;bottom:-32rem!important;cursor:pointer}.settings2[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:focus{box-shadow:none}.settings4[_ngcontent-%COMP%]{position:fixed;top:80px;right:-275px;z-index:1018;width:340px;transition:all .2s}.settings4.show[_ngcontent-%COMP%]{right:-1px}.settings4[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{position:absolute;left:-100px;padding:7px 12px 7px 10px;z-index:99;color:#efe5e5;bottom:-32rem!important;cursor:pointer}.settings4[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:focus{box-shadow:none}"]})}return r})(),rn=(()=>{class r{constructor(e){this.http=e}getHeader(e){return this.http.get(localStorage.getItem("Server")+"/GetDataQuery?dbName=GTI_WMS_DB"+e)}getBinType(e){return this.http.get(localStorage.getItem("Server")+"/GetDataQuery?dbName=GTI_WMS_DB"+e)}getBins(e){return this.http.get(localStorage.getItem("Server")+"/GetDataQuery?dbName=GTI_WMS_DB"+e)}addInventory(e){return this.http.get(localStorage.getItem("Server")+"/DataInQuery?dbName=GTI_WMS_DB"+e)}getDataPortal(e){return this.http.get(localStorage.getItem("Server3")+"/"+e)}modDataOnly(e){return this.http.get(localStorage.getItem("Server")+"/DataInQuery?dbName=GTI_WMS_DB"+e)}getDataMethod(e){return this.http.get(localStorage.getItem("Server")+"/GetDataQuery?dbName=GTI_WMS_DB"+e)}AlertOne(e,n,o){d().fire({icon:e,title:n,text:o,allowOutsideClick:!1})}busyLoading(){return new Promise((e,n)=>{d().fire({title:"Please wait",html:"loading..",timerProgressBar:!0,allowOutsideClick:!1,didOpen:()=>{d().showLoading(),e()}})})}AlertTwo(e,n,o){d().fire({position:"center",icon:e,title:n,text:o,allowOutsideClick:!0,showConfirmButton:!1,timer:2500})}closeBusyLoading(){d().close()}onNumberSeries(e,n){var o=n-e.toString().length+1;return Array(+(o>0&&o)).join("0")+e}QuerySender(e){return this.http.get(localStorage.getItem("Server")+"/SQLCommandQuery?dbName=GTI_WMS_DB"+e)}postDataGTI(e,n){const o=new b.WM({"Content-Type":"application/json"});return this.http.post(localStorage.getItem("Server")+"/"+n,e,{headers:o})}static#t=this.\u0275fac=function(n){return new(n||r)(t.LFG(b.eN))};static#e=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function an(r,u){1&r&&(t.TgZ(0,"div",8),t._UZ(1,"div",9),t.TgZ(2,"div",10)(3,"div",11)(4,"div",12)(5,"div",13),t._UZ(6,"i",14),t.qZA(),t.TgZ(7,"div",15)(8,"h1",16),t._uU(9,"404"),t.qZA(),t.TgZ(10,"h6",17),t._uU(11,"This function not allowed in your current device"),t.qZA(),t.TgZ(12,"p",18),t._uU(13,"Please use mobile device only"),t.qZA(),t.TgZ(14,"p",18),t._uU(15,"GTI WMS"),t.qZA(),t.TgZ(16,"p",18),t._uU(17,"SC-IT"),t.qZA(),t.TgZ(18,"form",19),t._UZ(19,"div",20),t.qZA()()()()()())}function cn(r,u){if(1&r){const e=t.EpF();t.TgZ(0,"button",45),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit,i=t.oxw(2);return t.KtG(i.editQtyFunc(o))}),t._UZ(1,"i",46),t.qZA()}}function sn(r,u){if(1&r){const e=t.EpF();t.TgZ(0,"div",30)(1,"div",31),t.NdJ("click",function(){const i=t.CHM(e).$implicit,a=t.oxw(2);return t.KtG(a.onpressitem(i))}),t.TgZ(2,"div",32)(3,"div",33)(4,"div",12)(5,"div",34)(6,"h6",35),t._uU(7),t.qZA()(),t.TgZ(8,"div",9)(9,"div",36)(10,"div",37)(11,"div",8),t._UZ(12,"div",38)(13,"div",38),t.TgZ(14,"div",39)(15,"h5",35),t._uU(16),t.qZA()(),t._UZ(17,"div",38)(18,"div",38),t.TgZ(19,"div",39),t._uU(20),t.qZA(),t.TgZ(21,"div",40),t._uU(22,"Quantity"),t.qZA(),t.TgZ(23,"div",38),t._uU(24,":"),t.qZA(),t.TgZ(25,"div",41),t._uU(26),t.qZA(),t.YNc(27,cn,2,0,"button",42),t.qZA()(),t.TgZ(28,"div",43)(29,"img",44),t.NdJ("error",function(){const i=t.CHM(e).$implicit,a=t.oxw(2);return t.KtG(a.onImgError(i))}),t.qZA()()()()()()()()()}if(2&r){const e=u.$implicit;t.xp6(7),t.hij(" ",e.ItemName," "),t.xp6(9),t.Oqu(e.ItemNumber),t.xp6(4),t.Oqu(e.UPC),t.xp6(6),t.Oqu(e.ScannedQty),t.xp6(1),t.Q6J("ngIf",0!=e.ScannedQty),t.xp6(2),t.Q6J("src",e.ImageUrl,t.LSH)}}function ln(r,u){if(1&r){const e=t.EpF();t.TgZ(0,"div",21)(1,"div",22)(2,"div",23)(3,"span",24),t._UZ(4,"i",25),t.qZA()(),t.TgZ(5,"input",26),t.NdJ("ngModelChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.ScanBarcode=o)}),t.qZA()(),t.TgZ(6,"span",27),t._uU(7,"Total Scanned: "),t.qZA(),t.TgZ(8,"span",27),t._uU(9),t.qZA(),t.TgZ(10,"ng-scrollbar",28),t.YNc(11,sn,30,6,"div",29),t.qZA()()}if(2&r){const e=t.oxw();t.xp6(5),t.Q6J("ngModel",e.ScanBarcode),t.xp6(4),t.Oqu(e.totalScaned),t.xp6(2),t.Q6J("ngForOf",e.ETPDetailsData)}}function un(r,u){if(1&r){const e=t.EpF();t.TgZ(0,"tr"),t._UZ(1,"td",62),t.TgZ(2,"td",63),t._uU(3),t.qZA(),t.TgZ(4,"td",63),t._uU(5),t.qZA(),t.TgZ(6,"td",63)(7,"button",64),t.NdJ("click",function(){const i=t.CHM(e).$implicit,a=t.oxw(2);return t.KtG(a.onOpenPODetails(i))}),t._UZ(8,"i",65),t._uU(9,"\xa0\xa0Open"),t.qZA()()()}if(2&r){const e=u.$implicit;t.xp6(3),t.Oqu(e.PurchaseOrderNumber),t.xp6(2),t.Oqu(e.StoreWarehouseCode)}}const Q=r=>({itemsPerPage:20,currentPage:r});function dn(r,u){if(1&r){const e=t.EpF();t.TgZ(0,"div",47)(1,"h5",35),t._uU(2,"Purchase Order List"),t.qZA(),t.TgZ(3,"div",48)(4,"a",49),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._UZ(5,"i",50),t.qZA()()(),t.TgZ(6,"div",51)(7,"div",52)(8,"div",22)(9,"div",23)(10,"span",24),t._UZ(11,"i",53),t.qZA()(),t.TgZ(12,"input",54),t.NdJ("ngModelChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.searchText=o)}),t.qZA()()(),t.TgZ(13,"div",55)(14,"div",56)(15,"ng-scrollbar",57)(16,"table",58)(17,"tbody"),t.YNc(18,un,10,2,"tr",59),t.ALo(19,"paginate"),t.ALo(20,"ETPPOSearchPipe"),t.qZA()()()()()(),t.TgZ(21,"div",8)(22,"div",55)(23,"div",60)(24,"pagination-controls",61),t.NdJ("pageChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.p=o)}),t.qZA()()()()}if(2&r){const e=t.oxw();t.xp6(12),t.Q6J("ngModel",e.searchText),t.xp6(6),t.Q6J("ngForOf",t.xi3(19,4,t.xi3(20,7,e.ETPHeaderData,e.searchText),t.VKq(10,Q,e.p))),t.xp6(6),t.Q6J("autoHide",!0)("maxSize",5)}}function gn(r,u){if(1&r&&(t.TgZ(0,"tr")(1,"td",62)(2,"button",66),t._UZ(3,"i",67),t.qZA()(),t.TgZ(4,"td",63),t._uU(5),t.qZA(),t.TgZ(6,"td",63),t._uU(7),t.qZA(),t.TgZ(8,"td",63),t._uU(9),t.qZA(),t._UZ(10,"td",63),t.qZA()),2&r){const e=u.$implicit;t.xp6(5),t.Oqu(e.ItemNumber),t.xp6(2),t.Oqu(e.BalanceQuantity),t.xp6(2),t.Oqu(e.ScannedQty)}}function _n(r,u){if(1&r&&(t.TgZ(0,"div",47)(1,"h5",35),t._uU(2,"Discrepancy List"),t.qZA(),t._UZ(3,"div",48),t.qZA(),t.TgZ(4,"div",51)(5,"div",55)(6,"div",56)(7,"ng-scrollbar",57)(8,"table",58)(9,"thead")(10,"tr"),t._UZ(11,"th"),t.TgZ(12,"th"),t._uU(13,"Item Number"),t.qZA(),t.TgZ(14,"th"),t._uU(15,"Request Quantity"),t.qZA(),t.TgZ(16,"th"),t._uU(17,"Balance Quantity"),t.qZA(),t.TgZ(18,"th"),t._uU(19,"Scanned Quantity"),t.qZA(),t._UZ(20,"th"),t.qZA()(),t.TgZ(21,"tbody"),t.YNc(22,gn,11,3,"tr",59),t.qZA()()()()()()),2&r){const e=t.oxw();t.xp6(22),t.Q6J("ngForOf",e.ETPDetailsDataBal)}}function pn(r,u){if(1&r){const e=t.EpF();t.TgZ(0,"div",68)(1,"h3",69),t._uU(2,"SCAN BIN LOCATION"),t.qZA()(),t.TgZ(3,"div",51)(4,"div",70)(5,"div",22)(6,"input",71),t.NdJ("ngModelChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.targetLocation=o)}),t.qZA(),t.TgZ(7,"div",72)(8,"span",73),t._UZ(9,"i",74),t.qZA()()(),t.TgZ(10,"div",75)(11,"button",76),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.Putaway())}),t._uU(12,"Putaway"),t.qZA(),t.TgZ(13,"button",77),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._uU(14,"Cancel"),t.qZA()()()()}if(2&r){const e=t.oxw();t.xp6(6),t.Q6J("ngModel",e.targetLocation)}}const mn=r=>({show:r});function hn(r,u){if(1&r){const e=t.EpF();t.TgZ(0,"div",78)(1,"button",79),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(),i=t.MAs(7);return t.KtG(o.openModalM(i))}),t._uU(2,"Putaway\xa0\xa0"),t._UZ(3,"i",80),t.qZA()()}if(2&r){const e=t.oxw();t.Q6J("ngClass",t.VKq(1,mn,e.showSetting))}}function fn(r,u){if(1&r){const e=t.EpF();t.TgZ(0,"tr")(1,"td")(2,"button",84),t.NdJ("click",function(){const i=t.CHM(e).$implicit,a=t.oxw(2);return t.KtG(a.onSelectDO(i))}),t._uU(3,"Select"),t.qZA()(),t.TgZ(4,"td"),t._uU(5),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.qZA(),t._UZ(8,"td"),t.qZA()}if(2&r){const e=u.$implicit;t.xp6(5),t.Oqu(e.PurchaseOrder),t.xp6(2),t.Oqu(e.PODate)}}function vn(r,u){if(1&r){const e=t.EpF();t.TgZ(0,"div",68)(1,"h5",69),t._uU(2,"Received Purchase Order"),t.qZA(),t.TgZ(3,"div",47)(4,"div",81)(5,"a",49),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.modalRef.close())}),t._UZ(6,"i",50),t.qZA()(),t.TgZ(7,"div",82)(8,"div",8)(9,"div",52)(10,"div",22)(11,"div",23)(12,"span",24),t._UZ(13,"i",53),t.qZA()(),t.TgZ(14,"input",83),t.NdJ("ngModelChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.searchText=o)}),t.qZA()()()(),t.TgZ(15,"ng-scrollbar",57)(16,"table",58)(17,"tbody"),t.YNc(18,fn,9,2,"tr",59),t.ALo(19,"ETPPORSearchPipe"),t.qZA()()()()()()}if(2&r){const e=t.oxw();t.xp6(14),t.Q6J("ngModel",e.searchText),t.xp6(4),t.Q6J("ngForOf",t.xi3(19,2,e.POList,e.searchText))}}function Pn(r,u){if(1&r){const e=t.EpF();t.TgZ(0,"tr"),t._UZ(1,"td",62),t.TgZ(2,"td",63),t._uU(3),t.qZA(),t.TgZ(4,"td",63),t._uU(5),t.qZA(),t.TgZ(6,"td",63)(7,"button",64),t.NdJ("click",function(){const i=t.CHM(e).$implicit,a=t.oxw(2);return t.KtG(a.onOpenPODetails(i))}),t._UZ(8,"i",65),t._uU(9,"\xa0\xa0Open"),t.qZA()()()}if(2&r){const e=u.$implicit;t.xp6(3),t.Oqu(e.Replenid),t.xp6(2),t.Oqu(e.BalanceQty)}}function Cn(r,u){if(1&r){const e=t.EpF();t.TgZ(0,"div",47)(1,"h5",35),t._uU(2,"Stock in list"),t.qZA(),t.TgZ(3,"div",48)(4,"a",49),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._UZ(5,"i",50),t.qZA()()(),t.TgZ(6,"div",51)(7,"div",52)(8,"div",22)(9,"div",23)(10,"span",24),t._UZ(11,"i",53),t.qZA()(),t.TgZ(12,"input",54),t.NdJ("ngModelChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.searchText=o)}),t.qZA()()(),t.TgZ(13,"div",55)(14,"div",56)(15,"ng-scrollbar",57)(16,"table",58)(17,"tbody"),t.YNc(18,Pn,10,2,"tr",59),t.ALo(19,"paginate"),t.ALo(20,"ETPROSearchPipe"),t.qZA()()()()()(),t.TgZ(21,"div",8)(22,"div",55)(23,"div",60)(24,"pagination-controls",61),t.NdJ("pageChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.p=o)}),t.qZA()()()()}if(2&r){const e=t.oxw();t.xp6(12),t.Q6J("ngModel",e.searchText),t.xp6(6),t.Q6J("ngForOf",t.xi3(19,4,t.xi3(20,7,e.ETPHeaderData,e.searchText),t.VKq(10,Q,e.p))),t.xp6(6),t.Q6J("autoHide",!0)("maxSize",5)}}let xn=(()=>{class r{constructor(e,n,o,i,a,s){this.renderer=n,this.notifService=o,this.toastrService=i,this.apiservice=a,this.breakpointObserver=s,this.Bins=[],this.ScanBarcode="",this.barcodeData="",this.totalScaned=0,this.totalOrder=0,this.ETPItemMaster=[],this.searchText="",this.isPutawayLoc=!1,this.targetLocation="",this.ETPHeaderData=[],this.ETPDetailsData=[],this.PicklistDetails=[],this.ETPDetailsDataBal=[],this.ETPItemData=[],this.ETPReference2="",this.POList=[],this.isMobile=!1,this.ETPPurchaseOrderNum="",this.seriesNumber="",this.showSetting=!1,this.modalService=(0,t.f3M)(P.FF),this.ProductRSF=[],this.LineHeader={PurchaseOrder:"",PODate:"",TotalQty:0,POTotalQty:0},e.backdrop="static",e.keyboard=!1,this.detectDeviceType()}detectDeviceType(){this.breakpointObserver.observe([v.u3.Handset,v.u3.Tablet]).subscribe(e=>{this.isMobile=e.matches})}openModal(e){this.isMobile&&(this.modalRef=this.modalService.open(e,{scrollable:!0}))}closeModal(){this.modalRef.close()}handleKeyDown(e){"F12"===e.key||"Enter"===e.key&&0==this.isPutawayLoc?setTimeout(function(){$("#myInput").focus(),this.ScanBarcode=""},1e3):("F12"===e.key||"Enter"===e.key&&1==this.isPutawayLoc)&&setTimeout(function(){$("#myInput2").focus(),this.targetLocation=""},1e3)}handleKeyUp(e){if("F12"===e.key||"Enter"===e.key)if(this.barcodeData=this.ScanBarcode,e.preventDefault(),0==this.isPutawayLoc&&""!==this.barcodeData){var n=this.ETPItemMaster.filter(a=>a.UPC==this.barcodeData);if(0!==n.length){var o=this.ETPDetailsData.filter(a=>a.UPC==this.barcodeData);0!==o.length?(o[0].ScannedQty+=1,this.totalScaned=this.ScannedSum(),o[0].timestamper=parseInt((0,_.p6)(new Date,"HHmmss","en-US")),this.ETPDetailsData=this.ETPDetailsData.slice().sort((a,s)=>s.timestamper-a.timestamper)):this.ETPDetailsData.push({ImageUrl:n[0].ImageUrl,ItemNumber:n[0].ItemNumber,ItemName:n[0].ItemName,UOM:n[0].UOM,UPC:n[0].UPC,ScannedQty:1}),this.toastrService.success(this.barcodeData),this.totalScaned=this.ScannedSum(),this.ScanBarcode="",this.barcodeData="",setTimeout(function(){$("#myInput").focus(),this.ScanBarcode=""},1e3)}else this.onPlayError(),this.toastrService.warning(this.barcodeData+" Scanned item not found!"),this.ScanBarcode="",this.barcodeData="",setTimeout(function(){$("#myInput").focus(),this.ScanBarcode=""},1e3)}else 1==this.isPutawayLoc&&(this.targetLocation=this.targetLocation,0!==this.Bins.filter(a=>a.BinName===this.targetLocation).length?(this.onPlayScanned(),this.toastrService.success("Please proceed on pressing putaway button!"),this.isReady=!0):(this.onPlayError(),this.toastrService.error(this.targetLocation+" Invalid bin location!"),setTimeout(function(){$("#myInput2").focus(),this.targetLocation=""},1e3),this.isReady=!1))}onPlayScanned(){let e=new Audio;e.src="../assets/ringtone/barcode_beep_sound.mp3",e.load(),e.play()}onPlayError(){let e=new Audio;e.src="../assets/ringtone/cursor_error.mp3",e.load(),e.play()}onpressitem(e){"Admin"==localStorage.getItem("UserType")&&(e.ScannedQty=parseInt(e.ScannedQty)+1,this.totalScaned=this.ScannedSum())}editQtyFunc(e){var n;0!==e.ScannedQty&&(this.editableQty=e.ScannedQty,this.editableRow=this.ETPDetailsData.indexOf(e),d().fire({title:e.ItemNumber,input:"number",inputValue:this.editableQty,focusConfirm:!1,showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Update",showLoaderOnConfirm:!0,allowOutsideClick:!1,preConfirm:(n=(0,c.Z)(function*(o){parseInt(o)>parseInt(e.BalanceQuantity)&&d().showValidationMessage("Putaway quantity exceeds open quantity!")}),function(i){return n.apply(this,arguments)})}).then(n=>{n.isConfirmed&&(this.ETPDetailsData[this.editableRow].ScannedQty=parseInt(n.value),this.totalScaned=this.ScannedSum(),setTimeout(function(){$("#itemInput").focus()},1e3)),setTimeout(function(){$("#itemInput").focus()},1e3)}))}onpressentersku(){if(""!==this.ScanBarcode){var e=this.ETPDetailsData.filter(n=>n.UPC===this.ScanBarcode.trim());if(e.length){if(e[0].BalanceQuantity===e[0].ScannedQty)return void this.toastrService.error("Putaway quantity exceeds open quantity!");e[0].ScannedQty+=1,this.totalScaned=this.ScannedSum(),e[0].timestamper=parseInt((0,_.p6)(new Date,"HHmmss","en-US")),this.ETPDetailsData=this.ETPDetailsData.slice().sort((n,o)=>o.timestamper-n.timestamper),this.toastrService.success(this.ScanBarcode+": 1")}else this.toastrService.error("Scanned item not found!");this.ScanBarcode=""}}ngOnInit(){var e=this;return(0,c.Z)(function*(){e.LineHeader={PurchaseOrder:"",PODate:"",TotalQty:0,POTotalQty:0},e.isReady=!1,e.isMobile&&(yield e.ProductRSFETP(),e.onLoadData())})()}onLoadData(){var e=this;this.totalScaned=0,this.ETPPurchaseOrderNum="",this.ETPDetailsData=[],this.apiservice.busyLoading().then((0,c.Z)(function*(){return yield e.getBin()})).then((0,c.Z)(function*(){return yield e.apiservice.closeBusyLoading()})).catch(n=>this.apiservice.AlertOne("error","Fetching Data","Error while loading the data!"))}ProductRSFETP(){var e=this;return(0,c.Z)(function*(){return new Promise(function(){var n=(0,c.Z)(function*(o,i){yield e.apiservice.getBins("&querytag=ProductRSFETP&value1=&value2=&value3=&value4=").subscribe(function(){var a=(0,c.Z)(function*(s){e.ETPItemMaster=s,o()});return function(s){return a.apply(this,arguments)}}())});return function(o,i){return n.apply(this,arguments)}}())})()}getForStockIn(){var e=this;return(0,c.Z)(function*(){return new Promise(function(){var n=(0,c.Z)(function*(o,i){yield e.apiservice.getDataPortal("getForStockIN?WarehouseTo="+localStorage.getItem("whseNo")).subscribe(function(){var a=(0,c.Z)(function*(s){e.ETPHeaderData=s,e.ETPHeaderData=e.ETPHeaderData.filter(l=>l.BalanceQty>0&&"NK026"==l.Warehouse),o()});return function(s){return a.apply(this,arguments)}}())});return function(o,i){return n.apply(this,arguments)}}())})()}getBin(){var e=this;return(0,c.Z)(function*(){return new Promise(function(){var n=(0,c.Z)(function*(o,i){yield e.apiservice.getBins("&querytag=getAllBin&value1=&value2=&value3=&value4=").subscribe(function(){var a=(0,c.Z)(function*(s){e.Bins=s,o()});return function(s){return a.apply(this,arguments)}}())});return function(o,i){return n.apply(this,arguments)}}())})()}executeQueryheader(e){var n=this;return(0,c.Z)(function*(){return new Promise(function(){var o=(0,c.Z)(function*(i,a){yield n.apiservice.QuerySender("&value1="+e).subscribe(function(){var s=(0,c.Z)(function*(l){n.ETPHeaderData=yield l,i()});return function(l){return s.apply(this,arguments)}}())});return function(i,a){return o.apply(this,arguments)}}())})()}onOpenPODetails(e){var n=this;this.isPutawayLoc=!1,this.ETPPurchaseOrderNum=e.Replenid,this.apiservice.busyLoading().then((0,c.Z)(function*(){return yield n.onGetPO(e.Replenid)})).then((0,c.Z)(function*(){return yield n.closeModal()})).then((0,c.Z)(function*(){return yield n.apiservice.closeBusyLoading()})).catch(o=>this.apiservice.AlertOne("error","Fetching Data","Error while loading the data!"))}onGetPO(e){var n=this;return(0,c.Z)(function*(){return new Promise(function(){var o=(0,c.Z)(function*(i,a){yield n.apiservice.getDataPortal("getReplenStockDetails?Replenid="+e).subscribe(function(){var s=(0,c.Z)(function*(l){n.ETPDetailsData=l,n.totalScaned=n.ScannedSum(),n.totalOrder=n.OrderSum(),i()});return function(l){return s.apply(this,arguments)}}())});return function(i,a){return o.apply(this,arguments)}}())})()}openModalM(e){0!==this.ETPDetailsData.filter(o=>0!==o.ScannedQty).length?(this.targetLocation="",this.isPutawayLoc=!0,this.ETPReference2=this.ETPPurchaseOrderNum,this.modalRef=this.modalService.open(e,{container:".app"})):(this.isPutawayLoc=!1,this.apiservice.AlertTwo("warning","WARNING","No Scanned item found,Please scan item first!"))}ScannedSum(){return this.ETPDetailsData.reduce((e,n)=>e+n.ScannedQty,0)}SumETPScanned(){return this.PicklistDetails.reduce((e,n)=>e+n.ReceivedQuantity,0)}SumETPTotalPO(){return this.PicklistDetails.reduce((e,n)=>e+n.OrderQuantity,0)}OrderSum(){return this.ETPDetailsData.reduce((e,n)=>e+n.balanceQty,0)}Putaway(){var e=this,n=this.Bins.filter(o=>o.BinName===this.targetLocation);this.isReady=0!==n.length,!0===this.isReady?(this.modalRef.close(),this.apiservice.busyLoading().then((0,c.Z)(function*(){return yield e.insertInventoty()})).then((0,c.Z)(function*(){return yield e.DoneInsert()})).then((0,c.Z)(function*(){return yield e.apiservice.closeBusyLoading()})).catch(o=>console.log("error","Inserting Data","Error while loading the data!"))):this.toastrService.error("Please scan bin location!")}onImgError(e){e.ImageUrl=localStorage.getItem("Server")+"/img?filename=DefaultImg"}formatDatePost(){const e=new Date,n=e.getDate().toString().padStart(2,"0"),o=(e.getMonth()+1).toString().padStart(2,"0"),i=e.getFullYear().toString(),a=e.getHours().toString().padStart(2,"0"),s=e.getMinutes().toString().padStart(2,"0"),l=e.getSeconds().toString().padStart(2,"0");return`${o}${n}${i.slice(-2)}${a}${s}${l}`}insertInventoty(){var e=this;return new Promise(function(){var n=(0,c.Z)(function*(o,i){e.apiservice.postDataGTI(e.ETPDetailsData,"StockIn?transno="+e.formatDatePost()+"&createdby="+localStorage.getItem("User")+"&Whouse="+localStorage.getItem("whseNo")+"&DestinationBin="+e.targetLocation+"&totalScanned="+e.totalScaned).subscribe(a=>{}),o()});return function(o,i){return n.apply(this,arguments)}}())}UpdateReplenLine(e,n,o){var i=this;return(0,c.Z)(function*(){return new Promise(a=>setTimeout((0,c.Z)(function*(){yield i.apiservice.getDataPortal("UpdateReplenLine?Replenid="+e+"&ItemNumber="+n+"&pickedqty="+o).subscribe(function(){var s=(0,c.Z)(function*(l){console.log(l),console.log("UpdateReplenLine"),a()});return function(l){return s.apply(this,arguments)}}())}),400))})()}InsertTransaction(e,n,o,i,a,s,l){return new Promise(g=>setTimeout(()=>{this.apiservice.modDataOnly("&querytag=InsertTransaction2&value1="+this.seriesNumber+"&value2="+s+"&value3="+e+"&value4="+n+"&value5=0&value6=0&value7="+a+"&value8="+l+"&value9="+localStorage.getItem("User")+"&value10=&value11=&value12=&value13=&value14=&value15=").subscribe(m=>{console.log("InsertTransaction2"),g()})},200))}GetSeriesNumber(){var e=this;return new Promise(function(){var n=(0,c.Z)(function*(o,i){e.apiservice.getDataMethod("&querytag=getSeries&value1=0&value2=&value3=&value4=").subscribe(function(){var a=(0,c.Z)(function*(s){e.seriesNumber="TRN"+e.apiservice.onNumberSeries(s[0].NumberUsed+=1,9),o()});return function(s){return a.apply(this,arguments)}}())});return function(o,i){return n.apply(this,arguments)}}())}DoneInsert(){var e=this;return new Promise(function(){var n=(0,c.Z)(function*(o,i){e.ScanBarcode="",e.isReady=!1,e.totalScaned=0,e.ETPDetailsData=[],e.SuccessAlert("success","SUCCESS","Putaway successfuly done!"),o()});return function(o,i){return n.apply(this,arguments)}}())}getNumberSeriesRSFMiscellaneous(){var e=this;return new Promise(function(){var n=(0,c.Z)(function*(o,i){var a="exec ETPStoreV55..NumberSeriesRSFMiscellaneous 100,N'"+localStorage.getItem("whseNo")+"',N'9',N'M',"+e.formatDate(new Date);yield e.apiservice.QuerySender("&value1="+a).subscribe(function(){var s=(0,c.Z)(function*(l){0!==l.length?(e.NumberSeriesRSFMiscellaneous=yield l[0].LastNumberUsed,o()):i()});return function(l){return s.apply(this,arguments)}}())});return function(o,i){return n.apply(this,arguments)}}())}StockReceiptHeadInsert(){var e=this;return new Promise(n=>setTimeout((0,c.Z)(function*(){const o=new Date;var i="EXEC ETPStoreV55..StockReceiptHeadInsert 100,N'"+localStorage.getItem("whseNo")+"',"+e.NumberSeriesRSFMiscellaneous+",N'101',N'STI',N'"+localStorage.getItem("User")+"',N'L1',N'WMS STOCK-IN',"+e.totalScaned+",0,"+e.formatDate(new Date)+",1,"+o.getFullYear()+","+o.getFullYear()+",0,N'SUPERADMIN',"+e.LastNumberSTL;i.replace(/%20/g," ").replace(/%27/g,"'").replace(/&/g," "),yield e.apiservice.QuerySender("&value1="+i).subscribe(function(){var a=(0,c.Z)(function*(s){n()});return function(s){return a.apply(this,arguments)}}())}),200))}StockReceiptLineInsert(e,n,o,i){var a=this;return new Promise(s=>setTimeout((0,c.Z)(function*(){const l=new Date;var g="exec ETPStoreV55..StockReceiptLineInsert 100,N'"+localStorage.getItem("whseNo")+"',"+a.NumberSeriesRSFMiscellaneous+",N'"+e+"',N'',"+a.formatDate(new Date)+",N'101',"+i+",N'0',0,"+n+","+-1*parseInt(n)+",1,"+l.getFullYear()+","+l.getFullYear()+",0,N'SUPERADMIN',N'L1',N'',N'"+o+"',N'',"+a.LastNumberSTL;g.replace(/%20/g," ").replace(/%27/g,"'").replace(/&/g," "),yield a.apiservice.QuerySender("&value1="+g).subscribe(function(){var m=(0,c.Z)(function*(f){console.log(f),console.log("StockReceiptLineInsert"),s()});return function(f){return m.apply(this,arguments)}}())}),200))}formatDate(e){return`${e.getFullYear()}${this.padZero(e.getMonth()+1)}${this.padZero(e.getDate())}`}padZero(e){return e<10?`0${e}`:`${e}`}getLastIdInLedger(){var e=this;return new Promise(function(){var n=(0,c.Z)(function*(o,i){e.apiservice.getDataMethod("&querytag=ETPMaxId&value1=0&value2=&value3=&value4=").subscribe(function(){var a=(0,c.Z)(function*(s){0!==s.length?(e.LastNumberSTL=s[0].maxid,o()):i()});return function(s){return a.apply(this,arguments)}}())});return function(o,i){return n.apply(this,arguments)}}())}SuccessAlert(e,n,o){var i;d().fire({position:"center",icon:e,title:n,text:o,allowOutsideClick:!0,showConfirmButton:!1,timer:2e3,willClose:(i=(0,c.Z)(function*(){}),function(){return i.apply(this,arguments)})})}onShowFind(e){var n=this;this.apiservice.busyLoading().then((0,c.Z)(function*(){return yield n.getPullOutHead()})).then((0,c.Z)(function*(){return yield n.onOpenModalPO(e)})).then((0,c.Z)(function*(){return yield n.apiservice.closeBusyLoading()})).catch(o=>this.apiservice.AlertOne("error","Fetching Data","Error while loading the data!"))}onOpenModalPO(e){var n=this;return(0,c.Z)(function*(){return new Promise(function(){var o=(0,c.Z)(function*(i,a){n.modalRef=n.modalService.open(e,{container:".app"}),i()});return function(i,a){return o.apply(this,arguments)}}())})()}getPullOutHead(){var e=this;return(0,c.Z)(function*(){return new Promise(function(){var n=(0,c.Z)(function*(o,i){yield e.apiservice.getDataMethod("&querytag=POHeadReceived&value1=&value2=&value3=&value4=").subscribe(function(){var a=(0,c.Z)(function*(s){e.POList=s,console.log(s),o()});return function(s){return a.apply(this,arguments)}}())});return function(o,i){return n.apply(this,arguments)}}())})()}onSelectDO(e){var n=this;this.modalRef.close(),this.apiservice.busyLoading().then((0,c.Z)(function*(){return yield n.onPutHeaderData(e)})).then((0,c.Z)(function*(){return yield n.ReceivedOrderLineGet()})).then((0,c.Z)(function*(){return yield n.apiservice.closeBusyLoading()})).catch(o=>this.apiservice.AlertOne("error","Fetching Data","Error while loading the data!"))}insertReplenHeader(){var e=this;return(0,c.Z)(function*(){return new Promise(function(){var n=(0,c.Z)(function*(o,i){yield e.apiservice.getDataPortal("InsertReplenHead?Replenid="+e.NumberSeriesRSFMiscellaneous+"&Createdby="+localStorage.getItem("UserFullName")).subscribe(function(){var a=(0,c.Z)(function*(s){o()});return function(s){return a.apply(this,arguments)}}())});return function(o,i){return n.apply(this,arguments)}}())})()}onPutHeaderData(e){var n=this;return new Promise(function(){var o=(0,c.Z)(function*(i,a){n.LineHeader={PurchaseOrder:e.PurchaseOrder,PODate:e.PODate,TotalQty:0,POTotalQty:0},i()});return function(i,a){return o.apply(this,arguments)}}())}ReceivedOrderLineGet(){var e=this;return(0,c.Z)(function*(){return new Promise(function(){var n=(0,c.Z)(function*(o,i){yield e.apiservice.getDataMethod("&querytag=POLineReceived&value1="+e.LineHeader.PurchaseOrder+"&value2=&value3=&value4=").subscribe(function(){var a=(0,c.Z)(function*(s){e.PicklistDetails=s,e.LineHeader.TotalQty=e.SumETPScanned(),e.LineHeader.POTotalQty=e.SumETPTotalPO(),o()});return function(s){return a.apply(this,arguments)}}())});return function(o,i){return n.apply(this,arguments)}}())})()}static#t=this.\u0275fac=function(n){return new(n||r)(t.Y36(P.NM),t.Y36(t.Qsj),t.Y36(Z.j),t.Y36(O._W),t.Y36(rn),t.Y36(v.Yg))};static#e=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-stock-in"]],hostBindings:function(n,o){1&n&&t.NdJ("keydown",function(a){return o.handleKeyDown(a)},!1,t.Jf7)("keyup",function(a){return o.handleKeyUp(a)},!1,t.Jf7)},decls:13,vars:3,consts:[["class","row",4,"ngIf"],["class","col-lg-3 mt-0 col-md-5",4,"ngIf"],["PODetailsViewDetails",""],["PODetailsBalance",""],["PutawayStocks",""],["class","settings4",3,"ngClass",4,"ngIf"],["POListView",""],["STIView",""],[1,"row"],[1,"card-body"],[1,"d-flex","justify-content-center","align-items-center","w-100","h-100","error-container"],[1,"col-10"],[1,"card","border-0","box-shadow","rounded-0"],[1,"card-header","d-flex","justify-content-center","align-items-center","border-0","box-shadow"],["aria-hidden","true",1,"fa","fa-exclamation-circle"],[1,"card-body","text-center"],[1,"display-1"],[1,"card-title"],[1,"card-text"],["method","get"],[1,"form-group"],[1,"col-lg-3","mt-0","col-md-5"],[1,"input-group","mb-3","box-shadow"],[1,"input-group-prepend"],[1,"input-group-text","border-top-0","border-left-0","border-bottom-0"],[1,"fa","fa-qrcode"],["type","text","id","myInput","placeholder","Enter barcode here...",1,"form-control","border-0",3,"ngModel","ngModelChange"],[1,"badge","badge"],["pointerEventsMethod","scrollbar",2,"height","500px"],["class","col-xl-4 col-lg-6 mb-4",4,"ngFor","ngForOf"],[1,"col-xl-4","col-lg-6","mb-4"],[1,"flip",3,"click"],[1,"content"],[1,"front"],[1,"card-header","border-0","rounded-0","text-muted"],[1,"mb-0"],[1,"media"],[1,"media-body","ml-4"],[1,"col-0","text-gray","text-left","pr-0","text-truncate"],[1,"col-10","pl-2","text-left","text-truncate"],[1,"col-4","text-gray","text-left","pr-0","text-truncate"],[1,"col-6","pl-2","text-left","text-truncate"],["type","submit","class","btn btn-warning btn-sm",3,"click",4,"ngIf"],[1,"d-flex","flex-column","justify-content-center"],["width","70",1,"rounded",3,"src","error"],["type","submit",1,"btn","btn-warning","btn-sm",3,"click"],[1,"fa","fa-edit"],[1,"card-header","transparent","border-0","text-muted"],[1,"widget-controls","mr-2","mt-1"],["data-widgster","close",1,"transition",3,"click"],[1,"fa","fa-times"],[1,"modal-body"],[1,"col"],[1,"fa","fa-search"],["type","text","placeholder","Search...",1,"form-control","border-0",3,"ngModel","ngModelChange"],[1,"col-12"],[1,"table-responsive","bg-white","box-shadow"],["pointerEventsMethod","scrollbar",2,"height","450px"],[1,"table","table-hover"],[4,"ngFor","ngForOf"],[1,"bg-white","text-center"],[3,"autoHide","maxSize","pageChange"],[1,"align-middle"],[1,"align-middle","text-truncate"],[1,"btn","btn-success","mr-1",3,"click"],[1,"fa","fa-file-o"],[1,"btn","btn-rounded","btn-danger","mr-1"],[1,"fa","fa-trash"],[1,"modal-header-own"],["id","modal-basic-title",1,"modal-title",2,"color","black","margin-top","18px","margin-left","16px"],[1,"container","mb-3","mt-3"],["autocomplete","off","id","myInput2","type","text","placeholder","Scan bin barcode here...",1,"form-control","border-0",3,"ngModel","ngModelChange"],[1,"input-group-append"],[1,"input-group-text","border-top-0","border-right-0","border-bottom-0"],[1,"fa","fa-reorder"],[1,"button-container"],["type","button",1,"btn","btn-success","mr-1",3,"click"],["type","button",1,"btn","btn-danger","mr-1",3,"click"],[1,"settings4",3,"ngClass"],[1,"btn","btn-success","btn-rounded",3,"click"],[1,"fa","fa-cart-arrow-down"],[1,"widget-controls"],[1,"bg-white","box-shadow","mt-4","mr-1","ml-1"],["type","text","placeholder","Search...",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","btn-outline-info","w-100p","mb-1","mr-1",3,"click"]],template:function(n,o){1&n&&t.YNc(0,an,20,0,"div",0)(1,ln,12,3,"div",1)(2,dn,25,12,"ng-template",null,2,t.W1O)(4,_n,23,1,"ng-template",null,3,t.W1O)(6,pn,15,1,"ng-template",null,4,t.W1O)(8,hn,4,3,"div",5)(9,vn,20,5,"ng-template",null,6,t.W1O)(11,Cn,25,12,"ng-template",null,7,t.W1O),2&n&&(t.Q6J("ngIf",!o.isMobile),t.xp6(1),t.Q6J("ngIf",o.isMobile),t.xp6(7),t.Q6J("ngIf",o.isMobile))},dependencies:[_.mk,_.sg,_.O5,T.KC,p._Y,p.Fj,p.JJ,p.JL,p.On,p.F,x.LS,w.a,k.c,I.q,x._s],styles:[".flip[_ngcontent-%COMP%]{width:100%;height:180px;position:relative;-o-perspective:800px;perspective:800px}.flip[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;transition:transform .6s;transform-style:preserve-3d}.flip[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   div.front[_ngcontent-%COMP%], .flip[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   div.back[_ngcontent-%COMP%]{height:100%;width:100%;position:absolute;z-index:0;backface-visibility:hidden}.flip[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   div.front[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%], .flip[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   div.back[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{height:180px}.flip[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   div.back[_ngcontent-%COMP%]{z-index:1;transform:rotateY(180deg)}.flip[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   div.back[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]{width:100%}.flip[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   div.back[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{width:100%;margin-top:-1px}.flip[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   div.back[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#666}.flip[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   div.back[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .fa-check[_ngcontent-%COMP%]{color:#378d3b}.flip[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   div.back[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .fa-times[_ngcontent-%COMP%]{color:#d22e2e}.flip[_ngcontent-%COMP%]   .content.flipped[_ngcontent-%COMP%]{transform:rotateY(180deg)}.z-index-1[_ngcontent-%COMP%]{z-index:1}.app.dark[_ngcontent-%COMP%]   .bg-light[_ngcontent-%COMP%]{background-color:#fff!important}.app.combined[_ngcontent-%COMP%]   .bg-gray[_ngcontent-%COMP%]{background-color:#bcbfc5!important}.modal-body[_ngcontent-%COMP%]{position:relative;flex:1 1 auto;padding:.5rem}.modal-title[_ngcontent-%COMP%]{margin-bottom:0;line-height:.5;color:#fff}.all-caps-input[_ngcontent-%COMP%]{text-transform:uppercase}.container[_ngcontent-%COMP%]{position:relative}.button-container[_ngcontent-%COMP%]{top:10px;margin:10px}.mb-4[_ngcontent-%COMP%], .my-4[_ngcontent-%COMP%]{margin-bottom:.2rem!important}.app.light[_ngcontent-%COMP%]   .widget-controls[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#a6a6a6}.card-footer[_ngcontent-%COMP%]{padding:.1rem 0rem;background-color:#fff;border-top:0px #fff}.col-xl[_ngcontent-%COMP%], .col-xl-auto[_ngcontent-%COMP%], .col-xl-12[_ngcontent-%COMP%], .col-xl-11[_ngcontent-%COMP%], .col-xl-10[_ngcontent-%COMP%], .col-xl-9[_ngcontent-%COMP%], .col-xl-8[_ngcontent-%COMP%], .col-xl-7[_ngcontent-%COMP%], .col-xl-6[_ngcontent-%COMP%], .col-xl-5[_ngcontent-%COMP%], .col-xl-4[_ngcontent-%COMP%], .col-xl-3[_ngcontent-%COMP%], .col-xl-2[_ngcontent-%COMP%], .col-xl-1[_ngcontent-%COMP%], .col-lg[_ngcontent-%COMP%], .col-lg-auto[_ngcontent-%COMP%], .col-lg-12[_ngcontent-%COMP%], .col-lg-11[_ngcontent-%COMP%], .col-lg-10[_ngcontent-%COMP%], .col-lg-9[_ngcontent-%COMP%], .col-lg-8[_ngcontent-%COMP%], .col-lg-7[_ngcontent-%COMP%], .col-lg-6[_ngcontent-%COMP%], .col-lg-5[_ngcontent-%COMP%], .col-lg-4[_ngcontent-%COMP%], .col-lg-3[_ngcontent-%COMP%], .col-lg-2[_ngcontent-%COMP%], .col-lg-1[_ngcontent-%COMP%], .col-md[_ngcontent-%COMP%], .col-md-auto[_ngcontent-%COMP%], .col-md-12[_ngcontent-%COMP%], .col-md-11[_ngcontent-%COMP%], .col-md-10[_ngcontent-%COMP%], .col-md-9[_ngcontent-%COMP%], .col-md-8[_ngcontent-%COMP%], .col-md-7[_ngcontent-%COMP%], .col-md-6[_ngcontent-%COMP%], .col-md-5[_ngcontent-%COMP%], .col-md-4[_ngcontent-%COMP%], .col-md-3[_ngcontent-%COMP%], .col-md-2[_ngcontent-%COMP%], .col-md-1[_ngcontent-%COMP%], .col-sm[_ngcontent-%COMP%], .col-sm-auto[_ngcontent-%COMP%], .col-sm-12[_ngcontent-%COMP%], .col-sm-11[_ngcontent-%COMP%], .col-sm-10[_ngcontent-%COMP%], .col-sm-9[_ngcontent-%COMP%], .col-sm-8[_ngcontent-%COMP%], .col-sm-7[_ngcontent-%COMP%], .col-sm-6[_ngcontent-%COMP%], .col-sm-5[_ngcontent-%COMP%], .col-sm-4[_ngcontent-%COMP%], .col-sm-3[_ngcontent-%COMP%], .col-sm-2[_ngcontent-%COMP%], .col-sm-1[_ngcontent-%COMP%], .col[_ngcontent-%COMP%], .col-auto[_ngcontent-%COMP%], .col-12[_ngcontent-%COMP%], .col-11[_ngcontent-%COMP%], .col-10[_ngcontent-%COMP%], .col-9[_ngcontent-%COMP%], .col-8[_ngcontent-%COMP%], .col-7[_ngcontent-%COMP%], .col-6[_ngcontent-%COMP%], .col-5[_ngcontent-%COMP%], .col-4[_ngcontent-%COMP%], .col-3[_ngcontent-%COMP%], .col-2[_ngcontent-%COMP%], .col-1[_ngcontent-%COMP%]{position:relative;width:100%;padding-right:9px;padding-left:8px}.floating-button[_ngcontent-%COMP%]{position:fixed;bottom:29px;right:190px;z-index:1000}.floatingbtn[_ngcontent-%COMP%]{color:#fff;background-color:#000000bf!important;opacity:.5}.settings2[_ngcontent-%COMP%]{position:fixed;top:80px;right:-300px;z-index:1018;width:340px;transition:all .2s}.settings2.show[_ngcontent-%COMP%]{right:-1px}.settings2[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{position:absolute;left:-310px;padding:7px 12px 7px 10px;z-index:99;color:#efe5e5;bottom:-32rem!important;cursor:pointer}.settings2[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:focus{box-shadow:none}.settings4[_ngcontent-%COMP%]{position:fixed;top:80px;right:-275px;z-index:1018;width:340px;transition:all .2s}.settings4.show[_ngcontent-%COMP%]{right:-1px}.settings4[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{position:absolute;left:-82px;padding:7px 12px 7px 10px;z-index:99;color:#efe5e5;bottom:-32rem!important;cursor:pointer}.settings4[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:focus{box-shadow:none}"]})}return r})(),bn=(()=>{class r{constructor(e){this.http=e}getHeader(e){return this.http.get(localStorage.getItem("Server")+"/GetDataQuery?dbName=GTI_WMS_DB"+e)}getBinType(e){return this.http.get(localStorage.getItem("Server")+"/GetDataQuery?dbName=GTI_WMS_DB"+e)}getBins(e){return this.http.get(localStorage.getItem("Server")+"/GetDataQuery?dbName=GTI_WMS_DB"+e)}addInventory(e){return this.http.get(localStorage.getItem("Server")+"/DataInQuery?dbName=GTI_WMS_DB"+e)}modDataOnly(e){return this.http.get(localStorage.getItem("Server")+"/DataInQuery?dbName=GTI_WMS_DB"+e)}getDataMethod(e){return this.http.get(localStorage.getItem("Server")+"/GetDataQuery?dbName=GTI_WMS_DB"+e)}InsertCostListWithWeightAvg(e){return this.http.get(localStorage.getItem("Server")+"/InsertCostListWithWeightAvg?"+e)}AlertOne(e,n,o){d().fire({icon:e,title:n,text:o,allowOutsideClick:!1})}busyLoading(){return new Promise((e,n)=>{d().fire({title:"Please wait",html:"loading..",timerProgressBar:!0,allowOutsideClick:!1,didOpen:()=>{d().showLoading(),e()}})})}AlertTwo(e,n,o){d().fire({position:"center",icon:e,title:n,text:o,allowOutsideClick:!0,showConfirmButton:!1,timer:2500})}closeBusyLoading(){d().close()}onNumberSeries(e,n){var o=n-e.toString().length+1;return Array(+(o>0&&o)).join("0")+e}QuerySender(e){return this.http.get(localStorage.getItem("Server")+"/SQLCommandQuery?dbName=GTI_WMS_DB"+e)}static#t=this.\u0275fac=function(n){return new(n||r)(t.LFG(b.eN))};static#e=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();const yn=["myInput"];function On(r,u){1&r&&(t.TgZ(0,"div",5)(1,"div",6)(2,"div",7)(3,"div",8)(4,"div",9),t._UZ(5,"i",10),t.qZA(),t.TgZ(6,"div",11)(7,"h1",12),t._uU(8,"404"),t.qZA(),t.TgZ(9,"h6",13),t._uU(10,"This function not allowed in your current device"),t.qZA(),t.TgZ(11,"p",14),t._uU(12,"Please use mobile device only"),t.qZA(),t.TgZ(13,"p",14),t._uU(14,"GTI WMS"),t.qZA(),t.TgZ(15,"p",14),t._uU(16,"SC-IT"),t.qZA(),t.TgZ(17,"form",15),t._UZ(18,"div",16),t.qZA()()()()()())}function Mn(r,u){if(1&r){const e=t.EpF();t.TgZ(0,"div",21)(1,"div",22)(2,"div",23)(3,"div",24)(4,"div",8)(5,"div",25)(6,"h6",26),t._uU(7),t.qZA()(),t.TgZ(8,"div",27)(9,"div",28)(10,"div",29)(11,"div",30),t._UZ(12,"div",31)(13,"div",31),t.TgZ(14,"div",32)(15,"h5",26),t._uU(16),t.qZA()(),t._UZ(17,"div",31)(18,"div",31),t.TgZ(19,"div",32),t._uU(20),t.qZA(),t.TgZ(21,"div",33),t._uU(22,"Qty"),t.qZA(),t.TgZ(23,"div",31),t._uU(24,":"),t.qZA(),t.TgZ(25,"div",34),t._uU(26),t.qZA()()(),t.TgZ(27,"div",35)(28,"img",36),t.NdJ("error",function(){const i=t.CHM(e).$implicit,a=t.oxw(2);return t.KtG(a.onImgError(i))}),t.qZA()()()()()()()()()}if(2&r){const e=u.$implicit;t.xp6(7),t.hij(" ",e.ItemName," "),t.xp6(9),t.Oqu(e.ItemNumber),t.xp6(4),t.Oqu(e.UPC),t.xp6(6),t.Oqu(e.Quantity),t.xp6(2),t.Q6J("src",e.ItemImage,t.LSH)}}function Zn(r,u){if(1&r&&(t.TgZ(0,"div",17),t._UZ(1,"br"),t.TgZ(2,"span",18),t._uU(3,"Total Scanned: "),t.qZA(),t.TgZ(4,"span",18),t._uU(5),t.qZA(),t.TgZ(6,"ng-scrollbar",19),t.YNc(7,Mn,29,5,"div",20),t.qZA()()),2&r){const e=t.oxw();t.xp6(5),t.Oqu(e.totalScaned),t.xp6(2),t.Q6J("ngForOf",e.ItemList)}}function Tn(r,u){if(1&r&&(t.TgZ(0,"div",21)(1,"div",22)(2,"div",23)(3,"div",24)(4,"div",8)(5,"div",25),t._UZ(6,"h6",26),t.qZA(),t.TgZ(7,"div",27)(8,"div",28)(9,"div",29)(10,"div",30),t._UZ(11,"div",31)(12,"div",31),t.TgZ(13,"div",32)(14,"h6",26),t._uU(15),t.qZA()(),t.TgZ(16,"div",33),t._uU(17,"Quantity"),t.qZA(),t.TgZ(18,"div",31),t._uU(19,":"),t.qZA(),t.TgZ(20,"div",34),t._uU(21),t.qZA()()(),t.TgZ(22,"div",35),t._UZ(23,"img",43),t.qZA()()()()()()()()),2&r){const e=u.$implicit;t.xp6(15),t.Oqu(e.HexCode),t.xp6(6),t.Oqu(e.Quantity)}}function Sn(r,u){if(1&r){const e=t.EpF();t.TgZ(0,"div",17)(1,"div",37)(2,"div",38)(3,"span",39),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onclearData())}),t._UZ(4,"i",40),t.qZA()(),t.TgZ(5,"input",41,42),t.NdJ("ngModelChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.ScanBarcode=o)}),t.qZA()(),t._UZ(7,"br"),t.TgZ(8,"span",18),t._uU(9,"Total Scanned: "),t.qZA(),t.TgZ(10,"span",18),t._uU(11),t.qZA(),t.TgZ(12,"ng-scrollbar",19),t.YNc(13,Tn,24,2,"div",20),t.qZA()()}if(2&r){const e=t.oxw();t.xp6(5),t.Q6J("ngModel",e.ScanBarcode),t.xp6(6),t.Oqu(e.totalScanedRFID),t.xp6(2),t.Q6J("ngForOf",e.RFIDList)}}function wn(r,u){if(1&r){const e=t.EpF();t.TgZ(0,"div",44)(1,"h3",45),t._uU(2,"SCAN BIN LOCATION"),t.qZA()(),t.TgZ(3,"div",46)(4,"div",47)(5,"div",37)(6,"input",48),t.NdJ("ngModelChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.targetLocation=o)}),t.qZA(),t.TgZ(7,"div",49)(8,"span",50),t._UZ(9,"i",51),t.qZA()()(),t.TgZ(10,"div",52)(11,"button",53),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.Putaway())}),t._uU(12,"Putaway"),t.qZA(),t.TgZ(13,"button",54),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._uU(14,"Cancel"),t.qZA()()()()}if(2&r){const e=t.oxw();t.xp6(6),t.Q6J("ngModel",e.targetLocation)}}const D=r=>({show:r});function In(r,u){if(1&r){const e=t.EpF();t.TgZ(0,"div",55)(1,"button",56),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onBackView())}),t._uU(2,"\xa0\xa0\xa0\xa0Back\xa0\xa0"),t._UZ(3,"i",57),t.qZA()()}if(2&r){const e=t.oxw();t.Q6J("ngClass",t.VKq(1,D,e.showSetting))}}function Dn(r,u){if(1&r){const e=t.EpF();t.TgZ(0,"div",58)(1,"button",59),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onClickViewDetails())}),t._uU(2,"View\xa0\xa0"),t._UZ(3,"i",60),t.qZA()()}if(2&r){const e=t.oxw();t.Q6J("ngClass",t.VKq(1,D,e.showSetting))}}function qn(r,u){if(1&r&&(t.TgZ(0,"div",58)(1,"button",61),t._uU(2,"Putaway\xa0\xa0"),t._UZ(3,"i",62),t.qZA()()),2&r){const e=t.oxw();t.Q6J("ngClass",t.VKq(1,D,e.showSetting))}}const R=[{path:"",redirectTo:"ManualReceiving",pathMatch:"full"},{path:"ManualReceiving",component:Mt,data:{breadcrumb:"Manual Receiving"}},{path:"BinToBin",component:oe,data:{breadcrumb:"Bin to Bin"}},{path:"BackToBin",component:ie.f,data:{breadcrumb:"Back to Bin"}},{path:"Receivepo",component:be,data:{breadcrumb:"Receive PO"}},{path:"ReceiveOrder",component:Le,data:{breadcrumb:"Receive Order"}},{path:"StockIn",component:xn,data:{breadcrumb:"Stock-in"}},{path:"GoodsReceipt",component:on,data:{breadcrumb:"Goods Receipt"}},{path:"RFIDReceiving",component:(()=>{class r{constructor(e,n,o,i,a,s){this.renderer=n,this.notifService=o,this.toastrService=i,this.apiservice=a,this.breakpointObserver=s,this.Bins=[],this.ScanBarcode="",this.barcodeData="",this.totalScaned=0,this.totalScanedRFID=0,this.RFIDList=[],this.ItemList=[],this.totalOrder=0,this.searchText="",this.isPutawayLoc=!1,this.targetLocation="",this.ETPHeaderData=[],this.ETPDetailsData=[],this.ETPItemMaster=[],this.PicklistDetails=[],this.ETPDetailsDataBal=[],this.ETPItemData=[],this.ETPReference2="",this.POList=[],this.GridType="RFID",this.isMobile=!1,this.ETPPurchaseOrderNum="",this.seriesNumber="",this.showSetting=!1,this.modalService=(0,t.f3M)(P.FF),this.LineHeader={PurchaseOrder:"",PODate:"",TotalQty:0,POTotalQty:0},e.backdrop="static",e.keyboard=!1,this.detectDeviceType()}detectDeviceType(){this.breakpointObserver.observe([v.u3.Handset,v.u3.Tablet]).subscribe(e=>{this.isMobile=e.matches})}handleKeyDown(e){return(0,c.Z)(function*(){("Unidentified"===e.key||"Enter"===e.key)&&setTimeout(function(){$("#myInput").focus(),this.ScanBarcode=""},100)})()}handleKeyUp(e){var n=this;return(0,c.Z)(function*(){if(("Unidentified"===e.key||"Enter"===e.key)&&(e.preventDefault(),""!==n.ScanBarcode)){var o=n.RFIDList.filter(i=>i.HexCode==n.ScanBarcode);0===o.length?n.RFIDList.push({HexCode:n.ScanBarcode,Quantity:1}):o[0].Quantity=parseInt(o[0].Quantity)+1,n.totalScanedRFID=n.ScannedSumRFID(),n.ScanBarcode="",setTimeout(function(){$("#itemInput").focus()},500)}})()}onClickViewDetails(){var e=this;0!==this.RFIDList.length?this.apiservice.busyLoading().then((0,c.Z)(function*(){return yield e.onViewDetails()})).then((0,c.Z)(function*(){return yield e.apiservice.closeBusyLoading()})).catch(n=>this.apiservice.AlertOne("error","Fetching Data","Error while loading the data!")):this.toastrService.warning("Please scan rfid!")}onViewDetails(){var e=this;return(0,c.Z)(function*(){return new Promise(function(){var n=(0,c.Z)(function*(o,i){e.ItemList=[],yield Promise.all([setTimeout(function(){$("#myInput").focus(),this.ScanBarcode=""},100),yield e.onconvertRFID()]),e.GridType="ITEM",o()});return function(o,i){return n.apply(this,arguments)}}())})()}onBackView(){this.ItemList=[],this.GridType="RFID"}onImgError(e){e.ItemImage=localStorage.getItem("Server")+"/img?filename=DefaultImg",e.ImageStatus="None"}onclearData(){this.RFIDList=[],this.totalScanedRFID=0,this.ItemList=[]}onPlayScanned(){let e=new Audio;e.src="../assets/ringtone/barcode_beep_sound.mp3",e.load(),e.play()}onPlayError(){let e=new Audio;e.src="../assets/ringtone/cursor_error.mp3",e.load(),e.play()}editQtyFunc(e){var n;0!==e.ScannedQty&&(this.editableQty=e.ScannedQty,this.editableRow=this.ETPDetailsData.indexOf(e),d().fire({title:e.ItemNumber,input:"number",inputValue:this.editableQty,focusConfirm:!1,showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Update",showLoaderOnConfirm:!0,allowOutsideClick:!1,preConfirm:(n=(0,c.Z)(function*(o){parseInt(o)>parseInt(e.BalanceQuantity)&&d().showValidationMessage("Putaway quantity exceeds open quantity!")}),function(i){return n.apply(this,arguments)})}).then(n=>{n.isConfirmed&&(this.ETPDetailsData[this.editableRow].ScannedQty=parseInt(n.value),this.totalScaned=this.ScannedSum(),setTimeout(function(){$("#itemInput").focus()},1e3)),setTimeout(function(){$("#itemInput").focus()},1e3)}))}convertHexToBinary(e){return BigInt(`0x${e}`).toString(2)}binaryToDecimal(e){return parseInt(e,2)}onconvertRFID(){var e=this;return new Promise(n=>setTimeout((0,c.Z)(function*(){Array.from(new Set(e.RFIDList.map(i=>i.HexCode))).map(i=>({HexCode:i})).forEach(function(){var i=(0,c.Z)(function*(a){const l="00"+e.convertHexToBinary(a.HexCode),g=l.substring(14,38),m=l.substring(38,58),f=e.binaryToDecimal(g),y=e.binaryToDecimal(m);let C=f.toString().padStart(6,"0"),M=y.toString().padStart(5,"0");const S=C.toString()+M.toString();yield Promise.all([yield e.ItemIdentification(S)])});return function(a){return i.apply(this,arguments)}}()),n()}),50))}onclearRFID(){return new Promise(e=>setTimeout(()=>{this.ScanBarcode="",this.apiservice.closeBusyLoading()},100))}ngOnInit(){this.ScanBarcode="",this.totalScaned=0,this.LineHeader={PurchaseOrder:"",PODate:"",TotalQty:0,POTotalQty:0},this.isReady=!1,this.isMobile&&(this.onLoadData(),this.ProductRSFETP())}openModal(){}closeModal(){this.modalRef.close()}onLoadData(){var e=this;this.totalScaned=0,this.ETPPurchaseOrderNum="",this.ETPDetailsData=[],this.apiservice.busyLoading().then((0,c.Z)(function*(){return yield e.getBin()})).then((0,c.Z)(function*(){return yield e.apiservice.closeBusyLoading()})).catch(n=>this.apiservice.AlertOne("error","Fetching Data","Error while loading the data!"))}ProductRSFETP(){var e=this;return(0,c.Z)(function*(){return new Promise(function(){var n=(0,c.Z)(function*(o,i){e.apiservice.getBins("&querytag=ProductRSFETP2&value1=&value2=&value3=&value4=").subscribe(function(){var a=(0,c.Z)(function*(s){e.ETPItemMaster=s,e.toastrService.info("Item master read!"),o()});return function(s){return a.apply(this,arguments)}}())});return function(o,i){return n.apply(this,arguments)}}())})()}ItemIdentification(e){var n=this;return(0,c.Z)(function*(){return new Promise(o=>setTimeout(()=>{var i=n.ETPItemMaster.filter(s=>s.UPC==e);if(0!==i.length){var a=n.ItemList.filter(s=>s.UPC==e);0!==a.length?a[0].Quantity=parseInt(a[0].Quantity)+1:n.ItemList.push({ItemImage:i[0].ImageUrl,ItemNumber:i[0].ItemNumber,ItemName:i[0].ItemName,Quantity:1,UPC:e}),n.totalScaned=n.ScannedSum()}o()},50))})()}getBin(){var e=this;return(0,c.Z)(function*(){return new Promise(function(){var n=(0,c.Z)(function*(o,i){yield e.apiservice.getBins("&querytag=getAllBin&value1=&value2=&value3=&value4=").subscribe(function(){var a=(0,c.Z)(function*(s){e.Bins=s,o()});return function(s){return a.apply(this,arguments)}}())});return function(o,i){return n.apply(this,arguments)}}())})()}executeQueryheader(e){var n=this;return(0,c.Z)(function*(){return new Promise(function(){var o=(0,c.Z)(function*(i,a){yield n.apiservice.QuerySender("&value1="+e).subscribe(function(){var s=(0,c.Z)(function*(l){n.ETPHeaderData=yield l,i()});return function(l){return s.apply(this,arguments)}}())});return function(i,a){return o.apply(this,arguments)}}())})()}ScannedSum(){return this.ItemList.reduce((e,n)=>e+n.Quantity,0)}ScannedSumRFID(){return Array.from(new Set(this.RFIDList.map(n=>n.HexCode))).map(n=>({HexCode:n})).length}SumETPScanned(){return this.PicklistDetails.reduce((e,n)=>e+n.ReceivedQuantity,0)}SumETPTotalPO(){return this.PicklistDetails.reduce((e,n)=>e+n.OrderQuantity,0)}OrderSum(){return this.ETPDetailsData.reduce((e,n)=>e+n.BalanceQuantity,0)}Putaway(){var e=this,n=this.Bins.filter(o=>o.BinName===this.targetLocation);this.isReady=0!==n.length,!0===this.isReady?this.apiservice.busyLoading().then((0,c.Z)(function*(){return yield e.GetSeriesNumber()})).then((0,c.Z)(function*(){return yield e.insertInventoty()})).catch(o=>console.log("error","Inserting Data","Error while loading the data!")):this.toastrService.error("Please scan bin location!")}insertInventoty(){var e=this;return new Promise(function(){var n=(0,c.Z)(function*(o,i){var a=e.ETPDetailsData.filter(s=>0!==s.ScannedQty).sort((s,l)=>s.LineNumber-l.LineNumber);e.isPutawayLoc=!1,e.modalRef.close();for(let s=0;s<a.length;s++)yield Promise.all([e.InsertTransaction(a[s].ItemNumber,a[s].ScannedQty,a[s].StockLedgerTrnID,a[s].RefNumber,e.ETPPurchaseOrderNum,"Inbound Putaway",e.targetLocation)]);yield e.DoneInsert(),o()});return function(o,i){return n.apply(this,arguments)}}())}InsertTransaction(e,n,o,i,a,s,l){return new Promise(g=>setTimeout(()=>{this.apiservice.modDataOnly("&querytag=InsertTransaction2&value1="+this.seriesNumber+"&value2="+s+"&value3="+e+"&value4="+n+"&value5=0&value6=0&value7="+a+"&value8="+l+"&value9="+localStorage.getItem("User")+"&value10=&value11=&value12=&value13=&value14=&value15=").subscribe(m=>{g()})},100))}GetSeriesNumber(){var e=this;return new Promise(function(){var n=(0,c.Z)(function*(o,i){e.apiservice.getDataMethod("&querytag=getSeries&value1=0&value2=&value3=&value4=").subscribe(function(){var a=(0,c.Z)(function*(s){e.seriesNumber="TRN"+e.apiservice.onNumberSeries(s[0].NumberUsed+=1,9),o()});return function(s){return a.apply(this,arguments)}}())});return function(o,i){return n.apply(this,arguments)}}())}DoneInsert(){var e=this;return new Promise(function(){var n=(0,c.Z)(function*(o,i){e.ScanBarcode="",e.isReady=!1,e.totalScaned=0,e.SuccessAlert("success","SUCCESS","Putaway successfuly done!"),o()});return function(o,i){return n.apply(this,arguments)}}())}formatDate(e){return`${e.getFullYear()}${this.padZero(e.getMonth()+1)}${this.padZero(e.getDate())}`}padZero(e){return e<10?`0${e}`:`${e}`}SuccessAlert(e,n,o){d().fire({position:"center",icon:e,title:n,text:o,allowOutsideClick:!0,showConfirmButton:!1,timer:2500,willClose:()=>{this.onLoadData()}})}onShowFind(e){var n=this;this.apiservice.busyLoading().then((0,c.Z)(function*(){return yield n.getPullOutHead()})).then((0,c.Z)(function*(){return yield n.onOpenModalPO(e)})).then((0,c.Z)(function*(){return yield n.apiservice.closeBusyLoading()})).catch(o=>this.apiservice.AlertOne("error","Fetching Data","Error while loading the data!"))}onOpenModalPO(e){var n=this;return(0,c.Z)(function*(){return new Promise(function(){var o=(0,c.Z)(function*(i,a){n.modalRef=n.modalService.open(e,{container:".app"}),i()});return function(i,a){return o.apply(this,arguments)}}())})()}getPullOutHead(){var e=this;return(0,c.Z)(function*(){return new Promise(function(){var n=(0,c.Z)(function*(o,i){yield e.apiservice.getDataMethod("&querytag=POHeadReceived&value1=&value2=&value3=&value4=").subscribe(function(){var a=(0,c.Z)(function*(s){e.POList=s,o()});return function(s){return a.apply(this,arguments)}}())});return function(o,i){return n.apply(this,arguments)}}())})()}static#t=this.\u0275fac=function(n){return new(n||r)(t.Y36(P.NM),t.Y36(t.Qsj),t.Y36(Z.j),t.Y36(O._W),t.Y36(bn),t.Y36(v.Yg))};static#e=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-rfid-receiving"]],viewQuery:function(n,o){if(1&n&&t.Gf(yn,5),2&n){let i;t.iGM(i=t.CRH())&&(o.myInput=i.first)}},hostBindings:function(n,o){1&n&&t.NdJ("keydown",function(a){return o.handleKeyDown(a)},!1,t.Jf7)("keyup",function(a){return o.handleKeyUp(a)},!1,t.Jf7)},decls:8,vars:6,consts:[["class","row mb-1",4,"ngIf"],["class","col-lg-3 mt-0 col-md-5",4,"ngIf"],["PutawayStocks",""],["class","settings2",3,"ngClass",4,"ngIf"],["class","settings4",3,"ngClass",4,"ngIf"],[1,"row","mb-1"],[1,"d-flex","justify-content-center","align-items-center","w-100","h-100","error-container"],[1,"col-10"],[1,"card","border-0","box-shadow","rounded-0"],[1,"card-header","d-flex","justify-content-center","align-items-center","border-0","box-shadow"],["aria-hidden","true",1,"fa","fa-exclamation-circle"],[1,"card-body","text-center"],[1,"display-1"],[1,"card-title"],[1,"card-text"],["method","get"],[1,"form-group"],[1,"col-lg-3","mt-0","col-md-5"],[1,"badge","badge"],["pointerEventsMethod","scrollbar",2,"height","450px"],["class","col-xl-4 col-lg-6 mb-4",4,"ngFor","ngForOf"],[1,"col-xl-4","col-lg-6","mb-4"],[1,"flip"],[1,"content"],[1,"front"],[1,"card-header","border-0","rounded-0","text-muted"],[1,"mb-0"],[1,"card-body"],[1,"media"],[1,"media-body","ml-4"],[1,"row"],[1,"col-0","text-gray","text-left","pr-0","text-truncate"],[1,"col-10","pl-2","text-left","text-truncate"],[1,"col-4","text-gray","text-left","pr-0","text-truncate"],[1,"col-6","pl-2","text-left","text-truncate"],[1,"d-flex","flex-column","justify-content-center"],["width","70",1,"rounded",3,"src","error"],[1,"input-group","mb-3","box-shadow"],[1,"input-group-prepend"],[1,"input-group-text","border-top-0","border-left-0","border-bottom-0",3,"click"],[1,"fa","fa-wifi"],["id","myInput",1,"form-control","border-0",3,"ngModel","ngModelChange"],["myInput",""],["src","assets/img/rfid.png","width","70",1,"rounded"],[1,"modal-header-own"],["id","modal-basic-title",1,"modal-title",2,"color","black","margin-top","18px","margin-left","16px"],[1,"modal-body"],[1,"container","mb-3","mt-3"],["id","myInput2","autocomplete","off","type","text","placeholder","Scan bin barcode here...",1,"form-control","border-0",3,"ngModel","ngModelChange"],[1,"input-group-append"],[1,"input-group-text","border-top-0","border-right-0","border-bottom-0"],[1,"fa","fa-reorder"],[1,"button-container"],["type","button",1,"btn","btn-success","mr-1",3,"click"],["type","button",1,"btn","btn-danger","mr-1",3,"click"],[1,"settings2",3,"ngClass"],[1,"btn","btn-danger","btn-rounded",3,"click"],[1,"fa","fa-close"],[1,"settings4",3,"ngClass"],[1,"btn","btn-info","btn-rounded",3,"click"],[1,"fa","fa-television"],[1,"btn","btn-success","btn-rounded"],[1,"fa","fa-check"]],template:function(n,o){1&n&&t.YNc(0,On,19,0,"div",0)(1,Zn,8,2,"div",1)(2,Sn,14,3,"div",1)(3,wn,15,1,"ng-template",null,2,t.W1O)(5,In,4,3,"div",3)(6,Dn,4,3,"div",4)(7,qn,4,3,"div",4),2&n&&(t.Q6J("ngIf",!o.isMobile),t.xp6(1),t.Q6J("ngIf",o.isMobile&&"ITEM"==o.GridType),t.xp6(1),t.Q6J("ngIf",o.isMobile&&"RFID"==o.GridType),t.xp6(3),t.Q6J("ngIf",o.isMobile&&"ITEM"==o.GridType),t.xp6(1),t.Q6J("ngIf",o.isMobile&&"RFID"==o.GridType),t.xp6(1),t.Q6J("ngIf",o.isMobile&&"ITEM"==o.GridType))},dependencies:[_.mk,_.sg,_.O5,T.KC,p._Y,p.Fj,p.JJ,p.JL,p.On,p.F],styles:[".flip[_ngcontent-%COMP%]{width:100%;height:180px;position:relative;-o-perspective:800px;perspective:800px}.flip[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;transition:transform .6s;transform-style:preserve-3d}.flip[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   div.front[_ngcontent-%COMP%], .flip[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   div.back[_ngcontent-%COMP%]{height:100%;width:100%;position:absolute;z-index:0;backface-visibility:hidden}.flip[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   div.front[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%], .flip[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   div.back[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{height:180px}.flip[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   div.back[_ngcontent-%COMP%]{z-index:1;transform:rotateY(180deg)}.flip[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   div.back[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]{width:100%}.flip[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   div.back[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{width:100%;margin-top:-1px}.flip[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   div.back[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#666}.flip[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   div.back[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .fa-check[_ngcontent-%COMP%]{color:#378d3b}.flip[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   div.back[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .fa-times[_ngcontent-%COMP%]{color:#d22e2e}.flip[_ngcontent-%COMP%]   .content.flipped[_ngcontent-%COMP%]{transform:rotateY(180deg)}.z-index-1[_ngcontent-%COMP%]{z-index:1}.app.dark[_ngcontent-%COMP%]   .bg-light[_ngcontent-%COMP%]{background-color:#fff!important}.app.combined[_ngcontent-%COMP%]   .bg-gray[_ngcontent-%COMP%]{background-color:#bcbfc5!important}.modal-body[_ngcontent-%COMP%]{position:relative;flex:1 1 auto;padding:.5rem}.modal-title[_ngcontent-%COMP%]{margin-bottom:0;line-height:.5;color:#fff}.all-caps-input[_ngcontent-%COMP%]{text-transform:uppercase}.container[_ngcontent-%COMP%]{position:relative}.button-container[_ngcontent-%COMP%]{top:10px;margin:10px}.mb-4[_ngcontent-%COMP%], .my-4[_ngcontent-%COMP%]{margin-bottom:.2rem!important}.app.light[_ngcontent-%COMP%]   .widget-controls[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#a6a6a6}.card-footer[_ngcontent-%COMP%]{padding:.1rem 0rem;background-color:#fff;border-top:0px #fff}.col-xl[_ngcontent-%COMP%], .col-xl-auto[_ngcontent-%COMP%], .col-xl-12[_ngcontent-%COMP%], .col-xl-11[_ngcontent-%COMP%], .col-xl-10[_ngcontent-%COMP%], .col-xl-9[_ngcontent-%COMP%], .col-xl-8[_ngcontent-%COMP%], .col-xl-7[_ngcontent-%COMP%], .col-xl-6[_ngcontent-%COMP%], .col-xl-5[_ngcontent-%COMP%], .col-xl-4[_ngcontent-%COMP%], .col-xl-3[_ngcontent-%COMP%], .col-xl-2[_ngcontent-%COMP%], .col-xl-1[_ngcontent-%COMP%], .col-lg[_ngcontent-%COMP%], .col-lg-auto[_ngcontent-%COMP%], .col-lg-12[_ngcontent-%COMP%], .col-lg-11[_ngcontent-%COMP%], .col-lg-10[_ngcontent-%COMP%], .col-lg-9[_ngcontent-%COMP%], .col-lg-8[_ngcontent-%COMP%], .col-lg-7[_ngcontent-%COMP%], .col-lg-6[_ngcontent-%COMP%], .col-lg-5[_ngcontent-%COMP%], .col-lg-4[_ngcontent-%COMP%], .col-lg-3[_ngcontent-%COMP%], .col-lg-2[_ngcontent-%COMP%], .col-lg-1[_ngcontent-%COMP%], .col-md[_ngcontent-%COMP%], .col-md-auto[_ngcontent-%COMP%], .col-md-12[_ngcontent-%COMP%], .col-md-11[_ngcontent-%COMP%], .col-md-10[_ngcontent-%COMP%], .col-md-9[_ngcontent-%COMP%], .col-md-8[_ngcontent-%COMP%], .col-md-7[_ngcontent-%COMP%], .col-md-6[_ngcontent-%COMP%], .col-md-5[_ngcontent-%COMP%], .col-md-4[_ngcontent-%COMP%], .col-md-3[_ngcontent-%COMP%], .col-md-2[_ngcontent-%COMP%], .col-md-1[_ngcontent-%COMP%], .col-sm[_ngcontent-%COMP%], .col-sm-auto[_ngcontent-%COMP%], .col-sm-12[_ngcontent-%COMP%], .col-sm-11[_ngcontent-%COMP%], .col-sm-10[_ngcontent-%COMP%], .col-sm-9[_ngcontent-%COMP%], .col-sm-8[_ngcontent-%COMP%], .col-sm-7[_ngcontent-%COMP%], .col-sm-6[_ngcontent-%COMP%], .col-sm-5[_ngcontent-%COMP%], .col-sm-4[_ngcontent-%COMP%], .col-sm-3[_ngcontent-%COMP%], .col-sm-2[_ngcontent-%COMP%], .col-sm-1[_ngcontent-%COMP%], .col[_ngcontent-%COMP%], .col-auto[_ngcontent-%COMP%], .col-12[_ngcontent-%COMP%], .col-11[_ngcontent-%COMP%], .col-10[_ngcontent-%COMP%], .col-9[_ngcontent-%COMP%], .col-8[_ngcontent-%COMP%], .col-7[_ngcontent-%COMP%], .col-6[_ngcontent-%COMP%], .col-5[_ngcontent-%COMP%], .col-4[_ngcontent-%COMP%], .col-3[_ngcontent-%COMP%], .col-2[_ngcontent-%COMP%], .col-1[_ngcontent-%COMP%]{position:relative;width:100%;padding-right:9px;padding-left:8px}.floating-button[_ngcontent-%COMP%]{position:fixed;bottom:29px;right:190px;z-index:1000}.floatingbtn[_ngcontent-%COMP%]{color:#fff;background-color:#000000bf!important;opacity:.5}.settings2[_ngcontent-%COMP%]{position:fixed;top:80px;right:-300px;z-index:1018;width:340px;transition:all .2s}.settings2.show[_ngcontent-%COMP%]{right:-1px}.settings2[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{position:absolute;left:-158px;padding:7px 12px 7px 10px;z-index:99;color:#efe5e5;bottom:-32rem!important;cursor:pointer}.settings2[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:focus{box-shadow:none}.settings4[_ngcontent-%COMP%]{position:fixed;top:80px;right:-275px;z-index:1018;width:340px;transition:all .2s}.settings4.show[_ngcontent-%COMP%]{right:-1px}.settings4[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{position:absolute;left:-50px;padding:7px 12px 7px 10px;z-index:99;color:#efe5e5;bottom:-32rem!important;cursor:pointer}.settings4[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:focus{box-shadow:none}"]})}return r})(),data:{breadcrumb:"RFID Receiving Stocks"}}];let Nn=(()=>{class r{static#t=this.\u0275fac=function(n){return new(n||r)};static#e=this.\u0275mod=t.oAB({type:r});static#n=this.\u0275inj=t.cJS({imports:[_.ez,T.kb,F.Bz.forChild(R),G.D,b.JF,p.u5,p.UX,P.IJ,J.Hv,x.JX]})}return r})()}}]);