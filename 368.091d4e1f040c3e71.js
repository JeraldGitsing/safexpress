"use strict";(self.webpackChunkstartng=self.webpackChunkstartng||[]).push([[368],{9368:(U,m,r)=>{r.r(m),r.d(m,{VMAuditModule:()=>N,routes:()=>C});var g=r(6814),P=r(2787),s=r(6223),y=r(3362),O=r(25),b=r(8823),c=r(5861),u=r(1486),t=r(9212),v=r(5979),x=r(2425),A=r(3519),l=r.n(A),T=r(9862);let Z=(()=>{class i{constructor(e){this.http=e}getInventory(e){return this.http.get(localStorage.getItem("Server")+"/GetDataQuery?dbName=GTI_WMS_DB"+e)}modDataOnly(e){return this.http.get(localStorage.getItem("Server")+"/DataInQuery?dbName=GTI_WMS_DB"+e)}getDataMethod(e){return this.http.get(localStorage.getItem("Server")+"/GetDataQuery?dbName=GTI_WMS_DB"+e)}AlertOne(e,n,o){l().fire({icon:e,title:n,text:o,allowOutsideClick:!1})}QuerySender(e){return this.http.get(localStorage.getItem("Server")+"/SQLCommandQuery?dbName=GTI_WMS_DB"+e)}busyLoading(){return new Promise((e,n)=>{l().fire({title:"Please wait",html:"loading..",timerProgressBar:!0,allowOutsideClick:!1,didOpen:()=>{l().showLoading(),e()}})})}AlertTwo(e,n,o){l().fire({position:"center",icon:e,title:n,text:o,allowOutsideClick:!0,showConfirmButton:!1,timer:2500})}closeBusyLoading(){l().close()}getBins(e){return this.http.get(localStorage.getItem("Server")+"/GetDataQuery?dbName=GTI_WMS_DB"+e)}static#t=this.\u0275fac=function(n){return new(n||i)(t.LFG(T.eN))};static#e=this.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var I=r(1088),p=r(6472);let w=(()=>{class i{transform(e,n){if(!n||!e)return e;const o=new RegExp(n.trim(),"ig");return e.filter(a=>(a.Description.trim(),-1!==a.Description.trim().search(o)||-1!==a.Name.trim().search(o)||-1!==a.ItemType.trim().search(o)||-1!==a.DistrGroupTech.trim().search(o)))}static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275pipe=t.Yjl({name:"vmAuditPipe",type:i,pure:!1})}return i})();function D(i,M){if(1&i&&(t.TgZ(0,"tr"),t._UZ(1,"td",25)(2,"td",25),t.TgZ(3,"td",26),t._uU(4),t.qZA(),t.TgZ(5,"td",26),t._uU(6),t.qZA(),t.TgZ(7,"td",26),t._uU(8),t.qZA(),t.TgZ(9,"td",26),t._uU(10),t.qZA(),t.TgZ(11,"td",26)(12,"span",27),t._uU(13),t.qZA()(),t.TgZ(14,"td",26)(15,"span",28),t._uU(16),t.qZA()()()),2&i){const e=M.$implicit;t.xp6(4),t.Oqu(e.Description),t.xp6(2),t.Oqu(e.Name),t.xp6(2),t.Oqu(e.ItemType),t.xp6(2),t.Oqu(e.Quantity),t.xp6(3),t.Oqu(e.LastCreateDate),t.xp6(3),t.Oqu(e.DistrGroupTech)}}const S=i=>({itemsPerPage:12,currentPage:i});function k(i,M){if(1&i){const e=t.EpF();t.TgZ(0,"div",11)(1,"div",12)(2,"div",13)(3,"ul",14)(4,"li",15)(5,"a",16),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onLoadInventoryFTW())}),t._uU(6,"Footwear"),t.qZA()(),t.TgZ(7,"li",15)(8,"a",17),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onLoadInventoryAPP())}),t._uU(9,"Apparel"),t.qZA()(),t.TgZ(10,"li",15)(11,"a",18),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onLoadInventoryEQP())}),t._uU(12,"Equipment"),t.qZA()()()(),t.TgZ(13,"div",19)(14,"div",20)(15,"table",21)(16,"thead")(17,"tr"),t._UZ(18,"th")(19,"th"),t.TgZ(20,"th"),t._uU(21,"Item Number"),t.qZA(),t.TgZ(22,"th"),t._uU(23,"Item Description"),t.qZA(),t.TgZ(24,"th"),t._uU(25,"Item Type"),t.qZA(),t.TgZ(26,"th"),t._uU(27,"Quantity"),t.qZA(),t.TgZ(28,"th"),t._uU(29,"Last Invoiced"),t.qZA(),t.TgZ(30,"th"),t._uU(31,"Season"),t.qZA()()(),t.TgZ(32,"tbody"),t.YNc(33,D,17,6,"tr",22),t.ALo(34,"paginate"),t.ALo(35,"vmAuditPipe"),t.qZA()()(),t.TgZ(36,"div",11)(37,"div",12)(38,"div",23)(39,"pagination-controls",24),t.NdJ("pageChange",function(o){t.CHM(e);const a=t.oxw();return t.KtG(a.p1=o)}),t.qZA()()()()()()()}if(2&i){const e=t.oxw();t.xp6(33),t.Q6J("ngForOf",t.xi3(34,3,t.xi3(35,6,e.InventoryDetails,e.searchText),t.VKq(9,S,e.p1))),t.xp6(6),t.Q6J("autoHide",!0)("maxSize",3)}}let f=(()=>{class i{constructor(e,n,o,a,d,h){this.fb=e,this.toastrService=o,this.apiservice=a,this.modalService=d,this.breakpointObserver=h,this.type="list",this.totalQty=0,this.InventoryTransfer=[],this.InventoryFilter=[],this.InvoicedHeader=[],this.RequestDetails=[],this.currentInventory=[],this.SubjectRef=[],this.rowData=[],this.BinControlModel=[],this.parameters={ItemNumberFrom:"",ItemNumberTo:""},this.ControlSettings={enableSearch:!0,checkedStyle:"checkboxes",buttonClasses:"btn btn-outline-gray",dynamicTitleMaxItems:5,displayAllSelectedText:!0,showCheckAll:!0,showUncheckAll:!0},this.ControlTexts={checkAll:"Select all",uncheckAll:"Unselect all",checked:"item selected",checkedPlural:"items selected",searchPlaceholder:"Find...",defaultTitle:"",allSelected:"All selected"},n.backdrop="static",n.keyboard=!1}ngOnInit(){this.type="list",this.onLoadInventoryFTW()}onLoadInventoryFTW(){var e=this;this.InventoryDetails=[],this.apiservice.busyLoading().then((0,c.Z)(function*(){return yield e.getVMAudit("FTW")})).then((0,c.Z)(function*(){return yield e.apiservice.closeBusyLoading()})).catch(n=>this.apiservice.AlertOne("error","Fetching Data","Error while loading the data!"))}onLoadInventoryAPP(){var e=this;this.InventoryDetails=[],this.apiservice.busyLoading().then((0,c.Z)(function*(){return yield e.getVMAudit("APP")})).then((0,c.Z)(function*(){return yield e.apiservice.closeBusyLoading()})).catch(n=>this.apiservice.AlertOne("error","Fetching Data","Error while loading the data!"))}onLoadInventoryEQP(){var e=this;this.InventoryDetails=[],this.apiservice.busyLoading().then((0,c.Z)(function*(){return yield e.getVMAudit("EQP")})).then((0,c.Z)(function*(){return yield e.apiservice.closeBusyLoading()})).catch(n=>this.apiservice.AlertOne("error","Fetching Data","Error while loading the data!"))}getVMAudit(e){var n=this;return(0,c.Z)(function*(){return new Promise(function(){var o=(0,c.Z)(function*(a,d){yield n.apiservice.getInventory("&querytag=getVMAudit&value1="+e+"&value2=&value3=&value4=").subscribe(function(){var h=(0,c.Z)(function*(_){n.InventoryDetails=_,n.InventoryDetails=n.InventoryDetails.filter(L=>L.ItemType===e),a()});return function(_){return h.apply(this,arguments)}}())});return function(a,d){return o.apply(this,arguments)}}())})()}exportToExcel(){const e=u.P6.json_to_sheet(this.InventoryDetails),n=u.P6.book_new();u.P6.book_append_sheet(n,e,"Sheet1"),u.NC(n,"VM Autdit.xlsx")}onclear(){this.BinControlModel=[],this.parameters={ItemNumberFrom:"",ItemNumberTo:""}}static#t=this.\u0275fac=function(n){return new(n||i)(t.Y36(s.QS),t.Y36(v.NM),t.Y36(x._W),t.Y36(Z),t.Y36(v.FF),t.Y36(I.Yg))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-vm-audit"]],decls:12,vars:2,consts:[[1,"row","mb-1"],[1,"col"],[1,"input-group","mb-3","box-shadow"],[1,"input-group-prepend"],[1,"input-group-text","border-top-0","border-left-0","border-bottom-0"],[1,"fa","fa-search"],["type","text","placeholder","Search...",1,"form-control","border-0",3,"ngModel","ngModelChange"],[1,"input-group-append"],[1,"btn","btn-success","mr-1",3,"click"],[1,"fa","fa-download"],["class","row",4,"ngIf"],[1,"row"],[1,"col-12"],[1,"clearfix"],[1,"nav","nav-tabs","custom","top"],[1,"nav-item"],["data-toggle","tab","href","#ta",1,"nav-link","active",3,"click"],["data-toggle","tab","href","#tb",1,"nav-link",3,"click"],["data-toggle","tab","href","#tc",1,"nav-link",3,"click"],[1,"tab-content","top"],[1,"table-responsive","bg-white","box-shadow"],[1,"table","table-hover"],[4,"ngFor","ngForOf"],[1,"bg-white","text-center"],[3,"autoHide","maxSize","pageChange"],[1,"align-middle"],[1,"align-middle","text-truncate"],[1,"badge","badge-success","mr-1"],[1,"badge","badge-warning","mr-1"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"span",4),t._UZ(5,"i",5),t.qZA()(),t.TgZ(6,"input",6),t.NdJ("ngModelChange",function(d){return o.searchText=d}),t.qZA(),t.TgZ(7,"div",7)(8,"button",8),t.NdJ("click",function(){return o.exportToExcel()}),t._UZ(9,"i",9),t._uU(10,"\xa0\xa0export"),t.qZA()()()()(),t.YNc(11,k,40,11,"div",10)),2&n&&(t.xp6(6),t.Q6J("ngModel",o.searchText),t.xp6(5),t.Q6J("ngIf","list"==o.type))},dependencies:[g.sg,g.O5,s.Fj,s.JJ,s.On,p.LS,w,p._s],styles:[".flip[_ngcontent-%COMP%]{width:100%;height:180px;position:relative;-o-perspective:800px;perspective:800px}.flip[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;transition:transform .6s;transform-style:preserve-3d}.flip[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   div.front[_ngcontent-%COMP%], .flip[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   div.back[_ngcontent-%COMP%]{height:100%;width:100%;position:absolute;z-index:0;backface-visibility:hidden}.flip[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   div.front[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%], .flip[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   div.back[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{height:180px}.flip[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   div.back[_ngcontent-%COMP%]{z-index:1;transform:rotateY(180deg)}.flip[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   div.back[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]{width:100%}.flip[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   div.back[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{width:100%;margin-top:-1px}.flip[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   div.back[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#666}.flip[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   div.back[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .fa-check[_ngcontent-%COMP%]{color:#378d3b}.flip[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   div.back[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .fa-times[_ngcontent-%COMP%]{color:#d22e2e}.flip[_ngcontent-%COMP%]   .content.flipped[_ngcontent-%COMP%]{transform:rotateY(180deg)}.z-index-1[_ngcontent-%COMP%]{z-index:1}.app.light[_ngcontent-%COMP%]   .nav-tabs.custom[_ngcontent-%COMP%]{background-color:#cfcfcf!important;border:1px solid #9D9D9D;width:100%}"]})}return i})();var F=r(8101);const C=[{path:"",component:f,pathMatch:"full"},{path:"vmaudit",component:f,data:{breadcrumb:"VM Audit"}}];let N=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275mod=t.oAB({type:i});static#n=this.\u0275inj=t.cJS({imports:[g.ez,P.Bz.forChild(C),s.u5,y.kb,O.a4,b.o,F.D,p.JX]})}return i})()}}]);